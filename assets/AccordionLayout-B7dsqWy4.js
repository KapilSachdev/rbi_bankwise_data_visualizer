import{ao as J,e as C,aJ as un,m as j,j as K,am as vt,al as rt,K as q,aK as as,a2 as Y,a as Vt,aL as hn,aM as is,aN as ns,aO as Ia,aP as os,aQ as ss,aR as pr,b as $,M as W,aS as lr,a0 as kt,aT as ls,ab as X,aU as us,O as Wt,aV as ca,aW as hs,aX as cs,aY as ka,V as lt,aZ as fs,a_ as vs,ah as ft,x as et,a$ as ds,b0 as ps,b1 as gs,A as it,aw as fa,b2 as cn,b3 as ms,b4 as ys,_ as G,b5 as Nr,b6 as _s,b7 as fn,aC as wt,b8 as vn,b9 as Oa,ba as xs,bb as Ve,bc as bs,bd as zr,af as ht,be as Ue,bf as dt,bg as dn,bh as pn,bi as We,bj as Pa,bk as Ss,bl as ws,bm as Cs,ak as Ht,bn as Gr,bo as As,bp as Ms,bq as Ds,br as Ts,bs as Ls,bt as Is,bu as ks,bv as Os,bw as Ps,bx as Es,by as Rs,bz as Bs,bA as Ns,bB as zs,bC as Gs,p as Ea,bD as Ye,bE as Vs,C as _e,S as Vr,ad as Ct,$ as _t,bF as Ws,bG as Hs,bH as Fs,bI as Zs,bJ as Us,bK as Ys,bL as Xs,bM as js,ag as gn,bN as $s,bO as Ks,bP as qs,bQ as Js,bR as Qs,bS as tl,ac as mn,bT as yn,bU as Q,bV as _n,bW as Xe,bX as xn,bY as Le,bZ as Wr,b_ as el,G as ct,J as Ft,t as P,b$ as Ra,D as rl,E as al,u as qt,s as il,f as ur,k as va,I as bn,c0 as nl,n as da,q as Hr,g as tt,c1 as Ba,H as ol,d as sl,c2 as ll,c3 as Na,c4 as za,P as Sn,h as ul,R as st,c5 as Jt,v as Ga,c6 as Fr,c7 as Va,a4 as gt,c8 as hl,l as cl,c9 as fl,z as Wa,ca as vl,cb as hr,cc as je,au as dl,N as nt,cd as pl,ce as wn,Z as pt,cf as Qt,cg as gl,ch as te,ci as Cn,cj as An,ck as pa,aD as $e,cl as Zt,a6 as ga,L as Ke,cm as qe,cn as Ha,co as ml,cp as yl,cq as Je,a7 as cr,a8 as Ut,cr as _l,cs as xl,ct as $t,cu as Qe,cv as Fa,cw as Za,cx as bl,cy as Zr,az as Ur,cz as Ua,cA as Se,Q as Mn,cB as Sl,a3 as Dn,cC as fr,cD as tr,cE as wl,cF as Yr,cG as ma,ae as ot,cH as Cl,cI as me,cJ as Tn,ai as Ya,cK as Al,cL as Ml,cM as Dl,cN as Ln,cO as Tl,cP as Ll,cQ as Il,ar as Xa,cR as kl,cS as gr,cT as ja,cU as $a,cV as Ol,cW as Pl,cX as El,cY as Rl,cZ as Ka,c_ as Bl,c$ as Nl,d0 as zl,d1 as Xr,a9 as xe,d2 as Gl,d3 as Vl,i as ya,d4 as Wl,X as Hl,W as Fl,T as Zl,U as Ul,d5 as In,d6 as jr,d7 as kn,d8 as Yl,d9 as Xl,da as jl,db as $l,dc as Kl,dd as Ie,de as ql,df as Jl,dg as Ql,dh as ke,aE as U,aF as z,aG as On}from"./index-D66rBVsn.js";import{E as Pn}from"./EChartsContainer-BqpuueuC.js";import{P as En}from"./Pills-CH6JlYRY.js";import{T as Rn,R as Bn}from"./TopNInput-BtnpE1SK.js";function ie(a){return a==null?0:a.length||1}function qa(a){return a}var tu=(function(){function a(e,t,r,i,n,o){this._old=e,this._new=t,this._oldKeyGetter=r||qa,this._newKeyGetter=i||qa,this.context=n,this._diffModeMultiple=o==="multiple"}return a.prototype.add=function(e){return this._add=e,this},a.prototype.update=function(e){return this._update=e,this},a.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},a.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},a.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},a.prototype.remove=function(e){return this._remove=e,this},a.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},a.prototype._executeOneToOne=function(){var e=this._old,t=this._new,r={},i=new Array(e.length),n=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,r,n,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=i[o],l=r[s],u=ie(l);if(u>1){var h=l.shift();l.length===1&&(r[s]=l[0]),this._update&&this._update(h,o)}else u===1?(r[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(n,r)},a.prototype._executeMultiple=function(){var e=this._old,t=this._new,r={},i={},n=[],o=[];this._initIndexMap(e,r,n,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var s=0;s<n.length;s++){var l=n[s],u=r[l],h=i[l],c=ie(u),v=ie(h);if(c>1&&v===1)this._updateManyToOne&&this._updateManyToOne(h,u),i[l]=null;else if(c===1&&v>1)this._updateOneToMany&&this._updateOneToMany(h,u),i[l]=null;else if(c===1&&v===1)this._update&&this._update(h,u),i[l]=null;else if(c>1&&v>1)this._updateManyToMany&&this._updateManyToMany(h,u),i[l]=null;else if(c>1)for(var f=0;f<c;f++)this._remove&&this._remove(u[f]);else this._remove&&this._remove(u)}this._performRestAdd(o,i)},a.prototype._performRestAdd=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],n=t[i],o=ie(n);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(n[s]);else o===1&&this._add&&this._add(n);t[i]=null}},a.prototype._initIndexMap=function(e,t,r,i){for(var n=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[i](e[o],o);if(n||(r[o]=s),!!t){var l=t[s],u=ie(l);u===0?(t[s]=o,n&&r.push(s)):u===1?t[s]=[l,o]:l.push(o)}}},a})(),eu=(function(){function a(e,t){this._encode=e,this._schema=t}return a.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},a.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},a})();function ru(a,e){var t={},r=t.encode={},i=J(),n=[],o=[],s={};C(a.dimensions,function(v){var f=a.getDimensionInfo(v),d=f.coordDim;if(d){var p=f.coordDimIndex;mr(r,d)[p]=v,f.isExtraCoord||(i.set(d,1),iu(f.type)&&(n[0]=v),mr(s,d)[p]=a.getDimensionIndex(f.name)),f.defaultTooltip&&o.push(v)}un.each(function(y,g){var m=mr(r,g),_=f.otherDims[g];_!=null&&_!==!1&&(m[_]=f.name)})});var l=[],u={};i.each(function(v,f){var d=r[f];u[f]=d[0],l=l.concat(d)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=j(l,function(v){return a.getDimensionInfo(v).storeDimIndex}),t.encodeFirstDimNotExtra=u;var h=r.label;h&&h.length&&(n=h.slice());var c=r.tooltip;return c&&c.length?o=c.slice():o.length||(o=n.slice()),r.defaultedLabel=n,r.defaultedTooltip=o,t.userOutput=new eu(s,e),t}function mr(a,e){return a.hasOwnProperty(e)||(a[e]=[]),a[e]}function au(a){return a==="category"?"ordinal":a==="time"?"time":"float"}function iu(a){return!(a==="ordinal"||a==="time")}var He=(function(){function a(e){this.otherDims={},e!=null&&K(this,e)}return a})(),nu=vt(),ou={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Nn=(function(){function a(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return a.prototype.isDimensionOmitted=function(){return this._dimOmitted},a.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=Vn(this.source)))},a.prototype.getSourceDimensionIndex=function(e){return q(this._dimNameMap.get(e),-1)},a.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},a.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=as(this.source),r=!Wn(e),i="",n=[],o=0,s=0;o<e;o++){var l=void 0,u=void 0,h=void 0,c=this.dimensions[s];if(c&&c.storeDimIndex===o)l=t?c.name:null,u=c.type,h=c.ordinalMeta,s++;else{var v=this.getSourceDimension(o);v&&(l=t?v.name:null,u=v.type)}n.push({property:l,type:u,ordinalMeta:h}),t&&l!=null&&(!c||!c.isCalculationCoord)&&(i+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=ou[u]||"f",h&&(i+=h.uid),i+="$"}var f=this.source,d=[f.seriesLayoutBy,f.startIndex,i].join("$$");return{dimensions:n,hash:d}},a.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,r=0;t<this._fullDimCount;t++){var i=void 0,n=this.dimensions[r];if(n&&n.storeDimIndex===t)n.isCalculationCoord||(i=n.name),r++;else{var o=this.getSourceDimension(t);o&&(i=o.name)}e.push(i)}return e},a.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},a})();function zn(a){return a instanceof Nn}function Gn(a){for(var e=J(),t=0;t<(a||[]).length;t++){var r=a[t],i=rt(r)?r.name:r;i!=null&&e.get(i)==null&&e.set(i,t)}return e}function Vn(a){var e=nu(a);return e.dimNameMap||(e.dimNameMap=Gn(a.dimensionsDefine))}function Wn(a){return a>30}var ne=rt,At=j,su=typeof Int32Array>"u"?Array:Int32Array,lu="e\0\0",Ja=-1,uu=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],hu=["_approximateExtent"],Qa,Oe,oe,se,yr,le,_r,cu=(function(){function a(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var r,i=!1;zn(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,r=e),r=r||["x","y"];for(var n={},o=[],s={},l=!1,u={},h=0;h<r.length;h++){var c=r[h],v=Y(c)?new He({name:c}):c instanceof He?c:new He(c),f=v.name;v.type=v.type||"float",v.coordDim||(v.coordDim=f,v.coordDimIndex=0);var d=v.otherDims=v.otherDims||{};o.push(f),n[f]=v,u[f]!=null&&(l=!0),v.createInvertedIndices&&(s[f]=[]);var p=h;Vt(v.storeDimIndex)&&(p=v.storeDimIndex),d.itemName===0&&(this._nameDimIdx=p),d.itemId===0&&(this._idDimIdx=p),i&&(v.storeDimIndex=h)}if(this.dimensions=o,this._dimInfos=n,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=s,this._dimOmitted){var y=this._dimIdxToName=J();C(o,function(g){y.set(n[g].storeDimIndex,g)})}}return a.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var r=this._dimIdxToName.get(t);if(r!=null)return r;var i=this._schema.getSourceDimension(t);if(i)return i.name},a.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},a.prototype._recognizeDimIndex=function(e){if(Vt(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},a.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},a.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},a.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(r){return t.hasOwnProperty(r)?t[r]:void 0}:function(r){return t[r]}},a.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},a.prototype.mapDimension=function(e,t){var r=this._dimSummary;if(t==null)return r.encodeFirstDimNotExtra[e];var i=r.encode[e];return i?i[t]:null},a.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,r=t.encode[e];return(r||[]).slice()},a.prototype.getStore=function(){return this._store},a.prototype.initData=function(e,t,r){var i=this,n;if(e instanceof Ia&&(n=e),!n){var o=this.dimensions,s=hn(e)||is(e)?new ns(e,o.length):e;n=new Ia;var l=At(o,function(u){return{type:i._dimInfos[u].type,property:u}});n.initData(s,l,r)}this._store=n,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,n.count()),this._dimSummary=ru(this,this._schema),this.userOutput=this._dimSummary.userOutput},a.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},a.prototype.appendValues=function(e,t){var r=this._store.appendValues(e,t&&t.length),i=r.start,n=r.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var s=i;s<n;s++){var l=s-i;this._nameList[s]=t[l],o&&_r(this,s)}},a.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,r=0;r<t.length;r++){var i=this._dimInfos[t[r]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},a.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==os&&!e.fillStorage},a.prototype._doInit=function(e,t){if(!(e>=t)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var n=this._nameList,o=this._idList,s=i.getSource().sourceFormat,l=s===ca;if(l&&!i.pure)for(var u=[],h=e;h<t;h++){var c=i.getItem(h,u);if(!this.hasItemOption&&ss(c)&&(this.hasItemOption=!0),c){var v=c.name;n[h]==null&&v!=null&&(n[h]=pr(v,null));var f=c.id;o[h]==null&&f!=null&&(o[h]=pr(f,null))}}if(this._shouldMakeIdFromName())for(var h=e;h<t;h++)_r(this,h);Qa(this)}},a.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},a.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},a.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},a.prototype.setCalculationInfo=function(e,t){ne(e)?K(this._calculationInfo,e):this._calculationInfo[e]=t},a.prototype.getName=function(e){var t=this.getRawIndex(e),r=this._nameList[t];return r==null&&this._nameDimIdx!=null&&(r=oe(this,this._nameDimIdx,t)),r==null&&(r=""),r},a.prototype._getCategory=function(e,t){var r=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[r]:r},a.prototype.getId=function(e){return Oe(this,this.getRawIndex(e))},a.prototype.count=function(){return this._store.count()},a.prototype.get=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.get(i.storeDimIndex,t)},a.prototype.getByRawIndex=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.getByRawIndex(i.storeDimIndex,t)},a.prototype.getIndices=function(){return this._store.getIndices()},a.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},a.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},a.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},a.prototype.getValues=function(e,t){var r=this,i=this._store;return $(e)?i.getValues(At(e,function(n){return r._getStoreDimIndex(n)}),t):i.getValues(e)},a.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,r=0,i=t.length;r<i;r++)if(isNaN(this._store.get(t[r],e)))return!1;return!0},a.prototype.indexOfName=function(e){for(var t=0,r=this._store.count();t<r;t++)if(this.getName(t)===e)return t;return-1},a.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},a.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},a.prototype.rawIndexOf=function(e,t){var r=e&&this._invertedIndicesMap[e],i=r&&r[t];return i==null||isNaN(i)?Ja:i},a.prototype.each=function(e,t,r){X(e)&&(r=t,t=e,e=[]);var i=r||this,n=At(se(e),this._getStoreDimIndex,this);this._store.each(n,i?W(t,i):t)},a.prototype.filterSelf=function(e,t,r){X(e)&&(r=t,t=e,e=[]);var i=r||this,n=At(se(e),this._getStoreDimIndex,this);return this._store=this._store.filter(n,i?W(t,i):t),this},a.prototype.selectRange=function(e){var t=this,r={},i=lr(e);return C(i,function(n){var o=t._getStoreDimIndex(n);r[o]=e[n]}),this._store=this._store.selectRange(r),this},a.prototype.mapArray=function(e,t,r){X(e)&&(r=t,t=e,e=[]),r=r||this;var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},r),i},a.prototype.map=function(e,t,r,i){var n=r||i||this,o=At(se(e),this._getStoreDimIndex,this),s=le(this);return s._store=this._store.map(o,n?W(t,n):t),s},a.prototype.modify=function(e,t,r,i){var n=r||i||this,o=At(se(e),this._getStoreDimIndex,this);this._store.modify(o,n?W(t,n):t)},a.prototype.downSample=function(e,t,r,i){var n=le(this);return n._store=this._store.downSample(this._getStoreDimIndex(e),t,r,i),n},a.prototype.minmaxDownSample=function(e,t){var r=le(this);return r._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),t),r},a.prototype.lttbDownSample=function(e,t){var r=le(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),r},a.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},a.prototype.getItemModel=function(e){var t=this.hostModel,r=this.getRawDataItem(e);return new kt(r,t,t&&t.ecModel)},a.prototype.diff=function(e){var t=this;return new tu(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return Oe(e,r)},function(r){return Oe(t,r)})},a.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},a.prototype.setVisual=function(e,t){this._visual=this._visual||{},ne(e)?K(this._visual,e):this._visual[e]=t},a.prototype.getItemVisual=function(e,t){var r=this._itemVisuals[e],i=r&&r[t];return i??this.getVisual(t)},a.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},a.prototype.ensureUniqueItemVisual=function(e,t){var r=this._itemVisuals,i=r[e];i||(i=r[e]={});var n=i[t];return n==null&&(n=this.getVisual(t),$(n)?n=n.slice():ne(n)&&(n=K({},n)),i[t]=n),n},a.prototype.setItemVisual=function(e,t,r){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,ne(t)?K(i,t):i[t]=r},a.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},a.prototype.setLayout=function(e,t){ne(e)?K(this._layout,e):this._layout[e]=t},a.prototype.getLayout=function(e){return this._layout[e]},a.prototype.getItemLayout=function(e){return this._itemLayouts[e]},a.prototype.setItemLayout=function(e,t,r){this._itemLayouts[e]=r?K(this._itemLayouts[e]||{},t):t},a.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},a.prototype.setItemGraphicEl=function(e,t){var r=this.hostModel&&this.hostModel.seriesIndex;ls(r,this.dataType,e,t),this._graphicEls[e]=t},a.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},a.prototype.eachItemGraphicEl=function(e,t){C(this._graphicEls,function(r,i){r&&e&&e.call(t,r,i)})},a.prototype.cloneShallow=function(e){return e||(e=new a(this._schema?this._schema:At(this.dimensions,this._getDimInfo,this),this.hostModel)),yr(e,this),e._store=this._store,e},a.prototype.wrapMethod=function(e,t){var r=this[e];X(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=r.apply(this,arguments);return t.apply(this,[i].concat(us(arguments)))})},a.internalField=(function(){Qa=function(e){var t=e._invertedIndicesMap;C(t,function(r,i){var n=e._dimInfos[i],o=n.ordinalMeta,s=e._store;if(o){r=t[i]=new su(o.categories.length);for(var l=0;l<r.length;l++)r[l]=Ja;for(var l=0;l<s.count();l++)r[s.get(n.storeDimIndex,l)]=l}})},oe=function(e,t,r){return pr(e._getCategory(t,r),null)},Oe=function(e,t){var r=e._idList[t];return r==null&&e._idDimIdx!=null&&(r=oe(e,e._idDimIdx,t)),r==null&&(r=lu+t),r},se=function(e){return $(e)||(e=e!=null?[e]:[]),e},le=function(e){var t=new a(e._schema?e._schema:At(e.dimensions,e._getDimInfo,e),e.hostModel);return yr(t,e),t},yr=function(e,t){C(uu.concat(t.__wrappedMethods||[]),function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e.__wrappedMethods=t.__wrappedMethods,C(hu,function(r){e[r]=Wt(t[r])}),e._calculationInfo=K({},t._calculationInfo)},_r=function(e,t){var r=e._nameList,i=e._idList,n=e._nameDimIdx,o=e._idDimIdx,s=r[t],l=i[t];if(s==null&&n!=null&&(r[t]=s=oe(e,n,t)),l==null&&o!=null&&(i[t]=l=oe(e,o,t)),l==null&&s!=null){var u=e._nameRepeatCount,h=u[s]=(u[s]||0)+1;l=s,h>1&&(l+="__ec__"+h),i[t]=l}}})(),a})();function fu(a,e){hn(a)||(a=hs(a)),e=e||{};var t=e.coordDimensions||[],r=e.dimensionsDefine||a.dimensionsDefine||[],i=J(),n=[],o=du(a,t,r,e.dimensionsCount),s=e.canOmitUnusedDimensions&&Wn(o),l=r===a.dimensionsDefine,u=l?Vn(a):Gn(r),h=e.encodeDefine;!h&&e.encodeDefaulter&&(h=e.encodeDefaulter(a,o));for(var c=J(h),v=new cs(o),f=0;f<v.length;f++)v[f]=-1;function d(D){var M=v[D];if(M<0){var A=r[D],I=rt(A)?A:{name:A},T=new He,k=I.name;k!=null&&u.get(k)!=null&&(T.name=T.displayName=k),I.type!=null&&(T.type=I.type),I.displayName!=null&&(T.displayName=I.displayName);var O=n.length;return v[D]=O,T.storeDimIndex=D,n.push(T),T}return n[M]}if(!s)for(var f=0;f<o;f++)d(f);c.each(function(D,M){var A=ka(D).slice();if(A.length===1&&!Y(A[0])&&A[0]<0){c.set(M,!1);return}var I=c.set(M,[]);C(A,function(T,k){var O=Y(T)?u.get(T):T;O!=null&&O<o&&(I[k]=O,y(d(O),M,k))})});var p=0;C(t,function(D){var M,A,I,T;if(Y(D))M=D,T={};else{T=D,M=T.name;var k=T.ordinalMeta;T.ordinalMeta=null,T=K({},T),T.ordinalMeta=k,A=T.dimsDef,I=T.otherDims,T.name=T.coordDim=T.coordDimIndex=T.dimsDef=T.otherDims=null}var O=c.get(M);if(O!==!1){if(O=ka(O),!O.length)for(var E=0;E<(A&&A.length||1);E++){for(;p<o&&d(p).coordDim!=null;)p++;p<o&&O.push(p++)}C(O,function(F,R){var B=d(F);if(l&&T.type!=null&&(B.type=T.type),y(lt(B,T),M,R),B.name==null&&A){var V=A[R];!rt(V)&&(V={name:V}),B.name=B.displayName=V.name,B.defaultTooltip=V.defaultTooltip}I&&lt(B.otherDims,I)})}});function y(D,M,A){un.get(M)!=null?D.otherDims[M]=A:(D.coordDim=M,D.coordDimIndex=A,i.set(M,!0))}var g=e.generateCoord,m=e.generateCoordCount,_=m!=null;m=g?m||1:0;var x=g||"value";function b(D){D.name==null&&(D.name=D.coordDim)}if(s)C(n,function(D){b(D)}),n.sort(function(D,M){return D.storeDimIndex-M.storeDimIndex});else for(var w=0;w<o;w++){var S=d(w),L=S.coordDim;L==null&&(S.coordDim=pu(x,i,_),S.coordDimIndex=0,(!g||m<=0)&&(S.isExtraCoord=!0),m--),b(S),S.type==null&&(fs(a,w)===vs.Must||S.isExtraCoord&&(S.otherDims.itemName!=null||S.otherDims.seriesName!=null))&&(S.type="ordinal")}return vu(n),new Nn({source:a,dimensions:n,fullDimensionCount:o,dimensionOmitted:s})}function vu(a){for(var e=J(),t=0;t<a.length;t++){var r=a[t],i=r.name,n=e.get(i)||0;n>0&&(r.name=i+(n-1)),n++,e.set(i,n)}}function du(a,e,t,r){var i=Math.max(a.dimensionsDetectedCount||1,e.length,t.length,r||0);return C(e,function(n){var o;rt(n)&&(o=n.dimsDef)&&(i=Math.max(i,o.length))}),i}function pu(a,e,t){if(t||e.hasKey(a)){for(var r=0;e.hasKey(a+r);)r++;a+=r}return e.set(a,!0),a}var gu=(function(){function a(e){this.coordSysDims=[],this.axisMap=J(),this.categoryAxisMap=J(),this.coordSysName=e}return a})();function mu(a){var e=a.get("coordinateSystem"),t=new gu(e),r=yu[e];if(r)return r(a,t,t.axisMap,t.categoryAxisMap),t}var yu={cartesian2d:function(a,e,t,r){var i=a.getReferringComponents("xAxis",ft).models[0],n=a.getReferringComponents("yAxis",ft).models[0];e.coordSysDims=["x","y"],t.set("x",i),t.set("y",n),Yt(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),Yt(n)&&(r.set("y",n),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(a,e,t,r){var i=a.getReferringComponents("singleAxis",ft).models[0];e.coordSysDims=["single"],t.set("single",i),Yt(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(a,e,t,r){var i=a.getReferringComponents("polar",ft).models[0],n=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",n),t.set("angle",o),Yt(n)&&(r.set("radius",n),e.firstCategoryDimIndex=0),Yt(o)&&(r.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(a,e,t,r){e.coordSysDims=["lng","lat"]},parallel:function(a,e,t,r){var i=a.ecModel,n=i.getComponent("parallel",a.get("parallelIndex")),o=e.coordSysDims=n.dimensions.slice();C(n.parallelAxisIndex,function(s,l){var u=i.getComponent("parallelAxis",s),h=o[l];t.set(h,u),Yt(u)&&(r.set(h,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})},matrix:function(a,e,t,r){var i=a.getReferringComponents("matrix",ft).models[0];e.coordSysDims=["x","y"];var n=i.getDimensionModel("x"),o=i.getDimensionModel("y");t.set("x",n),t.set("y",o),r.set("x",n),r.set("y",o)}};function Yt(a){return a.get("type")==="category"}function _u(a,e,t){t=t||{};var r=t.byIndex,i=t.stackedCoordDimension,n,o,s;xu(e)?n=e:(o=e.schema,n=o.dimensions,s=e.store);var l=!!(a&&a.get("stack")),u,h,c,v;if(C(n,function(m,_){Y(m)&&(n[_]=m={name:m}),l&&!m.isExtraCoord&&(!r&&!u&&m.ordinalMeta&&(u=m),!h&&m.type!=="ordinal"&&m.type!=="time"&&(!i||i===m.coordDim)&&(h=m))}),h&&!r&&!u&&(r=!0),h){c="__\0ecstackresult_"+a.id,v="__\0ecstackedover_"+a.id,u&&(u.createInvertedIndices=!0);var f=h.coordDim,d=h.type,p=0;C(n,function(m){m.coordDim===f&&p++});var y={name:c,coordDim:f,coordDimIndex:p,type:d,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:n.length},g={name:v,coordDim:v,coordDimIndex:p+1,type:d,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:n.length+1};o?(s&&(y.storeDimIndex=s.ensureCalculationDimension(v,d),g.storeDimIndex=s.ensureCalculationDimension(c,d)),o.appendCalculationDimension(y),o.appendCalculationDimension(g)):(n.push(y),n.push(g))}return{stackedDimension:h&&h.name,stackedByDimension:u&&u.name,isStackedByIndex:r,stackedOverDimension:v,stackResultDimension:c}}function xu(a){return!zn(a.schema)}function ee(a,e){return!!e&&e===a.getCalculationInfo("stackedDimension")}function bu(a,e){return ee(a,e)?a.getCalculationInfo("stackResultDimension"):e}function Su(a,e){var t=a.get("coordinateSystem"),r=ps.get(t),i;return e&&e.coordSysDims&&(i=j(e.coordSysDims,function(n){var o={name:n},s=e.axisMap.get(n);if(s){var l=s.get("type");o.type=au(l)}return o})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function wu(a,e,t){var r,i;return t&&C(a,function(n,o){var s=n.coordDim,l=t.categoryAxisMap.get(s);l&&(r==null&&(r=o),n.ordinalMeta=l.getOrdinalMeta(),e&&(n.createInvertedIndices=!0)),n.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(a[r].otherDims.itemName=0),r}function Cu(a,e,t){t=t||{};var r=e.getSourceManager(),i,n=!1;i=r.getSource(),n=i.sourceFormat===ca;var o=mu(e),s=Su(e,o),l=t.useEncodeDefaulter,u=X(l)?l:l?et(ds,s,e):null,h={coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!n},c=fu(i,h),v=wu(c.dimensions,t.createInvertedIndices,o),f=n?null:r.getSharedDataStore(c),d=_u(e,{schema:c,store:f}),p=new cu(c,e);p.setCalculationInfo(d);var y=v!=null&&Au(i)?function(g,m,_,x){return x===v?_:this.defaultDimValueGetter(g,m,_,x)}:null;return p.hasItemOption=!1,p.initData(n?i:f,null,y),p}function Au(a){if(a.sourceFormat===ca){var e=Mu(a.data||[]);return!$(gs(e))}}function Mu(a){for(var e=0;e<a.length&&a[e]==null;)e++;return a[e]}function $r(a){return a.type==="interval"||a.type==="log"}function Du(a,e,t,r,i){var n={},o=n.interval=cn(e/t);r!=null&&o<r&&(o=n.interval=r),i!=null&&o>i&&(o=n.interval=i);var s=n.intervalPrecision=we(o),l=n.niceTickExtent=[it(Math.ceil(a[0]/o)*o,s),it(Math.floor(a[1]/o)*o,s)];return Tu(l,a),n}function xr(a){var e=Math.pow(10,ms(a)),t=a/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,it(t*e)}function we(a){return fa(a)+2}function ti(a,e,t){a[e]=Math.max(Math.min(a[e],t[1]),t[0])}function Tu(a,e){!isFinite(a[0])&&(a[0]=e[0]),!isFinite(a[1])&&(a[1]=e[1]),ti(a,0,e),ti(a,1,e),a[0]>a[1]&&(a[0]=a[1])}function _a(a,e){return a>=e[0]&&a<=e[1]}var Lu=(function(){function a(){this.normalize=ei,this.scale=ri}return a.prototype.updateMethods=function(e){e.hasBreaks()?(this.normalize=W(e.normalize,e),this.scale=W(e.scale,e)):(this.normalize=ei,this.scale=ri)},a})();function ei(a,e){return e[1]===e[0]?.5:(a-e[0])/(e[1]-e[0])}function ri(a,e){return a*(e[1]-e[0])+e[0]}function Kr(a,e,t){var r=Math.log(a);return[Math.log(t?e[0]:Math.max(0,e[0]))/r,Math.log(t?e[1]:Math.max(0,e[1]))/r]}var Bt=(function(){function a(e){this._calculator=new Lu,this._setting=e||{},this._extent=[1/0,-1/0]}return a.prototype.getSetting=function(e){return this._setting[e]},a.prototype._innerUnionExtent=function(e){var t=this._extent;this._innerSetExtent(e[0]<t[0]?e[0]:t[0],e[1]>t[1]?e[1]:t[1])},a.prototype.unionExtentFromData=function(e,t){this._innerUnionExtent(e.getApproximateExtent(t))},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.setExtent=function(e,t){this._innerSetExtent(e,t)},a.prototype._innerSetExtent=function(e,t){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(t)||(r[1]=t),this._brkCtx&&this._brkCtx.update(r)},a.prototype.setBreaksFromOption=function(e){},a.prototype._innerSetBreak=function(e){this._brkCtx&&(this._brkCtx.setBreaks(e),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},a.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},a.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},a.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},a.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},a.prototype.isBlank=function(){return this._isBlank},a.prototype.setBlank=function(e){this._isBlank=e},a})();ys(Bt);var Iu=0,qr=(function(){function a(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++Iu,this._onCollect=e.onCollect}return a.createByAxisModel=function(e){var t=e.option,r=t.data,i=r&&j(r,ku);return new a({categories:i,needCollect:!i,deduplication:t.dedplication!==!1})},a.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},a.prototype.parseAndCollect=function(e){var t,r=this._needCollect;if(!Y(e)&&!r)return e;if(r&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,this._onCollect&&this._onCollect(e,t),t;var i=this._getOrCreateMap();return t=i.get(e),t==null&&(r?(t=this.categories.length,this.categories[t]=e,i.set(e,t),this._onCollect&&this._onCollect(e,t)):t=NaN),t},a.prototype._getOrCreateMap=function(){return this._map||(this._map=J(this.categories))},a})();function ku(a){return rt(a)&&a.value!=null?a.value:a+""}var Hn=(function(a){G(e,a);function e(t){var r=a.call(this,t)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new qr({})),$(i)&&(i=new qr({categories:j(i,function(n){return rt(n)?n.value:n})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return e.prototype.parse=function(t){return t==null?NaN:Y(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return _a(t,this._extent)&&t>=0&&t<this._ordinalMeta.categories.length},e.prototype.normalize=function(t){return t=this._getTickNumber(t),this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(this._calculator.scale(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],r=this._extent,i=r[0];i<=r[1];)t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],n=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,r.length);o<l;++o){var u=r[o];i[o]=u,n[u]=o}for(var h=0;o<s;++o){for(;n[h]!=null;)h++;i.push(h),n[h]=o}},e.prototype._getTickNumber=function(t){var r=this._ticksByOrdinalNumber;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getRawOrdinalNumber=function(t){var r=this._ordinalNumbersByTick;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var r=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e})(Bt);Bt.registerClass(Hn);var Mt=it,re=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t==null||t===""?NaN:Number(t)},e.prototype.contain=function(t){return _a(t,this._extent)},e.prototype.normalize=function(t){return this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return this._calculator.scale(t,this._extent)},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=we(t)},e.prototype.getTicks=function(t){t=t||{};var r=this._interval,i=this._extent,n=this._niceExtent,o=this._intervalPrecision,s=Nr(),l=[];if(!r)return l;t.breakTicks;var u=1e4;i[0]<n[0]&&(t.expandToNicedExtent?l.push({value:Mt(n[0]-r,o)}):l.push({value:i[0]}));for(var h=function(d,p){return Math.round((p-d)/r)},c=n[0];c<=n[1];){if(l.push({value:c}),c=Mt(c+r,o),this._brkCtx){var v=this._brkCtx.calcNiceTickMultiple(c,h);v>=0&&(c=Mt(c+v*r,o))}if(l.length>0&&c===l[l.length-1].value)break;if(l.length>u)return[]}var f=l.length?l[l.length-1].value:n[1];return i[1]>f&&(t.expandToNicedExtent?l.push({value:Mt(f+r,o)}):l.push({value:i[1]})),t.breakTicks,l},e.prototype.getMinorTicks=function(t){for(var r=this.getTicks({expandToNicedExtent:!0}),i=[],n=this.getExtent(),o=1;o<r.length;o++){var s=r[o],l=r[o-1];if(!(l.break||s.break)){for(var u=0,h=[],c=s.value-l.value,v=c/t,f=we(v);u<t-1;){var d=Mt(l.value+(u+1)*v,f);d>n[0]&&d<n[1]&&h.push(d),u++}var p=Nr();p&&p.pruneTicksByBreak("auto",h,this._getNonTransBreaks(),function(y){return y},this._interval,n),i.push(h)}}return i},e.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},e.prototype.getLabel=function(t,r){if(t==null)return"";var i=r&&r.precision;i==null?i=fa(t.value)||0:i==="auto"&&(i=this._intervalPrecision);var n=Mt(t.value,i,!0);return _s(n)},e.prototype.calcNiceTicks=function(t,r,i){t=t||5;var n=this._extent.slice(),o=this._getExtentSpanWithBreaks();if(isFinite(o)){o<0&&(o=-o,n.reverse(),this._innerSetExtent(n[0],n[1]),n=this._extent.slice());var s=Du(n,o,t,r,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var r=this._extent.slice();if(r[0]===r[1])if(r[0]!==0){var i=Math.abs(r[0]);t.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var n=r[1]-r[0];isFinite(n)||(r[0]=0,r[1]=1),this._innerSetExtent(r[0],r[1]),r=this._extent.slice(),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval,s=this._intervalPrecision;t.fixMin||(r[0]=Mt(Math.floor(r[0]/o)*o,s)),t.fixMax||(r[1]=Mt(Math.ceil(r[1]/o)*o,s)),this._innerSetExtent(r[0],r[1])},e.prototype.setNiceExtent=function(t,r){this._niceExtent=[t,r]},e.type="interval",e})(Bt);Bt.registerClass(re);var Fn=typeof Float32Array<"u",Ou=Fn?Float32Array:Array;function bt(a){return $(a)?Fn?new Float32Array(a):a:new Ou(a)}var Pu="__ec_stack_";function Zn(a){return a.get("stack")||Pu+a.seriesIndex}function xa(a){return a.dim+a.index}function Un(a,e){var t=[];return e.eachSeriesByType(a,function(r){Xn(r)&&t.push(r)}),t}function Eu(a){var e={};C(a,function(l){var u=l.coordinateSystem,h=u.getBaseAxis();if(!(h.type!=="time"&&h.type!=="value"))for(var c=l.getData(),v=h.dim+"_"+h.index,f=c.getDimensionIndex(c.mapDimension(h.dim)),d=c.getStore(),p=0,y=d.count();p<y;++p){var g=d.get(f,p);e[v]?e[v].push(g):e[v]=[g]}});var t={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i){i.sort(function(l,u){return l-u});for(var n=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(n=n===null?s:Math.min(n,s))}t[r]=n}}return t}function Yn(a){var e=Eu(a),t=[];return C(a,function(r){var i=r.coordinateSystem,n=i.getBaseAxis(),o=n.getExtent(),s;if(n.type==="category")s=n.getBandWidth();else if(n.type==="value"||n.type==="time"){var l=n.dim+"_"+n.index,u=e[l],h=Math.abs(o[1]-o[0]),c=n.scale.getExtent(),v=Math.abs(c[1]-c[0]);s=u?h/v*u:h}else{var f=r.getData();s=Math.abs(o[1]-o[0])/f.count()}var d=wt(r.get("barWidth"),s),p=wt(r.get("barMaxWidth"),s),y=wt(r.get("barMinWidth")||(jn(r)?.5:1),s),g=r.get("barGap"),m=r.get("barCategoryGap"),_=r.get("defaultBarGap");t.push({bandWidth:s,barWidth:d,barMaxWidth:p,barMinWidth:y,barGap:g,barCategoryGap:m,defaultBarGap:_,axisKey:xa(n),stackId:Zn(r)})}),Ru(t)}function Ru(a){var e={};C(a,function(r,i){var n=r.axisKey,o=r.bandWidth,s=e[n]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:r.defaultBarGap||0,stacks:{}},l=s.stacks;e[n]=s;var u=r.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var h=r.barWidth;h&&!l[u].width&&(l[u].width=h,h=Math.min(s.remainedWidth,h),s.remainedWidth-=h);var c=r.barMaxWidth;c&&(l[u].maxWidth=c);var v=r.barMinWidth;v&&(l[u].minWidth=v);var f=r.barGap;f!=null&&(s.gap=f);var d=r.barCategoryGap;d!=null&&(s.categoryGap=d)});var t={};return C(e,function(r,i){t[i]={};var n=r.stacks,o=r.bandWidth,s=r.categoryGap;if(s==null){var l=lr(n).length;s=Math.max(35-l*4,15)+"%"}var u=wt(s,o),h=wt(r.gap,1),c=r.remainedWidth,v=r.autoWidthCount,f=(c-u)/(v+(v-1)*h);f=Math.max(f,0),C(n,function(g){var m=g.maxWidth,_=g.minWidth;if(g.width){var x=g.width;m&&(x=Math.min(x,m)),_&&(x=Math.max(x,_)),g.width=x,c-=x+h*x,v--}else{var x=f;m&&m<x&&(x=Math.min(m,c)),_&&_>x&&(x=_),x!==f&&(g.width=x,c-=x+h*x,v--)}}),f=(c-u)/(v+(v-1)*h),f=Math.max(f,0);var d=0,p;C(n,function(g,m){g.width||(g.width=f),p=g,d+=g.width*(1+h)}),p&&(d-=p.width*h);var y=-d/2;C(n,function(g,m){t[i][m]=t[i][m]||{bandWidth:o,offset:y,width:g.width},y+=g.width*(1+h)})}),t}function Bu(a,e,t){if(a&&e){var r=a[xa(e)];return r}}function Rv(a,e){var t=Un(a,e),r=Yn(t);C(t,function(i){var n=i.getData(),o=i.coordinateSystem,s=o.getBaseAxis(),l=Zn(i),u=r[xa(s)][l],h=u.offset,c=u.width;n.setLayout({bandWidth:u.bandWidth,offset:h,size:c})})}function Bv(a){return{seriesType:a,plan:fn(),reset:function(e){if(Xn(e)){var t=e.getData(),r=e.coordinateSystem,i=r.getBaseAxis(),n=r.getOtherAxis(i),o=t.getDimensionIndex(t.mapDimension(n.dim)),s=t.getDimensionIndex(t.mapDimension(i.dim)),l=e.get("showBackground",!0),u=t.mapDimension(n.dim),h=t.getCalculationInfo("stackResultDimension"),c=ee(t,u)&&!!t.getCalculationInfo("stackedOnSeries"),v=n.isHorizontal(),f=Nu(i,n),d=jn(e),p=e.get("barMinHeight")||0,y=h&&t.getDimensionIndex(h),g=t.getLayout("size"),m=t.getLayout("offset");return{progress:function(_,x){for(var b=_.count,w=d&&bt(b*3),S=d&&l&&bt(b*3),L=d&&bt(b),D=r.master.getRect(),M=v?D.width:D.height,A,I=x.getStore(),T=0;(A=_.next())!=null;){var k=I.get(c?y:o,A),O=I.get(s,A),E=f,F=void 0;c&&(F=+k-I.get(o,A));var R=void 0,B=void 0,V=void 0,N=void 0;if(v){var H=r.dataToPoint([k,O]);if(c){var Z=r.dataToPoint([F,O]);E=Z[0]}R=E,B=H[1]+m,V=H[0]-E,N=g,Math.abs(V)<p&&(V=(V<0?-1:1)*p)}else{var H=r.dataToPoint([O,k]);if(c){var Z=r.dataToPoint([O,F]);E=Z[1]}R=H[0]+m,B=E,V=g,N=H[1]-E,Math.abs(N)<p&&(N=(N<=0?-1:1)*p)}d?(w[T]=R,w[T+1]=B,w[T+2]=v?V:N,S&&(S[T]=v?D.x:R,S[T+1]=v?B:D.y,S[T+2]=M),L[A]=A):x.setItemLayout(A,{x:R,y:B,width:V,height:N}),T+=3}d&&x.setLayout({largePoints:w,largeDataIndices:L,largeBackgroundPoints:S,valueAxisHorizontal:v})}}}}}}function Xn(a){return a.coordinateSystem&&a.coordinateSystem.type==="cartesian2d"}function jn(a){return a.pipelineContext&&a.pipelineContext.large}function Nu(a,e){var t=e.model.get("startValue");return t||(t=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?t>0?t:1:t))}var zu=function(a,e,t,r){for(;t<r;){var i=t+r>>>1;a[i][1]<e?t=i+1:r=i}return t},$n=(function(a){G(e,a);function e(t){var r=a.call(this,t)||this;return r.type="time",r}return e.prototype.getLabel=function(t){var r=this.getSetting("useUTC");return vn(t.value,Oa[xs(Ve(this._minLevelUnit))]||Oa.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,r,i){var n=this.getSetting("useUTC"),o=this.getSetting("locale");return bs(t,r,i,o,n)},e.prototype.getTicks=function(t){var r=this._interval,i=this._extent,n=[];if(!r)return n;var o=this.getSetting("useUTC"),s=zr(i[1],o);n.push({value:i[0],time:{level:0,upperTimeUnit:s,lowerTimeUnit:s}});var l=Yu(this._minLevelUnit,this._approxInterval,o,i,this._getExtentSpanWithBreaks(),this._brkCtx);n=n.concat(l);var u=zr(i[1],o);n.push({value:i[1],time:{level:0,upperTimeUnit:u,lowerTimeUnit:u}}),this.getSetting("useUTC");var h=Ue.length-1,c=0;return C(n,function(v){h=Math.min(h,ht(Ue,v.time.upperTimeUnit)),c=Math.max(c,v.time.level)}),n},e.prototype.calcNiceExtent=function(t){var r=this.getExtent();if(r[0]===r[1]&&(r[0]-=dt,r[1]+=dt),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-dt}this._innerSetExtent(r[0],r[1]),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,r,i){t=t||10;var n=this._getExtentSpanWithBreaks();this._approxInterval=n/t,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var o=Pe.length,s=Math.min(zu(Pe,this._approxInterval,0,o),o-1);this._interval=Pe[s][1],this._intervalPrecision=we(this._interval),this._minLevelUnit=Pe[Math.max(s-1,0)][0]},e.prototype.parse=function(t){return Vt(t)?t:+Ss(t)},e.prototype.contain=function(t){return _a(t,this._extent)},e.prototype.normalize=function(t){return this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return this._calculator.scale(t,this._extent)},e.type="time",e})(re),Pe=[["second",dn],["minute",pn],["hour",We],["quarter-day",We*6],["half-day",We*12],["day",dt*1.2],["half-week",dt*3.5],["week",dt*7],["month",dt*31],["quarter",dt*95],["half-year",Pa/2],["year",Pa]];function Gu(a,e,t,r){return Gr(new Date(e),a,r).getTime()===Gr(new Date(t),a,r).getTime()}function Vu(a,e){return a/=dt,a>16?16:a>7.5?7:a>3.5?4:a>1.5?2:1}function Wu(a){var e=30*dt;return a/=e,a>6?6:a>3?3:a>2?2:1}function Hu(a){return a/=We,a>12?12:a>6?6:a>3.5?4:a>2?2:1}function ai(a,e){return a/=e?pn:dn,a>30?30:a>20?20:a>15?15:a>10?10:a>5?5:a>2?2:1}function Fu(a){return cn(a)}function Zu(a,e,t){var r=Math.max(0,ht(Ue,e)-1);return Gr(new Date(a),Ue[r],t).getTime()}function Uu(a,e){var t=new Date(0);t[a](1);var r=t.getTime();t[a](1+e);var i=t.getTime()-r;return function(n,o){return Math.max(0,Math.round((o-n)/i))}}function Yu(a,e,t,r,i,n){var o=1e4,s=ws,l=0;function u(T,k,O,E,F,R,B){for(var V=Uu(F,T),N=k,H=new Date(N);N<O&&N<=r[1]&&(B.push({value:N}),!(l++>o));)if(H[F](H[E]()+T),N=H.getTime(),n){var Z=n.calcNiceTickMultiple(N,V);Z>0&&(H[F](H[E]()+Z*T),N=H.getTime())}B.push({value:N,notAdd:!0})}function h(T,k,O){var E=[],F=!k.length;if(!Gu(Ve(T),r[0],r[1],t)){F&&(k=[{value:Zu(r[0],T,t)},{value:r[1]}]);for(var R=0;R<k.length-1;R++){var B=k[R].value,V=k[R+1].value;if(B!==V){var N=void 0,H=void 0,Z=void 0,at=!1;switch(T){case"year":N=Math.max(1,Math.round(e/dt/365)),H=Ns(t),Z=zs(t);break;case"half-year":case"quarter":case"month":N=Wu(e),H=Rs(t),Z=Bs(t);break;case"week":case"half-week":case"day":N=Vu(e),H=Ps(t),Z=Es(t),at=!0;break;case"half-day":case"quarter-day":case"hour":N=Hu(e),H=ks(t),Z=Os(t);break;case"minute":N=ai(e,!0),H=Ls(t),Z=Is(t);break;case"second":N=ai(e,!1),H=Ds(t),Z=Ts(t);break;case"millisecond":N=Fu(e),H=As(t),Z=Ms(t);break}V>=r[0]&&B<=r[1]&&u(N,B,V,H,Z,at,E),T==="year"&&O.length>1&&R===0&&O.unshift({value:O[0].value-N})}}for(var R=0;R<E.length;R++)O.push(E[R])}}for(var c=[],v=[],f=0,d=0,p=0;p<s.length;++p){var y=Ve(s[p]);if(Cs(s[p])){h(s[p],c[c.length-1]||[],v);var g=s[p+1]?Ve(s[p+1]):null;if(y!==g){if(v.length){d=f,v.sort(function(T,k){return T.value-k.value});for(var m=[],_=0;_<v.length;++_){var x=v[_].value;(_===0||v[_-1].value!==x)&&(m.push(v[_]),x>=r[0]&&x<=r[1]&&f++)}var b=i/e;if(f>b*1.5&&d>b/1.5||(c.push(m),f>b||a===s[p]))break}v=[]}}}for(var w=Ht(j(c,function(T){return Ht(T,function(k){return k.value>=r[0]&&k.value<=r[1]&&!k.notAdd})}),function(T){return T.length>0}),S=[],L=w.length-1,p=0;p<w.length;++p)for(var D=w[p],M=0;M<D.length;++M){var A=zr(D[M].value,t);S.push({value:D[M].value,time:{level:L-p,upperTimeUnit:A,lowerTimeUnit:A}})}S.sort(function(T,k){return T.value-k.value});for(var I=[],p=0;p<S.length;++p)(p===0||S[p].value!==S[p-1].value)&&I.push(S[p]);return I}Bt.registerClass($n);var Jr=it,Xu=Math.floor,ju=Math.ceil,Ee=Math.pow,Re=Math.log,Kn=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new re,t}return e.prototype.getTicks=function(t){t=t||{};var r=this._extent.slice(),i=this._originalScale.getExtent(),n=a.prototype.getTicks.call(this,t),o=this.base;return this._originalScale._innerGetBreaks(),j(n,function(s){var l=s.value,u=null,h=Ee(o,l);l===r[0]&&this._fixMin?u=i[0]:l===r[1]&&this._fixMax&&(u=i[1]);var c;return u!=null&&(h=br(h,u)),{value:h,break:c}},this)},e.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},e.prototype.setExtent=function(t,r){this._originalScale.setExtent(t,r);var i=Kr(this.base,[t,r]);a.prototype.setExtent.call(this,i[0],i[1])},e.prototype.getExtent=function(){var t=this.base,r=a.prototype.getExtent.call(this);r[0]=Ee(t,r[0]),r[1]=Ee(t,r[1]);var i=this._originalScale.getExtent();return this._fixMin&&(r[0]=br(r[0],i[0])),this._fixMax&&(r[1]=br(r[1],i[1])),r},e.prototype.unionExtentFromData=function(t,r){this._originalScale.unionExtentFromData(t,r);var i=Kr(this.base,t.getApproximateExtent(r),!0);this._innerUnionExtent(i)},e.prototype.calcNiceTicks=function(t){t=t||10;var r=this._extent.slice(),i=this._getExtentSpanWithBreaks();if(!(!isFinite(i)||i<=0)){var n=Gs(i),o=t/i*n;for(o<=.5&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0;)n*=10;var s=[Jr(ju(r[0]/n)*n),Jr(Xu(r[1]/n)*n)];this._interval=n,this._intervalPrecision=we(n),this._niceExtent=s}},e.prototype.calcNiceExtent=function(t){a.prototype.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.contain=function(t){return t=Re(t)/Re(this.base),a.prototype.contain.call(this,t)},e.prototype.normalize=function(t){return t=Re(t)/Re(this.base),a.prototype.normalize.call(this,t)},e.prototype.scale=function(t){return t=a.prototype.scale.call(this,t),Ee(this.base,t)},e.prototype.setBreaksFromOption=function(t){},e.type="log",e})(re);function br(a,e){return Jr(a,fa(e))}Bt.registerClass(Kn);var $u=(function(){function a(e,t,r){this._prepareParams(e,t,r)}return a.prototype._prepareParams=function(e,t,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var n=t.get("min",!0);n==null&&(n=t.get("startValue",!0));var o=this._modelMinRaw=n;X(o)?this._modelMinNum=Be(e,o({min:r[0],max:r[1]})):o!=="dataMin"&&(this._modelMinNum=Be(e,o));var s=this._modelMaxRaw=t.get("max",!0);if(X(s)?this._modelMaxNum=Be(e,s({min:r[0],max:r[1]})):s!=="dataMax"&&(this._modelMaxNum=Be(e,s)),i)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),u=$(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Ea(u[0],1),Ea(u[1],1)]}},a.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,r=this._dataMax,i=this._axisDataLen,n=this._boundaryGapInner,o=e?null:r-t||Math.abs(t),s=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,u=s!=null,h=l!=null;s==null&&(s=e?i?0:NaN:t-n[0]*o),l==null&&(l=e?i?i-1:NaN:r+n[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var c=Ye(s)||Ye(l)||e&&!i;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!h&&(l=0));var v=this._determinedMin,f=this._determinedMax;return v!=null&&(s=v,u=!0),f!=null&&(l=f,h=!0),{min:s,max:l,minFixed:u,maxFixed:h,isBlank:c}},a.prototype.modifyDataMinMax=function(e,t){this[qu[e]]=t},a.prototype.setDeterminedMinMax=function(e,t){var r=Ku[e];this[r]=t},a.prototype.freeze=function(){this.frozen=!0},a})(),Ku={min:"_determinedMin",max:"_determinedMax"},qu={min:"_dataMin",max:"_dataMax"};function qn(a,e,t){var r=a.rawExtentInfo;return r||(r=new $u(a,e,t),a.rawExtentInfo=r,r)}function Be(a,e){return e==null?null:Ye(e)?NaN:a.parse(e)}function Jn(a,e){var t=a.type,r=qn(a,e,a.getExtent()).calculate();a.setBlank(r.isBlank);var i=r.min,n=r.max,o=e.ecModel;if(o&&t==="time"){var s=Un("bar",o),l=!1;if(C(s,function(c){l=l||c.getBaseAxis()===e.axis}),l){var u=Yn(s),h=Ju(i,n,e,u);i=h.min,n=h.max}}return{extent:[i,n],fixMin:r.minFixed,fixMax:r.maxFixed}}function Ju(a,e,t,r){var i=t.axis.getExtent(),n=Math.abs(i[1]-i[0]),o=Bu(r,t.axis);if(o===void 0)return{min:a,max:e};var s=1/0;C(o,function(f){s=Math.min(f.offset,s)});var l=-1/0;C(o,function(f){l=Math.max(f.offset+f.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,h=e-a,c=1-(s+l)/n,v=h/c-h;return e+=v*(l/u),a-=v*(s/u),{min:a,max:e}}function ii(a,e){var t=e,r=Jn(a,t),i=r.extent,n=t.get("splitNumber");a instanceof Kn&&(a.base=t.get("logBase"));var o=a.type,s=t.get("interval"),l=o==="interval"||o==="time";a.setBreaksFromOption(eo(t)),a.setExtent(i[0],i[1]),a.calcNiceExtent({splitNumber:n,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),s!=null&&a.setInterval&&a.setInterval(s)}function Qu(a,e){if(e=e||a.get("type"),e)switch(e){case"category":return new Hn({ordinalMeta:a.getOrdinalMeta?a.getOrdinalMeta():a.getCategories(),extent:[1/0,-1/0]});case"time":return new $n({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new(Bt.getClass(e)||re)}}function th(a){var e=a.scale.getExtent(),t=e[0],r=e[1];return!(t>0&&r>0||t<0&&r<0)}function Te(a){var e=a.getLabelModel().get("formatter");if(a.type==="time"){var t=Vs(e);return function(i,n){return a.scale.getFormattedLabel(i,n,t)}}else{if(Y(e))return function(i){var n=a.scale.getLabel(i),o=e.replace("{value}",n??"");return o};if(X(e)){if(a.type==="category")return function(i,n){return e(er(a,i),i.value-a.scale.getExtent()[0],null)};var r=Nr();return function(i,n){var o=null;return r&&(o=r.makeAxisLabelFormatterParamBreak(o,i.break)),e(er(a,i),n,o)}}else return function(i){return a.scale.getLabel(i)}}}function er(a,e){return a.type==="category"?a.scale.getLabel(e):e.value}function ba(a){var e=a.get("interval");return e??"auto"}function Qn(a){return a.type==="category"&&ba(a.getLabelModel())===0}function to(a,e){var t={};return C(a.mapDimensionsAll(e),function(r){t[bu(a,r)]=!0}),lr(t)}function eh(a,e,t){e&&C(to(e,t),function(r){var i=e.getApproximateExtent(r);i[0]<a[0]&&(a[0]=i[0]),i[1]>a[1]&&(a[1]=i[1])})}function ae(a){return a==="middle"||a==="center"}function Ce(a){return a.getShallow("show")}function eo(a){var e=a.get("breaks",!0);e==null}var rh=(function(){function a(){}return a.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},a.prototype.getCoordSysModel=function(){},a})(),ni=[],ah={registerPreprocessor:Qs,registerProcessor:Js,registerPostInit:qs,registerPostUpdate:Ks,registerUpdateLifecycle:$s,registerAction:gn,registerCoordinateSystem:js,registerLayout:Xs,registerVisual:Ys,registerTransform:Us,registerLoading:Zs,registerMap:Fs,registerImpl:Hs,PRIORITY:Ws,ComponentModel:_t,ComponentView:Ct,SeriesModel:Vr,ChartView:_e,registerComponentModel:function(a){_t.registerClass(a)},registerComponentView:function(a){Ct.registerClass(a)},registerSeriesModel:function(a){Vr.registerClass(a)},registerChartView:function(a){_e.registerClass(a)},registerCustomSeries:function(a,e){},registerSubTypeDefaulter:function(a,e){_t.registerSubTypeDefaulter(a,e)},registerPainter:function(a,e){tl(a,e)}};function mt(a){if($(a)){C(a,function(e){mt(e)});return}ht(ni,a)>=0||(ni.push(a),X(a)&&(a={install:a}),a.install(ah))}var ih=vt(),be=vt(),yt={estimate:1,determine:2};function rr(a){return{out:{noPxChangeTryDetermine:[]},kind:a}}function ro(a,e){var t=j(e,function(r){return a.scale.parse(r)});return a.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function nh(a,e){var t=a.getLabelModel().get("customValues");if(t){var r=Te(a),i=a.scale.getExtent(),n=ro(a,t),o=Ht(n,function(s){return s>=i[0]&&s<=i[1]});return{labels:j(o,function(s){var l={value:s};return{formattedLabel:r(l),rawLabel:a.scale.getLabel(l),tickValue:s,time:void 0,break:void 0}})}}return a.type==="category"?sh(a,e):uh(a)}function oh(a,e,t){var r=a.getTickModel().get("customValues");if(r){var i=a.scale.getExtent(),n=ro(a,r);return{ticks:Ht(n,function(o){return o>=i[0]&&o<=i[1]})}}return a.type==="category"?lh(a,e):{ticks:j(a.scale.getTicks(t),function(o){return o.value})}}function sh(a,e){var t=a.getLabelModel(),r=ao(a,t,e);return!t.get("show")||a.scale.isBlank()?{labels:[]}:r}function ao(a,e,t){var r=ch(a),i=ba(e),n=t.kind===yt.estimate;if(!n){var o=no(r,i);if(o)return o}var s,l;X(i)?s=lo(a,i):(l=i==="auto"?fh(a,t):i,s=so(a,l));var u={labels:s,labelCategoryInterval:l};return n?t.out.noPxChangeTryDetermine.push(function(){return Qr(r,i,u),!0}):Qr(r,i,u),u}function lh(a,e){var t=hh(a),r=ba(e),i=no(t,r);if(i)return i;var n,o;if((!e.get("show")||a.scale.isBlank())&&(n=[]),X(r))n=lo(a,r,!0);else if(r==="auto"){var s=ao(a,a.getLabelModel(),rr(yt.determine));o=s.labelCategoryInterval,n=j(s.labels,function(l){return l.tickValue})}else o=r,n=so(a,o,!0);return Qr(t,r,{ticks:n,tickCategoryInterval:o})}function uh(a){var e=a.scale.getTicks(),t=Te(a);return{labels:j(e,function(r,i){return{formattedLabel:t(r,i),rawLabel:a.scale.getLabel(r),tickValue:r.value,time:r.time,break:r.break}})}}var hh=io("axisTick"),ch=io("axisLabel");function io(a){return function(t){return be(t)[a]||(be(t)[a]={list:[]})}}function no(a,e){for(var t=0;t<a.list.length;t++)if(a.list[t].key===e)return a.list[t].value}function Qr(a,e,t){return a.list.push({key:e,value:t}),t}function fh(a,e){if(e.kind===yt.estimate){var t=a.calculateCategoryInterval(e);return e.out.noPxChangeTryDetermine.push(function(){return be(a).autoInterval=t,!0}),t}var r=be(a).autoInterval;return r??(be(a).autoInterval=a.calculateCategoryInterval(e))}function vh(a,e){var t=e.kind,r=ph(a),i=Te(a),n=(r.axisRotate-r.labelRotate)/180*Math.PI,o=a.scale,s=o.getExtent(),l=o.count();if(s[1]-s[0]<1)return 0;var u=1,h=40;l>h&&(u=Math.max(1,Math.floor(l/h)));for(var c=s[0],v=a.dataToCoord(c+1)-a.dataToCoord(c),f=Math.abs(v*Math.cos(n)),d=Math.abs(v*Math.sin(n)),p=0,y=0;c<=s[1];c+=u){var g=0,m=0,_=mn(i({value:c}),r.font,"center","top");g=_.width*1.3,m=_.height*1.3,p=Math.max(p,g,7),y=Math.max(y,m,7)}var x=p/f,b=y/d;isNaN(x)&&(x=1/0),isNaN(b)&&(b=1/0);var w=Math.max(0,Math.floor(Math.min(x,b)));if(t===yt.estimate)return e.out.noPxChangeTryDetermine.push(W(dh,null,a,w,l)),w;var S=oo(a,w,l);return S??w}function dh(a,e,t){return oo(a,e,t)==null}function oo(a,e,t){var r=ih(a.model),i=a.getExtent(),n=r.lastAutoInterval,o=r.lastTickCount;if(n!=null&&o!=null&&Math.abs(n-e)<=1&&Math.abs(o-t)<=1&&n>e&&r.axisExtent0===i[0]&&r.axisExtent1===i[1])return n;r.lastTickCount=t,r.lastAutoInterval=e,r.axisExtent0=i[0],r.axisExtent1=i[1]}function ph(a){var e=a.getLabelModel();return{axisRotate:a.getRotate?a.getRotate():a.isHorizontal&&!a.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function so(a,e,t){var r=Te(a),i=a.scale,n=i.getExtent(),o=a.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=n[0],h=i.count();u!==0&&l>1&&h/l>2&&(u=Math.round(Math.ceil(u/l)*l));var c=Qn(a),v=o.get("showMinLabel")||c,f=o.get("showMaxLabel")||c;v&&u!==n[0]&&p(n[0]);for(var d=u;d<=n[1];d+=l)p(d);f&&d-l!==n[1]&&p(n[1]);function p(y){var g={value:y};s.push(t?y:{formattedLabel:r(g),rawLabel:i.getLabel(g),tickValue:y,time:void 0,break:void 0})}return s}function lo(a,e,t){var r=a.scale,i=Te(a),n=[];return C(r.getTicks(),function(o){var s=r.getLabel(o),l=o.value;e(o.value,s)&&n.push(t?l:{formattedLabel:i(o),rawLabel:s,tickValue:l,time:void 0,break:void 0})}),n}var oi=[0,1],gh=(function(){function a(e,t,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=r||[0,0]}return a.prototype.contain=function(e){var t=this._extent,r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=r&&e<=i},a.prototype.containData=function(e){return this.scale.contain(this.scale.parse(e))},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.getPixelPrecision=function(e){return yn(e||this.scale.getExtent(),this._extent)},a.prototype.setExtent=function(e,t){var r=this._extent;r[0]=e,r[1]=t},a.prototype.dataToCoord=function(e,t){var r=this._extent,i=this.scale;return e=i.normalize(i.parse(e)),this.onBand&&i.type==="ordinal"&&(r=r.slice(),si(r,i.count())),Q(e,oi,r,t)},a.prototype.coordToData=function(e,t){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),si(r,i.count()));var n=Q(e,r,oi,t);return this.scale.scale(n)},a.prototype.pointToData=function(e,t){},a.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),r=oh(this,t,{breakTicks:e.breakTicks,pruneByBreak:e.pruneByBreak}),i=r.ticks,n=j(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=t.get("alignWithLabel");return mh(this,n,o,e.clamp),n},a.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var r=this.scale.getMinorTicks(t),i=j(r,function(n){return j(n,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},a.prototype.getViewLabels=function(e){return e=e||rr(yt.determine),nh(this,e).labels},a.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},a.prototype.getTickModel=function(){return this.model.getModel("axisTick")},a.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),r=t[1]-t[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/r},a.prototype.calculateCategoryInterval=function(e){return e=e||rr(yt.determine),vh(this,e)},a})();function si(a,e){var t=a[1]-a[0],r=e,i=t/r/2;a[0]+=i,a[1]-=i}function mh(a,e,t,r){var i=e.length;if(!a.onBand||t||!i)return;var n=a.getExtent(),o,s;if(i===1)e[0].coord=n[0],e[0].onBand=!0,o=e[1]={coord:n[1],tickValue:e[0].tickValue,onBand:!0};else{var l=e[i-1].tickValue-e[0].tickValue,u=(e[i-1].coord-e[0].coord)/l;C(e,function(f){f.coord-=u/2,f.onBand=!0});var h=a.scale.getExtent();s=1+h[1]-e[i-1].tickValue,o={coord:e[i-1].coord+u*s,tickValue:h[1]+1,onBand:!0},e.push(o)}var c=n[0]>n[1];v(e[0].coord,n[0])&&(r?e[0].coord=n[0]:e.shift()),r&&v(n[0],e[0].coord)&&e.unshift({coord:n[0],onBand:!0}),v(n[1],o.coord)&&(r?o.coord=n[1]:e.pop()),r&&v(o.coord,n[1])&&e.push({coord:n[1],onBand:!0});function v(f,d){return f=it(f),d=it(d),c?f>d:f<d}}var li=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],yh=1,ar=2,uo=yh|ar;function ir(a,e,t){t=t||uo,e?a.dirty|=t:a.dirty&=~t}function ho(a,e){return e=e||uo,a.dirty==null||!!(a.dirty&e)}function Rt(a){if(a)return ho(a)&&_h(a,a.label,a),a}function _h(a,e,t){var r=e.getComputedTransform();a.transform=_n(a.transform,r);var i=a.localRect=Xe(a.localRect,e.getBoundingRect()),n=e.style,o=n.margin,s=t&&t.marginForce,l=t&&t.minMarginForce,u=t&&t.marginDefault,h=n.__marginType;h==null&&u&&(o=u,h=Le.textMargin);for(var c=0;c<4;c++)Sr[c]=h===Le.minMargin&&l&&l[c]!=null?l[c]:s&&s[c]!=null?s[c]:o?o[c]:0;h===Le.textMargin&&Wr(i,Sr,!1,!1);var v=a.rect=Xe(a.rect,i);return r&&v.applyTransform(r),h===Le.minMargin&&Wr(v,Sr,!1,!1),a.axisAligned=xn(r),(a.label=a.label||{}).ignore=e.ignore,ir(a,!1),ir(a,!0,ar),a}var Sr=[0,0,0,0];function xh(a,e,t){return a.transform=_n(a.transform,t),a.localRect=Xe(a.localRect,e),a.rect=Xe(a.rect,e),t&&a.rect.applyTransform(t),a.axisAligned=xn(t),a.obb=void 0,(a.label=a.label||{}).ignore=!1,a}function bh(a,e){if(a){a.label.x+=e.x,a.label.y+=e.y,a.label.markRedraw();var t=a.transform;t&&(t[4]+=e.x,t[5]+=e.y);var r=a.rect;r&&(r.x+=e.x,r.y+=e.y);var i=a.obb;i&&i.fromBoundingRect(a.localRect,t)}}function ui(a,e){for(var t=0;t<li.length;t++){var r=li[t];a[r]==null&&(a[r]=e[r])}return Rt(a)}function hi(a){var e=a.obb;return(!e||ho(a,ar))&&(a.obb=e=e||new el,e.fromBoundingRect(a.localRect,a.transform),ir(a,!1,ar)),e}function Sh(a){var e=[];a.sort(function(u,h){return(h.suggestIgnore?1:0)-(u.suggestIgnore?1:0)||h.priority-u.priority});function t(u){if(!u.ignore){var h=u.ensureState("emphasis");h.ignore==null&&(h.ignore=!1)}u.ignore=!0}for(var r=0;r<a.length;r++){var i=Rt(a[r]);if(!i.label.ignore){for(var n=i.label,o=i.labelLine,s=!1,l=0;l<e.length;l++)if(Sa(i,e[l],null,{touchThreshold:.05})){s=!0;break}s?(t(n),o&&t(o)):e.push(i)}}}function Sa(a,e,t,r){return!a||!e||a.label&&a.label.ignore||e.label&&e.label.ignore||!a.rect.intersect(e.rect,t,r)?!1:a.axisAligned&&e.axisAligned?!0:hi(a).intersect(hi(e),t,r)}var wh=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return Cu(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var r=new ct,i=Ft("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);r.add(i),i.setStyle(t.lineStyle);var n=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=n==="none"?"circle":n,l=t.itemHeight*.8,u=Ft(s,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);r.add(u),u.setStyle(t.itemStyle);var h=t.iconRotate==="inherit"?o:t.iconRotate||0;return u.rotation=h*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill=P.color.neutral00,u.style.lineWidth=2),r},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e})(Vr);function co(a,e){var t=a.mapDimensionsAll("defaultedLabel"),r=t.length;if(r===1){var i=Ra(a,e,t[0]);return i!=null?i+"":null}else if(r){for(var n=[],o=0;o<t.length;o++)n.push(Ra(a,e,t[o]));return n.join(" ")}}function Ch(a,e){var t=a.mapDimensionsAll("defaultedLabel");if(!$(e))return e+"";for(var r=[],i=0;i<t.length;i++){var n=a.getDimensionIndex(t[i]);n>=0&&r.push(e[n])}return r.join(" ")}var wa=(function(a){G(e,a);function e(t,r,i,n){var o=a.call(this)||this;return o.updateData(t,r,i,n),o}return e.prototype._createSymbol=function(t,r,i,n,o,s){this.removeAll();var l=Ft(t,-1,-1,2,2,null,s);l.attr({z2:q(o,100),culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),l.drift=Ah,this._symbolType=t,this.add(l)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){rl(this.childAt(0))},e.prototype.downplay=function(){al(this.childAt(0))},e.prototype.setZ=function(t,r){var i=this.childAt(0);i.zlevel=t,i.z=r},e.prototype.setDraggable=function(t,r){var i=this.childAt(0);i.draggable=t,i.cursor=!r&&t?"move":i.cursor},e.prototype.updateData=function(t,r,i,n){this.silent=!1;var o=t.getItemVisual(r,"symbol")||"circle",s=t.hostModel,l=e.getSymbolSize(t,r),u=e.getSymbolZ2(t,r),h=o!==this._symbolType,c=n&&n.disableAnimation;if(h){var v=t.getItemVisual(r,"symbolKeepAspect");this._createSymbol(o,t,r,l,u,v)}else{var f=this.childAt(0);f.silent=!1;var d={scaleX:l[0]/2,scaleY:l[1]/2};c?f.attr(d):qt(f,d,s,r),il(f)}if(this._updateCommon(t,r,l,i,n),h){var f=this.childAt(0);if(!c){var d={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,ur(f,d,s,r)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,r,i,n,o){var s=this.childAt(0),l=t.hostModel,u,h,c,v,f,d,p,y,g;if(n&&(u=n.emphasisItemStyle,h=n.blurItemStyle,c=n.selectItemStyle,v=n.focus,f=n.blurScope,p=n.labelStatesModels,y=n.hoverScale,g=n.cursorStyle,d=n.emphasisDisabled),!n||t.hasItemOption){var m=n&&n.itemModel?n.itemModel:t.getItemModel(r),_=m.getModel("emphasis");u=_.getModel("itemStyle").getItemStyle(),c=m.getModel(["select","itemStyle"]).getItemStyle(),h=m.getModel(["blur","itemStyle"]).getItemStyle(),v=_.get("focus"),f=_.get("blurScope"),d=_.get("disabled"),p=va(m),y=_.getShallow("scale"),g=m.getShallow("cursor")}var x=t.getItemVisual(r,"symbolRotate");s.attr("rotation",(x||0)*Math.PI/180||0);var b=bn(t.getItemVisual(r,"symbolOffset"),i);b&&(s.x=b[0],s.y=b[1]),g&&s.attr("cursor",g);var w=t.getItemVisual(r,"style"),S=w.fill;if(s instanceof nl){var L=s.style;s.useStyle(K({image:L.image,x:L.x,y:L.y,width:L.width,height:L.height},w))}else s.__isEmptyBrush?s.useStyle(K({},w)):s.useStyle(w),s.style.decal=null,s.setColor(S,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var D=t.getItemVisual(r,"liftZ"),M=this._z2;D!=null?M==null&&(this._z2=s.z2,s.z2+=D):M!=null&&(s.z2=M,this._z2=null);var A=o&&o.useNameLabel;da(s,p,{labelFetcher:l,labelDataIndex:r,defaultText:I,inheritColor:S,defaultOpacity:w.opacity});function I(O){return A?t.getName(O):co(t,O)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var T=s.ensureState("emphasis");T.style=u,s.ensureState("select").style=c,s.ensureState("blur").style=h;var k=y==null||y===!0?Math.max(1.1,3/this._sizeY):isFinite(y)&&y>0?+y:1;T.scaleX=this._sizeX*k,T.scaleY=this._sizeY*k,this.setSymbolScale(1),Hr(this,v,f,d)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,r,i){var n=this.childAt(0),o=tt(this).dataIndex,s=i&&i.animation;if(this.silent=n.silent=!0,i&&i.fadeLabel){var l=n.getTextContent();l&&Ba(l,{style:{opacity:0}},r,{dataIndex:o,removeOpt:s,cb:function(){n.removeTextContent()}})}else n.removeTextContent();Ba(n,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:o,cb:t,removeOpt:s})},e.getSymbolSize=function(t,r){return ol(t.getItemVisual(r,"symbolSize"))},e.getSymbolZ2=function(t,r){return t.getItemVisual(r,"z2")},e})(ct);function Ah(a,e){this.parent.drift(a,e)}function wr(a,e,t,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(t))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&a.getItemVisual(t,"symbol")!=="none"}function ci(a){return a!=null&&!rt(a)&&(a={isIgnore:a}),a||{}}function fi(a){var e=a.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:va(e),cursorStyle:e.get("cursor")}}var Mh=(function(){function a(e){this.group=new ct,this._SymbolCtor=e||wa}return a.prototype.updateData=function(e,t){this._progressiveEls=null,t=ci(t);var r=this.group,i=e.hostModel,n=this._data,o=this._SymbolCtor,s=t.disableAnimation,l=fi(e),u={disableAnimation:s},h=t.getSymbolPoint||function(c){return e.getItemLayout(c)};n||r.removeAll(),e.diff(n).add(function(c){var v=h(c);if(wr(e,v,c,t)){var f=new o(e,c,l,u);f.setPosition(v),e.setItemGraphicEl(c,f),r.add(f)}}).update(function(c,v){var f=n.getItemGraphicEl(v),d=h(c);if(!wr(e,d,c,t)){r.remove(f);return}var p=e.getItemVisual(c,"symbol")||"circle",y=f&&f.getSymbolType&&f.getSymbolType();if(!f||y&&y!==p)r.remove(f),f=new o(e,c,l,u),f.setPosition(d);else{f.updateData(e,c,l,u);var g={x:d[0],y:d[1]};s?f.attr(g):qt(f,g,i)}r.add(f),e.setItemGraphicEl(c,f)}).remove(function(c){var v=n.getItemGraphicEl(c);v&&v.fadeOut(function(){r.remove(v)},i)}).execute(),this._getSymbolPoint=h,this._data=e},a.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(r,i){var n=e._getSymbolPoint(i);r.setPosition(n),r.markRedraw()})},a.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=fi(e),this._data=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(e,t,r){this._progressiveEls=[],r=ci(r);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var n=e.start;n<e.end;n++){var o=t.getItemLayout(n);if(wr(t,o,n,r)){var s=new this._SymbolCtor(t,n,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(n,s),this._progressiveEls.push(s)}}},a.prototype.eachRendered=function(e){sl(this._progressiveEls||this.group,e)},a.prototype.remove=function(e){var t=this.group,r=this._data;r&&e?r.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)},r.hostModel)}):t.removeAll()},a})();function fo(a,e,t){var r=a.getBaseAxis(),i=a.getOtherAxis(r),n=Dh(i,t),o=r.dim,s=i.dim,l=e.mapDimension(s),u=e.mapDimension(o),h=s==="x"||s==="radius"?1:0,c=j(a.dimensions,function(d){return e.mapDimension(d)}),v=!1,f=e.getCalculationInfo("stackResultDimension");return ee(e,c[0])&&(v=!0,c[0]=f),ee(e,c[1])&&(v=!0,c[1]=f),{dataDimsForPoint:c,valueStart:n,valueAxisDim:s,baseAxisDim:o,stacked:!!v,valueDim:l,baseDim:u,baseDataOffset:h,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Dh(a,e){var t=0,r=a.scale.getExtent();return e==="start"?t=r[0]:e==="end"?t=r[1]:Vt(e)&&!isNaN(e)?t=e:r[0]>0?t=r[0]:r[1]<0&&(t=r[1]),t}function vo(a,e,t,r){var i=NaN;a.stacked&&(i=t.get(t.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=a.valueStart);var n=a.baseDataOffset,o=[];return o[n]=t.get(a.baseDim,r),o[1-n]=i,e.dataToPoint(o)}function Th(a,e){var t=[];return e.diff(a).add(function(r){t.push({cmd:"+",idx:r})}).update(function(r,i){t.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){t.push({cmd:"-",idx:r})}).execute(),t}function Lh(a,e,t,r,i,n,o,s){for(var l=Th(a,e),u=[],h=[],c=[],v=[],f=[],d=[],p=[],y=fo(i,e,o),g=a.getLayout("points")||[],m=e.getLayout("points")||[],_=0;_<l.length;_++){var x=l[_],b=!0,w=void 0,S=void 0;switch(x.cmd){case"=":w=x.idx*2,S=x.idx1*2;var L=g[w],D=g[w+1],M=m[S],A=m[S+1];(isNaN(L)||isNaN(D))&&(L=M,D=A),u.push(L,D),h.push(M,A),c.push(t[w],t[w+1]),v.push(r[S],r[S+1]),p.push(e.getRawIndex(x.idx1));break;case"+":var I=x.idx,T=y.dataDimsForPoint,k=i.dataToPoint([e.get(T[0],I),e.get(T[1],I)]);S=I*2,u.push(k[0],k[1]),h.push(m[S],m[S+1]);var O=vo(y,i,e,I);c.push(O[0],O[1]),v.push(r[S],r[S+1]),p.push(e.getRawIndex(I));break;case"-":b=!1}b&&(f.push(x),d.push(d.length))}d.sort(function(ut,dr){return p[ut]-p[dr]});for(var E=u.length,F=bt(E),R=bt(E),B=bt(E),V=bt(E),N=[],_=0;_<d.length;_++){var H=d[_],Z=_*2,at=H*2;F[Z]=u[at],F[Z+1]=u[at+1],R[Z]=h[at],R[Z+1]=h[at+1],B[Z]=c[at],B[Z+1]=c[at+1],V[Z]=v[at],V[Z+1]=v[at+1],N[_]=f[H]}return{current:F,next:R,stackedOnCurrent:B,stackedOnNext:V,status:N}}var Dt=Math.min,Tt=Math.max;function Gt(a,e){return isNaN(a)||isNaN(e)}function ta(a,e,t,r,i,n,o,s,l){for(var u,h,c,v,f,d,p=t,y=0;y<r;y++){var g=e[p*2],m=e[p*2+1];if(p>=i||p<0)break;if(Gt(g,m)){if(l){p+=n;continue}break}if(p===t)a[n>0?"moveTo":"lineTo"](g,m),c=g,v=m;else{var _=g-u,x=m-h;if(_*_+x*x<.5){p+=n;continue}if(o>0){for(var b=p+n,w=e[b*2],S=e[b*2+1];w===g&&S===m&&y<r;)y++,b+=n,p+=n,w=e[b*2],S=e[b*2+1],g=e[p*2],m=e[p*2+1],_=g-u,x=m-h;var L=y+1;if(l)for(;Gt(w,S)&&L<r;)L++,b+=n,w=e[b*2],S=e[b*2+1];var D=.5,M=0,A=0,I=void 0,T=void 0;if(L>=r||Gt(w,S))f=g,d=m;else{M=w-u,A=S-h;var k=g-u,O=w-g,E=m-h,F=S-m,R=void 0,B=void 0;if(s==="x"){R=Math.abs(k),B=Math.abs(O);var V=M>0?1:-1;f=g-V*R*o,d=m,I=g+V*B*o,T=m}else if(s==="y"){R=Math.abs(E),B=Math.abs(F);var N=A>0?1:-1;f=g,d=m-N*R*o,I=g,T=m+N*B*o}else R=Math.sqrt(k*k+E*E),B=Math.sqrt(O*O+F*F),D=B/(B+R),f=g-M*o*(1-D),d=m-A*o*(1-D),I=g+M*o*D,T=m+A*o*D,I=Dt(I,Tt(w,g)),T=Dt(T,Tt(S,m)),I=Tt(I,Dt(w,g)),T=Tt(T,Dt(S,m)),M=I-g,A=T-m,f=g-M*R/B,d=m-A*R/B,f=Dt(f,Tt(u,g)),d=Dt(d,Tt(h,m)),f=Tt(f,Dt(u,g)),d=Tt(d,Dt(h,m)),M=g-f,A=m-d,I=g+M*B/R,T=m+A*B/R}a.bezierCurveTo(c,v,f,d,g,m),c=I,v=T}else a.lineTo(g,m)}u=g,h=m,p+=n}return y}var po=(function(){function a(){this.smooth=0,this.smoothConstraint=!0}return a})(),Ih=(function(a){G(e,a);function e(t){var r=a.call(this,t)||this;return r.type="ec-polyline",r}return e.prototype.getDefaultStyle=function(){return{stroke:P.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new po},e.prototype.buildPath=function(t,r){var i=r.points,n=0,o=i.length/2;if(r.connectNulls){for(;o>0&&Gt(i[o*2-2],i[o*2-1]);o--);for(;n<o&&Gt(i[n*2],i[n*2+1]);n++);}for(;n<o;)n+=ta(t,i,n,o,o,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},e.prototype.getPointOn=function(t,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,n=i.data,o=ll.CMD,s,l,u=r==="x",h=[],c=0;c<n.length;){var v=n[c++],f=void 0,d=void 0,p=void 0,y=void 0,g=void 0,m=void 0,_=void 0;switch(v){case o.M:s=n[c++],l=n[c++];break;case o.L:if(f=n[c++],d=n[c++],_=u?(t-s)/(f-s):(t-l)/(d-l),_<=1&&_>=0){var x=u?(d-l)*_+l:(f-s)*_+s;return u?[t,x]:[x,t]}s=f,l=d;break;case o.C:f=n[c++],d=n[c++],p=n[c++],y=n[c++],g=n[c++],m=n[c++];var b=u?Na(s,f,p,g,t,h):Na(l,d,y,m,t,h);if(b>0)for(var w=0;w<b;w++){var S=h[w];if(S<=1&&S>=0){var x=u?za(l,d,y,m,S):za(s,f,p,g,S);return u?[t,x]:[x,t]}}s=g,l=m;break}}},e})(Sn),kh=(function(a){G(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e})(po),Oh=(function(a){G(e,a);function e(t){var r=a.call(this,t)||this;return r.type="ec-polygon",r}return e.prototype.getDefaultShape=function(){return new kh},e.prototype.buildPath=function(t,r){var i=r.points,n=r.stackedOnPoints,o=0,s=i.length/2,l=r.smoothMonotone;if(r.connectNulls){for(;s>0&&Gt(i[s*2-2],i[s*2-1]);s--);for(;o<s&&Gt(i[o*2],i[o*2+1]);o++);}for(;o<s;){var u=ta(t,i,o,s,s,1,r.smooth,l,r.connectNulls);ta(t,n,o+u-1,u,s,-1,r.stackedOnSmooth,l,r.connectNulls),o+=u+1,t.closePath()}},e})(Sn);function go(a,e,t,r,i){var n=a.getArea(),o=n.x,s=n.y,l=n.width,u=n.height,h=t.get(["lineStyle","width"])||0;o-=h/2,s-=h/2,l+=h,u+=h,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var c=new st({shape:{x:o,y:s,width:l,height:u}});if(e){var v=a.getBaseAxis(),f=v.isHorizontal(),d=v.inverse;f?(d&&(c.shape.x+=l),c.shape.width=0):(d||(c.shape.y+=u),c.shape.height=0);var p=X(i)?function(y){i(y,c)}:null;ur(c,{shape:{width:l,height:u,x:o,y:s}},t,null,r,p)}return c}function mo(a,e,t){var r=a.getArea(),i=it(r.r0,1),n=it(r.r,1),o=new ul({shape:{cx:it(a.cx,1),cy:it(a.cy,1),r0:i,r:n,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var s=a.getBaseAxis().dim==="angle";s?o.shape.endAngle=r.startAngle:o.shape.r=i,ur(o,{shape:{endAngle:r.endAngle,r:n}},t)}return o}function Nv(a,e,t,r,i){if(a){if(a.type==="polar")return mo(a,e,t);if(a.type==="cartesian2d")return go(a,e,t,r,i)}else return null;return null}function Ph(a,e){return a.type===e}function vi(a,e){if(a.length===e.length){for(var t=0;t<a.length;t++)if(a[t]!==e[t])return;return!0}}function di(a){for(var e=1/0,t=1/0,r=-1/0,i=-1/0,n=0;n<a.length;){var o=a[n++],s=a[n++];isNaN(o)||(e=Math.min(o,e),r=Math.max(o,r)),isNaN(s)||(t=Math.min(s,t),i=Math.max(s,i))}return[[e,t],[r,i]]}function pi(a,e){var t=di(a),r=t[0],i=t[1],n=di(e),o=n[0],s=n[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function gi(a){return Vt(a)?a:a?.5:0}function Eh(a,e,t){if(!t.valueDim)return[];for(var r=e.count(),i=bt(r*2),n=0;n<r;n++){var o=vo(t,a,e,n);i[n*2]=o[0],i[n*2+1]=o[1]}return i}function Lt(a,e,t,r,i){var n=t.getBaseAxis(),o=n.dim==="x"||n.dim==="radius"?0:1,s=[],l=0,u=[],h=[],c=[],v=[];if(i){for(l=0;l<a.length;l+=2){var f=e||a;!isNaN(f[l])&&!isNaN(f[l+1])&&v.push(a[l],a[l+1])}a=v}for(l=0;l<a.length-2;l+=2)switch(c[0]=a[l+2],c[1]=a[l+3],h[0]=a[l],h[1]=a[l+1],s.push(h[0],h[1]),r){case"end":u[o]=c[o],u[1-o]=h[1-o],s.push(u[0],u[1]);break;case"middle":var d=(h[o]+c[o])/2,p=[];u[o]=p[o]=d,u[1-o]=h[1-o],p[1-o]=c[1-o],s.push(u[0],u[1]),s.push(p[0],p[1]);break;default:u[o]=h[o],u[1-o]=c[1-o],s.push(u[0],u[1])}return s.push(a[l++],a[l++]),s}function Rh(a,e){var t=[],r=a.length,i,n;function o(h,c,v){var f=h.coord,d=(v-f)/(c.coord-f),p=vl(d,[h.color,c.color]);return{coord:v,color:p}}for(var s=0;s<r;s++){var l=a[s],u=l.coord;if(u<0)i=l;else if(u>e){n?t.push(o(n,l,e)):i&&t.push(o(i,l,0),o(i,l,e));break}else i&&(t.push(o(i,l,0)),i=null),t.push(l),n=l}return t}function Bh(a,e,t){var r=a.getVisual("visualMeta");if(!(!r||!r.length||!a.count())&&e.type==="cartesian2d"){for(var i,n,o=r.length-1;o>=0;o--){var s=a.getDimensionInfo(r[o].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){n=r[o];break}}if(n){var l=e.getAxis(i),u=j(n.stops,function(_){return{coord:l.toGlobalCoord(l.dataToCoord(_.value)),color:_.color}}),h=u.length,c=n.outerColors.slice();h&&u[0].coord>u[h-1].coord&&(u.reverse(),c.reverse());var v=Rh(u,i==="x"?t.getWidth():t.getHeight()),f=v.length;if(!f&&h)return u[0].coord<0?c[1]?c[1]:u[h-1].color:c[0]?c[0]:u[0].color;var d=10,p=v[0].coord-d,y=v[f-1].coord+d,g=y-p;if(g<.001)return"transparent";C(v,function(_){_.offset=(_.coord-p)/g}),v.push({offset:f?v[f-1].offset:.5,color:c[1]||"transparent"}),v.unshift({offset:f?v[0].offset:.5,color:c[0]||"transparent"});var m=new fl(0,0,0,0,v,!0);return m[i]=p,m[i+"2"]=y,m}}}function Nh(a,e,t){var r=a.get("showAllSymbol"),i=r==="auto";if(!(r&&!i)){var n=t.getAxesByScale("ordinal")[0];if(n&&!(i&&zh(n,e))){var o=e.mapDimension(n.dim),s={};return C(n.getViewLabels(),function(l){var u=n.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(e.get(o,l))}}}}function zh(a,e){var t=a.getExtent(),r=Math.abs(t[1]-t[0])/a.scale.count();isNaN(r)&&(r=0);for(var i=e.count(),n=Math.max(1,Math.round(i/5)),o=0;o<i;o+=n)if(wa.getSymbolSize(e,o)[a.isHorizontal()?1:0]*1.5>r)return!1;return!0}function Gh(a,e){return isNaN(a)||isNaN(e)}function Vh(a){for(var e=a.length/2;e>0&&Gh(a[e*2-2],a[e*2-1]);e--);return e-1}function mi(a,e){return[a[e*2],a[e*2+1]]}function Wh(a,e,t){for(var r=a.length/2,i=t==="x"?0:1,n,o,s=0,l=-1,u=0;u<r;u++)if(o=a[u*2+i],!(isNaN(o)||isNaN(a[u*2+1-i]))){if(u===0){n=o;continue}if(n<=e&&o>=e||n>=e&&o<=e){l=u;break}s=u,n=o}return{range:[s,l],t:(e-n)/(o-n)}}function yo(a){if(a.get(["endLabel","show"]))return!0;for(var e=0;e<Wa.length;e++)if(a.get([Wa[e],"endLabel","show"]))return!0;return!1}function Cr(a,e,t,r){if(Ph(e,"cartesian2d")){var i=r.getModel("endLabel"),n=i.get("valueAnimation"),o=r.getData(),s={lastFrameIndex:0},l=yo(r)?function(f,d){a._endLabelOnDuring(f,d,o,s,n,i,e)}:null,u=e.getBaseAxis().isHorizontal(),h=go(e,t,r,function(){var f=a._endLabel;f&&t&&s.originalX!=null&&f.attr({x:s.originalX,y:s.originalY})},l);if(!r.get("clip",!0)){var c=h.shape,v=Math.max(c.width,c.height);u?(c.y-=v,c.height+=v*2):(c.x-=v,c.width+=v*2)}return l&&l(1,h),h}else return mo(e,t,r)}function Hh(a,e){var t=e.getBaseAxis(),r=t.isHorizontal(),i=t.inverse,n=r?i?"right":"left":"center",o=r?"middle":i?"top":"bottom";return{normal:{align:a.get("align")||n,verticalAlign:a.get("verticalAlign")||o}}}var Fh=(function(a){G(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.init=function(){var t=new ct,r=new Mh;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=t,this._changePolyState=W(this._changePolyState,this)},e.prototype.render=function(t,r,i){var n=t.coordinateSystem,o=this.group,s=t.getData(),l=t.getModel("lineStyle"),u=t.getModel("areaStyle"),h=s.getLayout("points")||[],c=n.type==="polar",v=this._coordSys,f=this._symbolDraw,d=this._polyline,p=this._polygon,y=this._lineGroup,g=!r.ssr&&t.get("animation"),m=!u.isEmpty(),_=u.get("origin"),x=fo(n,s,_),b=m&&Eh(n,s,x),w=t.get("showSymbol"),S=t.get("connectNulls"),L=w&&!c&&Nh(t,s,n),D=this._data;D&&D.eachItemGraphicEl(function(ut,dr){ut.__temp&&(o.remove(ut),D.setItemGraphicEl(dr,null))}),w||f.remove(),o.add(y);var M=c?!1:t.get("step"),A;n&&n.getArea&&t.get("clip",!0)&&(A=n.getArea(),A.width!=null?(A.x-=.1,A.y-=.1,A.width+=.2,A.height+=.2):A.r0&&(A.r0-=.5,A.r+=.5)),this._clipShapeForSymbol=A;var I=Bh(s,n,i)||s.getVisual("style")[s.getVisual("drawType")];if(!(d&&v.type===n.type&&M===this._step))w&&f.updateData(s,{isIgnore:L,clipShape:A,disableAnimation:!0,getSymbolPoint:function(ut){return[h[ut*2],h[ut*2+1]]}}),g&&this._initSymbolLabelAnimation(s,n,A),M&&(b&&(b=Lt(b,h,n,M,S)),h=Lt(h,null,n,M,S)),d=this._newPolyline(h),m?p=this._newPolygon(h,b):p&&(y.remove(p),p=this._polygon=null),c||this._initOrUpdateEndLabel(t,n,Jt(I)),y.setClipPath(Cr(this,n,!0,t));else{m&&!p?p=this._newPolygon(h,b):p&&!m&&(y.remove(p),p=this._polygon=null),c||this._initOrUpdateEndLabel(t,n,Jt(I));var T=y.getClipPath();if(T){var k=Cr(this,n,!1,t);ur(T,{shape:k.shape},t)}else y.setClipPath(Cr(this,n,!0,t));w&&f.updateData(s,{isIgnore:L,clipShape:A,disableAnimation:!0,getSymbolPoint:function(ut){return[h[ut*2],h[ut*2+1]]}}),(!vi(this._stackedOnPoints,b)||!vi(this._points,h))&&(g?this._doUpdateAnimation(s,b,n,i,M,_,S):(M&&(b&&(b=Lt(b,h,n,M,S)),h=Lt(h,null,n,M,S)),d.setShape({points:h}),p&&p.setShape({points:h,stackedOnPoints:b})))}var O=t.getModel("emphasis"),E=O.get("focus"),F=O.get("blurScope"),R=O.get("disabled");if(d.useStyle(lt(l.getLineStyle(),{fill:"none",stroke:I,lineJoin:"bevel"})),Ga(d,t,"lineStyle"),d.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var B=d.getState("emphasis").style;B.lineWidth=+d.style.lineWidth+1}tt(d).seriesIndex=t.seriesIndex,Hr(d,E,F,R);var V=gi(t.get("smooth")),N=t.get("smoothMonotone");if(d.setShape({smooth:V,smoothMonotone:N,connectNulls:S}),p){var H=s.getCalculationInfo("stackedOnSeries"),Z=0;p.useStyle(lt(u.getAreaStyle(),{fill:I,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),H&&(Z=gi(H.get("smooth"))),p.setShape({smooth:V,stackedOnSmooth:Z,smoothMonotone:N,connectNulls:S}),Ga(p,t,"areaStyle"),tt(p).seriesIndex=t.seriesIndex,Hr(p,E,F,R)}var at=this._changePolyState;s.eachItemGraphicEl(function(ut){ut&&(ut.onHoverStateChange=at)}),this._polyline.onHoverStateChange=at,this._data=s,this._coordSys=n,this._stackedOnPoints=b,this._points=h,this._step=M,this._valueOrigin=_,t.get("triggerLineEvent")&&(this.packEventData(t,d),p&&this.packEventData(t,p))},e.prototype.packEventData=function(t,r){tt(r).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,r,i,n){var o=t.getData(),s=Fr(o,n);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var h=l[s*2],c=l[s*2+1];if(isNaN(h)||isNaN(c)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(h,c))return;var v=t.get("zlevel")||0,f=t.get("z")||0;u=new wa(o,s),u.x=h,u.y=c,u.setZ(v,f);var d=u.getSymbolPath().getTextContent();d&&(d.zlevel=v,d.z=f,d.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else _e.prototype.highlight.call(this,t,r,i,n)},e.prototype.downplay=function(t,r,i,n){var o=t.getData(),s=Fr(o,n);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else _e.prototype.downplay.call(this,t,r,i,n)},e.prototype._changePolyState=function(t){var r=this._polygon;Va(this._polyline,t),r&&Va(r,t)},e.prototype._newPolyline=function(t){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new Ih({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},e.prototype._newPolygon=function(t,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Oh({shape:{points:t,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(t,r,i){var n,o,s=r.getBaseAxis(),l=s.inverse;r.type==="cartesian2d"?(n=s.isHorizontal(),o=!1):r.type==="polar"&&(n=s.dim==="angle",o=!0);var u=t.hostModel,h=u.get("animationDuration");X(h)&&(h=h(null));var c=u.get("animationDelay")||0,v=X(c)?c(null):c;t.eachItemGraphicEl(function(f,d){var p=f;if(p){var y=[f.x,f.y],g=void 0,m=void 0,_=void 0;if(i)if(o){var x=i,b=r.pointToCoord(y);n?(g=x.startAngle,m=x.endAngle,_=-b[1]/180*Math.PI):(g=x.r0,m=x.r,_=b[0])}else{var w=i;n?(g=w.x,m=w.x+w.width,_=f.x):(g=w.y+w.height,m=w.y,_=f.y)}var S=m===g?0:(_-g)/(m-g);l&&(S=1-S);var L=X(c)?c(d):h*S+v,D=p.getSymbolPath(),M=D.getTextContent();p.attr({scaleX:0,scaleY:0}),p.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:L}),M&&M.animateFrom({style:{opacity:0}},{duration:300,delay:L}),D.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,r,i){var n=t.getModel("endLabel");if(yo(t)){var o=t.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new gt({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var h=Vh(l);h>=0&&(da(s,va(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:h,defaultText:function(c,v,f){return f!=null?Ch(o,f):co(o,c)},enableTextSetter:!0},Hh(n,r)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,r,i,n,o,s,l){var u=this._endLabel,h=this._polyline;if(u){t<1&&n.originalX==null&&(n.originalX=u.x,n.originalY=u.y);var c=i.getLayout("points"),v=i.hostModel,f=v.get("connectNulls"),d=s.get("precision"),p=s.get("distance")||0,y=l.getBaseAxis(),g=y.isHorizontal(),m=y.inverse,_=r.shape,x=m?g?_.x:_.y+_.height:g?_.x+_.width:_.y,b=(g?p:0)*(m?-1:1),w=(g?0:-p)*(m?-1:1),S=g?"x":"y",L=Wh(c,x,S),D=L.range,M=D[1]-D[0],A=void 0;if(M>=1){if(M>1&&!f){var I=mi(c,D[0]);u.attr({x:I[0]+b,y:I[1]+w}),o&&(A=v.getRawValue(D[0]))}else{var I=h.getPointOn(x,S);I&&u.attr({x:I[0]+b,y:I[1]+w});var T=v.getRawValue(D[0]),k=v.getRawValue(D[1]);o&&(A=hl(i,d,T,k,L.t))}n.lastFrameIndex=D[0]}else{var O=t===1||n.lastFrameIndex>0?D[0]:0,I=mi(c,O);o&&(A=v.getRawValue(O)),u.attr({x:I[0]+b,y:I[1]+w})}if(o){var E=cl(u);typeof E.setLabelText=="function"&&E.setLabelText(A)}}},e.prototype._doUpdateAnimation=function(t,r,i,n,o,s,l){var u=this._polyline,h=this._polygon,c=t.hostModel,v=Lh(this._data,t,this._stackedOnPoints,r,this._coordSys,i,this._valueOrigin),f=v.current,d=v.stackedOnCurrent,p=v.next,y=v.stackedOnNext;if(o&&(d=Lt(v.stackedOnCurrent,v.current,i,o,l),f=Lt(v.current,null,i,o,l),y=Lt(v.stackedOnNext,v.next,i,o,l),p=Lt(v.next,null,i,o,l)),pi(f,p)>3e3||h&&pi(d,y)>3e3){u.stopAnimation(),u.setShape({points:p}),h&&(h.stopAnimation(),h.setShape({points:p,stackedOnPoints:y}));return}u.shape.__points=v.current,u.shape.points=f;var g={shape:{points:p}};v.current!==f&&(g.shape.__points=v.next),u.stopAnimation(),qt(u,g,c),h&&(h.setShape({points:f,stackedOnPoints:d}),h.stopAnimation(),qt(h,{shape:{stackedOnPoints:y}},c),u.shape.points!==h.shape.points&&(h.shape.points=u.shape.points));for(var m=[],_=v.status,x=0;x<_.length;x++){var b=_[x].cmd;if(b==="="){var w=t.getItemGraphicEl(_[x].idx1);w&&m.push({el:w,ptIdx:x})}}u.animators&&u.animators.length&&u.animators[0].during(function(){h&&h.dirtyShape();for(var S=u.shape.__points,L=0;L<m.length;L++){var D=m[L].el,M=m[L].ptIdx*2;D.x=S[M],D.y=S[M+1],D.markRedraw()}})},e.prototype.remove=function(t){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(n,o){n.__temp&&(r.remove(n),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e})(_e);function Zh(a,e){return{seriesType:a,plan:fn(),reset:function(t){var r=t.getData(),i=t.coordinateSystem;if(t.pipelineContext,!!i){var n=j(i.dimensions,function(c){return r.mapDimension(c)}).slice(0,2),o=n.length,s=r.getCalculationInfo("stackResultDimension");ee(r,n[0])&&(n[0]=s),ee(r,n[1])&&(n[1]=s);var l=r.getStore(),u=r.getDimensionIndex(n[0]),h=r.getDimensionIndex(n[1]);return o&&{progress:function(c,v){for(var f=c.end-c.start,d=bt(f*o),p=[],y=[],g=c.start,m=0;g<c.end;g++){var _=void 0;if(o===1){var x=l.get(u,g);_=i.dataToPoint(x,null,y)}else p[0]=l.get(u,g),p[1]=l.get(h,g),_=i.dataToPoint(p,null,y);d[m++]=_[0],d[m++]=_[1]}v.setLayout("points",d)}}}}}}var Uh={average:function(a){for(var e=0,t=0,r=0;r<a.length;r++)isNaN(a[r])||(e+=a[r],t++);return t===0?NaN:e/t},sum:function(a){for(var e=0,t=0;t<a.length;t++)e+=a[t]||0;return e},max:function(a){for(var e=-1/0,t=0;t<a.length;t++)a[t]>e&&(e=a[t]);return isFinite(e)?e:NaN},min:function(a){for(var e=1/0,t=0;t<a.length;t++)a[t]<e&&(e=a[t]);return isFinite(e)?e:NaN},nearest:function(a){return a[0]}},Yh=function(a){return Math.round(a.length/2)};function Xh(a){return{seriesType:a,reset:function(e,t,r){var i=e.getData(),n=e.get("sampling"),o=e.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&n){var l=o.getBaseAxis(),u=o.getOtherAxis(l),h=l.getExtent(),c=r.getDevicePixelRatio(),v=Math.abs(h[1]-h[0])*(c||1),f=Math.round(s/v);if(isFinite(f)&&f>1){n==="lttb"?e.setData(i.lttbDownSample(i.mapDimension(u.dim),1/f)):n==="minmax"&&e.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/f));var d=void 0;Y(n)?d=Uh[n]:X(n)&&(d=n),d&&e.setData(i.downSample(i.mapDimension(u.dim),1/f,d,Yh))}}}}}function _o(a){a.registerChartView(Fh),a.registerSeriesModel(wh),a.registerLayout(Zh("line")),a.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),r=e.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",r)}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,Xh("line"))}var xo={left:0,right:0,top:0,bottom:0},nr=["25%","25%"],jh=(function(a){G(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.mergeDefaultAndTheme=function(t,r){var i=hr(t.outerBounds);a.prototype.mergeDefaultAndTheme.apply(this,arguments),i&&t.outerBounds&&je(t.outerBounds,i)},e.prototype.mergeOption=function(t,r){a.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&t.outerBounds&&je(this.option.outerBounds,t.outerBounds)},e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:xo,outerBoundsContain:"all",outerBoundsClampWidth:nr[0],outerBoundsClampHeight:nr[1],backgroundColor:P.color.transparent,borderWidth:1,borderColor:P.color.neutral30},e})(_t),ea=(function(a){G(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",ft).models[0]},e.type="cartesian2dAxis",e})(_t);dl(ea,rh);var bo={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:P.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:P.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:P.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[P.color.backgroundTint,P.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:P.color.neutral00,borderColor:P.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},$h=nt({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},bo),Ca=nt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:P.color.axisMinorSplitLine,width:1}}},bo),Kh=nt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Ca),qh=lt({logBase:10},Ca);const Jh={category:$h,value:Ca,time:Kh,log:qh};var Qh={value:1,category:1,time:1,log:1},tc=null;function ec(){return tc}function yi(a,e,t,r){C(Qh,function(i,n){var o=nt(nt({},Jh[n],!0),r,!0),s=(function(l){G(u,l);function u(){var h=l!==null&&l.apply(this,arguments)||this;return h.type=e+"Axis."+n,h}return u.prototype.mergeDefaultAndTheme=function(h,c){var v=pl(this),f=v?hr(h):{},d=c.getTheme();nt(h,d.get(n+"Axis")),nt(h,this.getDefaultOption()),h.type=_i(h),v&&je(h,f,v)},u.prototype.optionUpdated=function(){var h=this.option;h.type==="category"&&(this.__ordinalMeta=qr.createByAxisModel(this))},u.prototype.getCategories=function(h){var c=this.option;if(c.type==="category")return h?c.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.prototype.updateAxisBreaks=function(h){return{breaks:[]}},u.type=e+"Axis."+n,u.defaultOption=o,u})(t);a.registerComponentModel(s)}),a.registerSubTypeDefaulter(e+"Axis",_i)}function _i(a){return a.type||(a.data?"category":"value")}var rc=(function(){function a(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return a.prototype.getAxis=function(e){return this._axes[e]},a.prototype.getAxes=function(){return j(this._dimList,function(e){return this._axes[e]},this)},a.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Ht(this.getAxes(),function(t){return t.scale.type===e})},a.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},a})(),ra=["x","y"];function xi(a){return(a.type==="interval"||a.type==="time")&&!a.hasBreaks()}var ac=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=ra,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!xi(t)||!xi(r))){var i=t.getExtent(),n=r.getExtent(),o=this.dataToPoint([i[0],n[0]]),s=this.dataToPoint([i[1],n[1]]),l=i[1]-i[0],u=n[1]-n[0];if(!(!l||!u)){var h=(s[0]-o[0])/l,c=(s[1]-o[1])/u,v=o[0]-i[0]*h,f=o[1]-n[0]*c,d=this._transform=[h,0,0,c,v,f];this._invTransform=wn([],d)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,r){var i=this.dataToPoint(t),n=this.dataToPoint(r),o=this.getArea(),s=new pt(i[0],i[1],n[0]-i[0],n[1]-i[1]);return o.intersect(s)},e.prototype.dataToPoint=function(t,r,i){i=i||[];var n=t[0],o=t[1];if(this._transform&&n!=null&&isFinite(n)&&o!=null&&isFinite(o))return Qt(i,t,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(n,r)),i[1]=l.toGlobalCoord(l.dataToCoord(o,r)),i},e.prototype.clampData=function(t,r){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,o=i.getExtent(),s=n.getExtent(),l=i.parse(t[0]),u=n.parse(t[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},e.prototype.pointToData=function(t,r,i){if(i=i||[],this._invTransform)return Qt(i,t,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return i[0]=n.coordToData(n.toLocalCoord(t[0]),r),i[1]=o.coordToData(o.toLocalCoord(t[1]),r),i},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var r=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),n=Math.min(r[0],r[1])-t,o=Math.min(i[0],i[1])-t,s=Math.max(r[0],r[1])-n+t,l=Math.max(i[0],i[1])-o+t;return new pt(n,o,s,l)},e})(rc),ic=(function(a){G(e,a);function e(t,r,i,n,o){var s=a.call(this,t,r,i)||this;return s.index=0,s.type=n||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),t&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(t,r){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e})(gh),nc="expandAxisBreak",Ot=Math.PI,oc=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],sc=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],Ae=vt(),So=vt(),wo=(function(){function a(e){this.recordMap={},this.resolveAxisNameOverlap=e}return a.prototype.ensureRecord=function(e){var t=e.axis.dim,r=e.componentIndex,i=this.recordMap,n=i[t]||(i[t]=[]);return n[r]||(n[r]={ready:{}})},a})();function lc(a,e,t,r){var i=t.axis,n=e.ensureRecord(t),o=[],s,l=Aa(a.axisName)&&ae(a.nameLocation);C(r,function(d){var p=Rt(d);if(!(!p||p.label.ignore)){o.push(p);var y=n.transGroup;l&&(y.transform?wn(ue,y.transform):ml(ue),p.transform&&yl(ue,ue,p.transform),pt.copy(Ne,p.localRect),Ne.applyTransform(ue),s?s.union(Ne):pt.copy(s=new pt(0,0,0,0),Ne))}});var u=Math.abs(n.dirVec.x)>.1?"x":"y",h=n.transGroup[u];if(o.sort(function(d,p){return Math.abs(d.label[u]-h)-Math.abs(p.label[u]-h)}),l&&s){var c=i.getExtent(),v=Math.min(c[0],c[1]),f=Math.max(c[0],c[1])-v;s.union(new pt(v,0,f,1))}n.stOccupiedRect=s,n.labelInfoList=o}var ue=pa(),Ne=new pt(0,0,0,0),Co=function(a,e,t,r,i,n){if(ae(a.nameLocation)){var o=n.stOccupiedRect;o&&Ao(xh({},o,n.transGroup.transform),r,i)}else Mo(n.labelInfoList,n.dirVec,r,i)};function Ao(a,e,t){var r=new te;Sa(a,e,r,{direction:Math.atan2(t.y,t.x),bidirectional:!1,touchThreshold:.05})&&bh(e,r)}function Mo(a,e,t,r){for(var i=te.dot(r,e)>=0,n=0,o=a.length;n<o;n++){var s=a[i?n:o-1-n];s.label.ignore||Ao(s,t,r)}}var Et=(function(){function a(e,t,r,i){this.group=new ct,this._axisModel=e,this._api=t,this._local={},this._shared=i||new wo(Co),this._resetCfgDetermined(r)}return a.prototype.updateCfg=function(e){var t=this._cfg.raw;t.position=e.position,t.labelOffset=e.labelOffset,this._resetCfgDetermined(t)},a.prototype.__getRawCfg=function(){return this._cfg.raw},a.prototype._resetCfgDetermined=function(e){var t=this._axisModel,r=t.getDefaultOption?t.getDefaultOption():{},i=q(e.axisName,t.get("name")),n=t.get("nameMoveOverlap");(n==null||n==="auto")&&(n=q(e.defaultNameMoveOverlap,!0));var o={raw:e,position:e.position,rotation:e.rotation,nameDirection:q(e.nameDirection,1),tickDirection:q(e.tickDirection,1),labelDirection:q(e.labelDirection,1),labelOffset:q(e.labelOffset,0),silent:q(e.silent,!0),axisName:i,nameLocation:gl(t.get("nameLocation"),r.nameLocation,"end"),shouldNameMoveOverlap:Aa(i)&&n,optionHideOverlap:t.get(["axisLabel","hideOverlap"]),showMinorTicks:t.get(["minorTick","show"])};this._cfg=o;var s=new ct({x:o.position[0],y:o.position[1],rotation:o.rotation});s.updateTransform(),this._transformGroup=s;var l=this._shared.ensureRecord(t);l.transGroup=this._transformGroup,l.dirVec=new te(Math.cos(-o.rotation),Math.sin(-o.rotation))},a.prototype.build=function(e,t){var r=this;return e||(e={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),C(uc,function(i){e[i]&&hc[i](r._cfg,r._local,r._shared,r._axisModel,r.group,r._transformGroup,r._api,t||{})}),this},a.innerTextLayout=function(e,t,r){var i=Cn(t-e),n,o;return Je(i)?(o=r>0?"top":"bottom",n="center"):Je(i-Ot)?(o=r>0?"bottom":"top",n="center"):(o="middle",i>0&&i<Ot?n=r>0?"right":"left":n=r>0?"left":"right"),{rotation:i,textAlign:n,textVerticalAlign:o}},a.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},a.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},a})(),uc=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],hc={axisLine:function(a,e,t,r,i,n,o){var s=r.get(["axisLine","show"]);if(s==="auto"&&(s=!0,a.raw.axisLineAutoShow!=null&&(s=!!a.raw.axisLineAutoShow)),!!s){var l=r.axis.getExtent(),u=n.transform,h=[l[0],0],c=[l[1],0],v=h[0]>c[0];u&&(Qt(h,h,u),Qt(c,c,u));var f=K({lineCap:"round"},r.getModel(["axisLine","lineStyle"]).getLineStyle()),d={strokeContainThreshold:a.raw.strokeContainThreshold||5,silent:!0,z2:1,style:f};if(r.get(["axisLine","breakLine"])&&r.axis.scale.hasBreaks())ec().buildAxisBreakLine(r,i,n,d);else{var p=new Ke(K({shape:{x1:h[0],y1:h[1],x2:c[0],y2:c[1]}},d));qe(p.shape,p.style.lineWidth),p.anid="line",i.add(p)}var y=r.get(["axisLine","symbol"]);if(y!=null){var g=r.get(["axisLine","symbolSize"]);Y(y)&&(y=[y,y]),(Y(g)||Vt(g))&&(g=[g,g]);var m=bn(r.get(["axisLine","symbolOffset"])||0,g),_=g[0],x=g[1];C([{rotate:a.rotation+Math.PI/2,offset:m[0],r:0},{rotate:a.rotation-Math.PI/2,offset:m[1],r:Math.sqrt((h[0]-c[0])*(h[0]-c[0])+(h[1]-c[1])*(h[1]-c[1]))}],function(b,w){if(y[w]!=="none"&&y[w]!=null){var S=Ft(y[w],-_/2,-x/2,_,x,f.stroke,!0),L=b.r+b.offset,D=v?c:h;S.attr({rotation:b.rotate,x:D[0]+L*Math.cos(a.rotation),y:D[1]-L*Math.sin(a.rotation),silent:!0,z2:11}),i.add(S)}})}}},axisTickLabelEstimate:function(a,e,t,r,i,n,o,s){var l=Si(e,i,s);l&&bi(a,e,t,r,i,n,o,yt.estimate)},axisTickLabelDetermine:function(a,e,t,r,i,n,o,s){var l=Si(e,i,s);l&&bi(a,e,t,r,i,n,o,yt.determine);var u=dc(a,i,n,r);vc(a,e.labelLayoutList,u),pc(a,i,n,r,a.tickDirection)},axisName:function(a,e,t,r,i,n,o,s){var l=t.ensureRecord(r);e.nameEl&&(i.remove(e.nameEl),e.nameEl=l.nameLayout=l.nameLocation=null);var u=a.axisName;if(Aa(u)){var h=a.nameLocation,c=a.nameDirection,v=r.getModel("nameTextStyle"),f=r.get("nameGap")||0,d=r.axis.getExtent(),p=r.axis.inverse?-1:1,y=new te(0,0),g=new te(0,0);h==="start"?(y.x=d[0]-p*f,g.x=-p):h==="end"?(y.x=d[1]+p*f,g.x=p):(y.x=(d[0]+d[1])/2,y.y=a.labelOffset+c*f,g.y=c);var m=pa();g.transform(An(m,m,a.rotation));var _=r.get("nameRotate");_!=null&&(_=_*Ot/180);var x,b;ae(h)?x=Et.innerTextLayout(a.rotation,_??a.rotation,c):(x=cc(a.rotation,h,_||0,d),b=a.raw.axisNameAvailableWidth,b!=null&&(b=Math.abs(b/Math.sin(x.rotation)),!isFinite(b)&&(b=null)));var w=v.getFont(),S=r.get("nameTruncate",!0)||{},L=S.ellipsis,D=$e(a.raw.nameTruncateMaxWidth,S.maxWidth,b),M=s.nameMarginLevel||0,A=new gt({x:y.x,y:y.y,rotation:x.rotation,silent:Et.isLabelSilent(r),style:Zt(v,{text:u,font:w,overflow:"truncate",width:D,ellipsis:L,fill:v.getTextColor()||r.get(["axisLine","lineStyle","color"]),align:v.get("align")||x.textAlign,verticalAlign:v.get("verticalAlign")||x.textVerticalAlign}),z2:1});if(ga({el:A,componentModel:r,itemName:u}),A.__fullText=u,A.anid="name",r.get("triggerEvent")){var I=Et.makeAxisEventDataBase(r);I.targetType="axisName",I.name=u,tt(A).eventData=I}n.add(A),A.updateTransform(),e.nameEl=A;var T=l.nameLayout=Rt({label:A,priority:A.z2,defaultAttr:{ignore:A.ignore},marginDefault:ae(h)?oc[M]:sc[M]});if(l.nameLocation=h,i.add(A),A.decomposeTransform(),a.shouldNameMoveOverlap&&T){var k=t.ensureRecord(r);t.resolveAxisNameOverlap(a,t,r,T,g,k)}}}};function bi(a,e,t,r,i,n,o,s){To(e)||gc(a,e,i,s,r,o);var l=e.labelLayoutList;mc(a,r,l,n),a.rotation;var u=a.optionHideOverlap;fc(r,l,u),u&&Sh(Ht(l,function(h){return h&&!h.label.ignore})),lc(a,t,r,l)}function cc(a,e,t,r){var i=Cn(t-a),n,o,s=r[0]>r[1],l=e==="start"&&!s||e!=="start"&&s;return Je(i-Ot/2)?(o=l?"bottom":"top",n="center"):Je(i-Ot*1.5)?(o=l?"top":"bottom",n="center"):(o="middle",i<Ot*1.5&&i>Ot/2?n=l?"left":"right":n=l?"right":"left"),{rotation:i,textAlign:n,textVerticalAlign:o}}function fc(a,e,t){if(Qn(a.axis))return;function r(s,l,u){var h=Rt(e[l]),c=Rt(e[u]);if(!(!h||!c)){if(s===!1||h.suggestIgnore){ye(h.label);return}if(c.suggestIgnore){ye(c.label);return}var v=.1;if(!t){var f=[0,0,0,0];h=ui({marginForce:f},h),c=ui({marginForce:f},c)}Sa(h,c,null,{touchThreshold:v})&&ye(s?c.label:h.label)}}var i=a.get(["axisLabel","showMinLabel"]),n=a.get(["axisLabel","showMaxLabel"]),o=e.length;r(i,0,1),r(n,o-1,o-2)}function vc(a,e,t){a.showMinorTicks||C(e,function(r){if(r&&r.label.ignore)for(var i=0;i<t.length;i++){var n=t[i],o=So(n),s=Ae(r.label);if(o.tickValue!=null&&!o.onBand&&o.tickValue===s.tickValue){ye(n);return}}})}function ye(a){a&&(a.ignore=!0)}function Do(a,e,t,r,i){for(var n=[],o=[],s=[],l=0;l<a.length;l++){var u=a[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=t,e&&(Qt(o,o,e),Qt(s,s,e));var h=new Ke({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});qe(h.shape,h.style.lineWidth),h.anid=i+"_"+a[l].tickValue,n.push(h);var c=So(h);c.onBand=!!a[l].onBand,c.tickValue=a[l].tickValue}return n}function dc(a,e,t,r){var i=r.axis,n=r.getModel("axisTick"),o=n.get("show");if(o==="auto"&&(o=!0,a.raw.axisTickAutoShow!=null&&(o=!!a.raw.axisTickAutoShow)),!o||i.scale.isBlank())return[];for(var s=n.getModel("lineStyle"),l=a.tickDirection*n.get("length"),u=i.getTicksCoords(),h=Do(u,t.transform,l,lt(s.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<h.length;c++)e.add(h[c]);return h}function pc(a,e,t,r,i){var n=r.axis,o=r.getModel("minorTick");if(!(!a.showMinorTicks||n.scale.isBlank())){var s=n.getMinorTicksCoords();if(s.length)for(var l=o.getModel("lineStyle"),u=i*o.get("length"),h=lt(l.getLineStyle(),lt(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),c=0;c<s.length;c++)for(var v=Do(s[c],t.transform,u,h,"minorticks_"+c),f=0;f<v.length;f++)e.add(v[f])}}function Si(a,e,t){if(To(a)){var r=a.axisLabelsCreationContext,i=r.out.noPxChangeTryDetermine;if(t.noPxChange){for(var n=!0,o=0;o<i.length;o++)n=n&&i[o]();if(n)return!1}i.length&&(e.remove(a.labelGroup),aa(a,null,null,null))}return!0}function gc(a,e,t,r,i,n){var o=i.axis,s=$e(a.raw.axisLabelShow,i.get(["axisLabel","show"])),l=new ct;t.add(l);var u=rr(r);if(!s||o.scale.isBlank()){aa(e,[],l,u);return}var h=i.getModel("axisLabel"),c=o.getViewLabels(u),v=($e(a.raw.labelRotate,h.get("rotate"))||0)*Ot/180,f=Et.innerTextLayout(a.rotation,v,a.labelDirection),d=i.getCategories&&i.getCategories(!0),p=[],y=i.get("triggerEvent"),g=1/0,m=-1/0;C(c,function(x,b){var w,S=o.scale.type==="ordinal"?o.scale.getRawOrdinalNumber(x.tickValue):x.tickValue,L=x.formattedLabel,D=x.rawLabel,M=h;if(d&&d[S]){var A=d[S];rt(A)&&A.textStyle&&(M=new kt(A.textStyle,h,i.ecModel))}var I=M.getTextColor()||i.get(["axisLine","lineStyle","color"]),T=M.getShallow("align",!0)||f.textAlign,k=q(M.getShallow("alignMinLabel",!0),T),O=q(M.getShallow("alignMaxLabel",!0),T),E=M.getShallow("verticalAlign",!0)||M.getShallow("baseline",!0)||f.textVerticalAlign,F=q(M.getShallow("verticalAlignMinLabel",!0),E),R=q(M.getShallow("verticalAlignMaxLabel",!0),E),B=10+(((w=x.time)===null||w===void 0?void 0:w.level)||0);g=Math.min(g,B),m=Math.max(m,B);var V=new gt({x:0,y:0,rotation:0,silent:Et.isLabelSilent(i),z2:B,style:Zt(M,{text:L,align:b===0?k:b===c.length-1?O:T,verticalAlign:b===0?F:b===c.length-1?R:E,fill:X(I)?I(o.type==="category"?D:o.type==="value"?S+"":S,b):I})});V.anid="label_"+S;var N=Ae(V);if(N.break=x.break,N.tickValue=S,N.layoutRotation=f.rotation,ga({el:V,componentModel:i,itemName:L,formatterParamsExtra:{isTruncated:function(){return V.isTruncated},value:D,tickIndex:b}}),y){var H=Et.makeAxisEventDataBase(i);H.targetType="axisLabel",H.value=D,H.tickIndex=b,x.break&&(H.break={start:x.break.parsedBreak.vmin,end:x.break.parsedBreak.vmax}),o.type==="category"&&(H.dataIndex=S),tt(V).eventData=H,x.break&&_c(i,n,V,x.break)}p.push(V),l.add(V)});var _=j(p,function(x){return{label:x,priority:Ae(x).break?x.z2+(m-g+1):x.z2,defaultAttr:{ignore:x.ignore}}});aa(e,_,l,u)}function To(a){return!!a.labelLayoutList}function aa(a,e,t,r){a.labelLayoutList=e,a.labelGroup=t,a.axisLabelsCreationContext=r}function mc(a,e,t,r){var i=e.get(["axisLabel","margin"]);C(t,function(n,o){var s=Rt(n);if(s){var l=s.label,u=Ae(l);s.suggestIgnore=l.ignore,l.ignore=!1,Ha(xt,yc),xt.x=e.axis.dataToCoord(u.tickValue),xt.y=a.labelOffset+a.labelDirection*i,xt.rotation=u.layoutRotation,r.add(xt),xt.updateTransform(),r.remove(xt),xt.decomposeTransform(),Ha(l,xt),l.markRedraw(),ir(s,!0),Rt(s)}})}var xt=new st,yc=new st;function Aa(a){return!!a}function _c(a,e,t,r){t.on("click",function(i){var n={type:nc,breaks:[{start:r.parsedBreak.breakOption.start,end:r.parsedBreak.breakOption.end}]};n[a.axis.dim+"AxisIndex"]=a.componentIndex,e.dispatchAction(n)})}function or(a,e,t){t=t||{};var r=e.axis,i={},n=r.getAxesOnZeroOf()[0],o=r.position,s=n?"onZero":o,l=r.dim,u=[a.x,a.x+a.width,a.y,a.y+a.height],h={left:0,right:1,top:0,bottom:1,onZero:2},c=e.get("offset")||0,v=l==="x"?[u[2]-c,u[3]+c]:[u[0]-c,u[1]+c];if(n){var f=n.toGlobalCoord(n.dataToCoord(0));v[h.onZero]=Math.max(Math.min(f,v[1]),v[0])}i.position=[l==="y"?v[h[s]]:u[0],l==="x"?v[h[s]]:u[3]],i.rotation=Math.PI/2*(l==="x"?0:1);var d={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=d[o],i.labelOffset=n?v[h[o]]-v[h.onZero]:0,e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),$e(t.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var p=e.get(["axisLabel","rotate"]);return i.labelRotate=s==="top"?-p:p,i.z2=1,i}function xc(a){return a.coordinateSystem&&a.coordinateSystem.type==="cartesian2d"}function wi(a){var e={xAxisModel:null,yAxisModel:null};return C(e,function(t,r){var i=r.replace(/Model$/,""),n=a.getReferringComponents(i,ft).models[0];e[r]=n}),e}function bc(a,e,t,r,i,n){for(var o=or(a,t),s=!1,l=!1,u=0;u<e.length;u++)$r(e[u].getOtherAxis(t.axis).scale)&&(s=l=!0,t.axis.type==="category"&&t.axis.onBand&&(l=!1));return o.axisLineAutoShow=s,o.axisTickAutoShow=l,o.defaultNameMoveOverlap=n,new Et(t,r,o,i)}function Sc(a,e,t){var r=or(e,t);a.updateCfg(r)}function wc(a,e,t){var r=re.prototype,i=r.getTicks.call(t),n=r.getTicks.call(t,{expandToNicedExtent:!0}),o=i.length-1,s=r.getInterval.call(t),l=Jn(a,e),u=l.extent,h=l.fixMin,c=l.fixMax;a.type==="log"&&(u=Kr(a.base,u,!0)),a.setBreaksFromOption(eo(e)),a.setExtent(u[0],u[1]),a.calcNiceExtent({splitNumber:o,fixMin:h,fixMax:c});var v=r.getExtent.call(a);h&&(u[0]=v[0]),c&&(u[1]=v[1]);var f=r.getInterval.call(a),d=u[0],p=u[1];if(h&&c)f=(p-d)/o;else if(h)for(p=u[0]+f*o;p<u[1]&&isFinite(p)&&isFinite(u[1]);)f=xr(f),p=u[0]+f*o;else if(c)for(d=u[1]-f*o;d>u[0]&&isFinite(d)&&isFinite(u[0]);)f=xr(f),d=u[1]-f*o;else{var y=a.getTicks().length-1;y>o&&(f=xr(f));var g=f*o;p=Math.ceil(u[1]/f)*f,d=it(p-g),d<0&&u[0]>=0?(d=0,p=it(g)):p>0&&u[1]<=0&&(p=0,d=-it(g))}var m=(i[0].value-n[0].value)/s,_=(i[o].value-n[o].value)/s;r.setExtent.call(a,d+f*m,p+f*_),r.setInterval.call(a,f),(m||_)&&r.setNiceExtent.call(a,d+f,p-f)}var Ci=[[3,1],[0,2]],Cc=(function(){function a(e,t,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=ra,this._initCartesian(e,t,r),this.model=e}return a.prototype.getRect=function(){return this._rect},a.prototype.update=function(e,t){var r=this._axesMap;this._updateScale(e,this.model);function i(o){var s,l=lr(o),u=l.length;if(u){for(var h=[],c=u-1;c>=0;c--){var v=+l[c],f=o[v],d=f.model,p=f.scale;$r(p)&&d.get("alignTicks")&&d.get("interval")==null?h.push(f):(ii(p,d),$r(p)&&(s=f))}h.length&&(s||(s=h.pop(),ii(s.scale,s.model)),C(h,function(y){wc(y.scale,y.model,s.scale)}))}}i(r.x),i(r.y);var n={};C(r.x,function(o){Ai(r,"y",o,n)}),C(r.y,function(o){Ai(r,"x",o,n)}),this.resize(this.model,t)},a.prototype.resize=function(e,t,r){var i=cr(e,t),n=this._rect=Ut(e.getBoxLayoutParams(),i.refContainer),o=this._axesMap,s=this._coordsList,l=e.get("containLabel");if(Lo(o,n),!r){var u=Mc(n,s,o,l,t),h=void 0;if(l)h=Ti(n.clone(),"axisLabel",null,n,o,u,i);else{var c=Dc(e,n,i),v=c.outerBoundsRect,f=c.parsedOuterBoundsContain,d=c.outerBoundsClamp;v&&(h=Ti(v,f,d,n,o,u,i))}Io(n,o,yt.determine,null,h,i)}C(this._coordsList,function(p){p.calcAffineTransform()})},a.prototype.getAxis=function(e,t){var r=this._axesMap[e];if(r!=null)return r[t||0]},a.prototype.getAxes=function(){return this._axesList.slice()},a.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var r="x"+e+"y"+t;return this._coordsMap[r]}rt(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,n=this._coordsList;i<n.length;i++)if(n[i].getAxis("x").index===e||n[i].getAxis("y").index===t)return n[i]},a.prototype.getCartesians=function(){return this._coordsList.slice()},a.prototype.convertToPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},a.prototype.convertFromPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},a.prototype._findConvertTarget=function(e){var t=e.seriesModel,r=e.xAxisModel||t&&t.getReferringComponents("xAxis",ft).models[0],i=e.yAxisModel||t&&t.getReferringComponents("yAxis",ft).models[0],n=e.gridModel,o=this._coordsList,s,l;if(t)s=t.coordinateSystem,ht(o,s)<0&&(s=null);else if(r&&i)s=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(n){var u=n.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},a.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},a.prototype._initCartesian=function(e,t,r){var i=this,n=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,C(s.x,function(h,c){C(s.y,function(v,f){var d="x"+c+"y"+f,p=new ac(d);p.master=i,p.model=e,i._coordsMap[d]=p,i._coordsList.push(p),p.addAxis(h),p.addAxis(v)})});function u(h){return function(c,v){if(Ar(c,e)){var f=c.get("position");h==="x"?f!=="top"&&f!=="bottom"&&(f=o.bottom?"top":"bottom"):f!=="left"&&f!=="right"&&(f=o.left?"right":"left"),o[f]=!0;var d=new ic(h,Qu(c),[0,0],c.get("type"),f),p=d.type==="category";d.onBand=p&&c.get("boundaryGap"),d.inverse=c.get("inverse"),c.axis=d,d.model=c,d.grid=n,d.index=v,n._axesList.push(d),s[h][v]=d,l[h]++}}}},a.prototype._updateScale=function(e,t){C(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var n=i.model.get("categorySortInfo");i.scale.setSortInfo(n)}}),e.eachSeries(function(i){if(xc(i)){var n=wi(i),o=n.xAxisModel,s=n.yAxisModel;if(!Ar(o,t)||!Ar(s,t))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=i.getData(),h=l.getAxis("x"),c=l.getAxis("y");r(u,h),r(u,c)}},this);function r(i,n){C(to(i,n.dim),function(o){n.scale.unionExtentFromData(i,o)})}},a.prototype.getTooltipAxes=function(e){var t=[],r=[];return C(this.getCartesians(),function(i){var n=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(n);ht(t,n)<0&&t.push(n),ht(r,o)<0&&r.push(o)}),{baseAxes:t,otherAxes:r}},a.create=function(e,t){var r=[];return e.eachComponent("grid",function(i,n){var o=new a(i,e,t);o.name="grid_"+n,o.resize(i,t,!0),i.coordinateSystem=o,r.push(o)}),e.eachSeries(function(i){_l({targetModel:i,coordSysType:"cartesian2d",coordSysProvider:n});function n(){var o=wi(i),s=o.xAxisModel,l=o.yAxisModel,u=s.getCoordSysModel(),h=u.coordinateSystem;return h.getCartesian(s.componentIndex,l.componentIndex)}}),r},a.dimensions=ra,a})();function Ar(a,e){return a.getCoordSysModel()===e}function Ai(a,e,t,r){t.getAxesOnZeroOf=function(){return n?[n]:[]};var i=a[e],n,o=t.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)Mi(i[l])&&(n=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&Mi(i[u])&&!r[h(i[u])]){n=i[u];break}n&&(r[h(n)]=!0);function h(c){return c.dim+"_"+c.index}}function Mi(a){return a&&a.type!=="category"&&a.type!=="time"&&th(a)}function Ac(a,e){var t=a.getExtent(),r=t[0]+t[1];a.toGlobalCoord=a.dim==="x"?function(i){return i+e}:function(i){return r-i+e},a.toLocalCoord=a.dim==="x"?function(i){return i-e}:function(i){return r-i+e}}function Lo(a,e){C(a.x,function(t){return Di(t,e.x,e.width)}),C(a.y,function(t){return Di(t,e.y,e.height)})}function Di(a,e,t){var r=[0,t],i=a.inverse?1:0;a.setExtent(r[i],r[1-i]),Ac(a,e)}function Ti(a,e,t,r,i,n,o){Io(r,i,yt.estimate,e,!1,o);var s=[0,0,0,0];u(0),u(1),h(r,0,NaN),h(r,1,NaN);var l=xl(s,function(v){return v>0})==null;return Wr(r,s,!0,!0,t),Lo(i,r),l;function u(v){C(i[$t[v]],function(f){if(Ce(f.model)){var d=n.ensureRecord(f.model),p=d.labelInfoList;if(p)for(var y=0;y<p.length;y++){var g=p[y],m=f.scale.normalize(Ae(g.label).tickValue);m=v===1?1-m:m,h(g.rect,v,m),h(g.rect,1-v,NaN)}var _=d.nameLayout;if(_){var m=ae(d.nameLocation)?.5:NaN;h(_.rect,v,m),h(_.rect,1-v,NaN)}}})}function h(v,f,d){var p=a[$t[f]]-v[$t[f]],y=v[Qe[f]]+v[$t[f]]-(a[Qe[f]]+a[$t[f]]);p=c(p,1-d),y=c(y,d);var g=Ci[f][0],m=Ci[f][1];s[g]=Fa(s[g],p),s[m]=Fa(s[m],y)}function c(v,f){return v>0&&!Ye(f)&&f>1e-4&&(v/=f),v}}function Mc(a,e,t,r,i){var n=new wo(Tc);return C(t,function(o){return C(o,function(s){if(Ce(s.model)){var l=!r;s.axisBuilder=bc(a,e,s.model,i,n,l)}})}),n}function Io(a,e,t,r,i,n){var o=t===yt.determine;C(e,function(u){return C(u,function(h){Ce(h.model)&&(Sc(h.axisBuilder,a,h.model),h.axisBuilder.build(o?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:i}))})});var s={x:0,y:0};l(0),l(1);function l(u){s[$t[1-u]]=a[Qe[u]]<=n.refContainer[Qe[u]]*.5?0:1-u===1?2:1}C(e,function(u,h){return C(u,function(c){Ce(c.model)&&((r==="all"||o)&&c.axisBuilder.build({axisName:!0},{nameMarginLevel:s[h]}),o&&c.axisBuilder.build({axisLine:!0}))})})}function Dc(a,e,t){var r,i=a.get("outerBoundsMode",!0);i==="same"?r=e.clone():(i==null||i==="auto")&&(r=Ut(a.get("outerBounds",!0)||xo,t.refContainer));var n=a.get("outerBoundsContain",!0),o;n==null||n==="auto"||ht(["all","axisLabel"],n)<0?o="all":o=n;var s=[Za(q(a.get("outerBoundsClampWidth",!0),nr[0]),e.width),Za(q(a.get("outerBoundsClampHeight",!0),nr[1]),e.height)];return{outerBoundsRect:r,parsedOuterBoundsContain:o,outerBoundsClamp:s}}var Tc=function(a,e,t,r,i,n){var o=t.axis.dim==="x"?"y":"x";Co(a,e,t,r,i,n),ae(a.nameLocation)||C(e.recordMap[o],function(s){s&&s.labelInfoList&&s.dirVec&&Mo(s.labelInfoList,s.dirVec,r,i)})};function Lc(a,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Ic(t,a,e),t.seriesInvolved&&Oc(t,a),t}function Ic(a,e,t){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),n=i.get("link",!0)||[],o=[];C(t.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=Me(s.model),u=a.coordSysAxesInfo[l]={};a.coordSysMap[l]=s;var h=s.model,c=h.getModel("tooltip",r);if(C(s.getAxes(),et(p,!1,null)),s.getTooltipAxes&&r&&c.get("show")){var v=c.get("trigger")==="axis",f=c.get(["axisPointer","type"])==="cross",d=s.getTooltipAxes(c.get(["axisPointer","axis"]));(v||f)&&C(d.baseAxes,et(p,f?"cross":!0,v)),f&&C(d.otherAxes,et(p,"cross",!1))}function p(y,g,m){var _=m.model.getModel("axisPointer",i),x=_.get("show");if(!(!x||x==="auto"&&!y&&!ia(_))){g==null&&(g=_.get("triggerTooltip")),_=y?kc(m,c,i,e,y,g):_;var b=_.get("snap"),w=_.get("triggerEmphasis"),S=Me(m.model),L=g||b||m.type==="category",D=a.axesInfo[S]={key:S,axis:m,coordSys:s,axisPointerModel:_,triggerTooltip:g,triggerEmphasis:w,involveSeries:L,snap:b,useHandle:ia(_),seriesModels:[],linkGroup:null};u[S]=D,a.seriesInvolved=a.seriesInvolved||L;var M=Pc(n,m);if(M!=null){var A=o[M]||(o[M]={axesInfo:{}});A.axesInfo[S]=D,A.mapper=n[M].mapper,D.linkGroup=A}}}})}function kc(a,e,t,r,i,n){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};C(s,function(v){l[v]=Wt(o.get(v))}),l.snap=a.type!=="category"&&!!n,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var h=o.get(["label","show"]);if(u.show=h??!0,!n){var c=l.lineStyle=o.get("crossStyle");c&&lt(u,c.textStyle)}}return a.model.getModel("axisPointer",new kt(l,t,r))}function Oc(a,e){e.eachSeries(function(t){var r=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),n=t.get(["tooltip","show"],!0);!r||!r.model||i==="none"||i===!1||i==="item"||n===!1||t.get(["axisPointer","show"],!0)===!1||C(a.coordSysAxesInfo[Me(r.model)],function(o){var s=o.axis;r.getAxis(s.dim)===s&&(o.seriesModels.push(t),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=t.getData().count())})})}function Pc(a,e){for(var t=e.model,r=e.dim,i=0;i<a.length;i++){var n=a[i]||{};if(Mr(n[r+"AxisId"],t.id)||Mr(n[r+"AxisIndex"],t.componentIndex)||Mr(n[r+"AxisName"],t.name))return i}}function Mr(a,e){return a==="all"||$(a)&&ht(a,e)>=0||a===e}function Ec(a){var e=Ma(a);if(e){var t=e.axisPointerModel,r=e.axis.scale,i=t.option,n=t.get("status"),o=t.get("value");o!=null&&(o=r.parse(o));var s=ia(t);n==null&&(i.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function Ma(a){var e=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Me(a)]}function Rc(a){var e=Ma(a);return e&&e.axisPointerModel}function ia(a){return!!a.get(["handle","show"])}function Me(a){return a.type+"||"+a.id}var Li={},ko=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,n){this.axisPointerClass&&Ec(t),a.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},e.prototype.updateAxisPointer=function(t,r,i,n){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,r){var i=this._axisPointer;i&&i.remove(r)},e.prototype.dispose=function(t,r){this._disposeAxisPointer(r),a.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,r,i){var n=e.getAxisPointerClass(this.axisPointerClass);if(n){var o=Rc(t);o?(this._axisPointer||(this._axisPointer=new n)).render(t,o,r,i):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,r){Li[t]=r},e.getAxisPointerClass=function(t){return t&&Li[t]},e.type="axis",e})(Ct),na=vt();function Bc(a,e,t,r){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel("splitArea"),o=n.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:n,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(u.length){var h=s.length,c=na(a).splitAreaColors,v=J(),f=0;if(c)for(var d=0;d<u.length;d++){var p=c.get(u[d].tickValue);if(p!=null){f=(p+(h-1)*d)%h;break}}var y=i.toGlobalCoord(u[0].coord),g=o.getAreaStyle();s=$(s)?s:[s];for(var d=1;d<u.length;d++){var m=i.toGlobalCoord(u[d].coord),_=void 0,x=void 0,b=void 0,w=void 0;i.isHorizontal()?(_=y,x=l.y,b=m-_,w=l.height,y=_+b):(_=l.x,x=y,b=l.width,w=m-x,y=x+w);var S=u[d-1].tickValue;S!=null&&v.set(S,f),e.add(new st({anid:S!=null?"area_"+S:null,shape:{x:_,y:x,width:b,height:w},style:lt({fill:s[f]},g),autoBatch:!0,silent:!0})),f=(f+1)%h}na(a).splitAreaColors=v}}}function Nc(a){na(a).splitAreaColors=null}var zc=["splitArea","splitLine","minorSplitLine","breakArea"],Oo=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,r,i,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ct,this.group.add(this._axisGroup),!!Ce(t)){this._axisGroup.add(t.axis.axisBuilder.group),C(zc,function(l){t.get([l,"show"])&&Gc[l](this,this._axisGroup,t,t.getCoordSysModel(),i)},this);var s=n&&n.type==="changeAxisOrder"&&n.isInitSort;s||bl(o,this._axisGroup,t),a.prototype.render.call(this,t,r,i,n)}},e.prototype.remove=function(){Nc(this)},e.type="cartesianAxis",e})(ko),Gc={splitLine:function(a,e,t,r,i){var n=t.axis;if(!n.scale.isBlank()){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=o.get("showMinLine")!==!1,h=o.get("showMaxLine")!==!1;l=$(l)?l:[l];for(var c=r.coordinateSystem.getRect(),v=n.isHorizontal(),f=0,d=n.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),p=[],y=[],g=s.getLineStyle(),m=0;m<d.length;m++){var _=n.toGlobalCoord(d[m].coord);if(!(m===0&&!u||m===d.length-1&&!h)){var x=d[m].tickValue;v?(p[0]=_,p[1]=c.y,y[0]=_,y[1]=c.y+c.height):(p[0]=c.x,p[1]=_,y[0]=c.x+c.width,y[1]=_);var b=f++%l.length,w=new Ke({anid:x!=null?"line_"+x:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:y[0],y2:y[1]},style:lt({stroke:l[b]},g),silent:!0});qe(w.shape,g.lineWidth),e.add(w)}}}},minorSplitLine:function(a,e,t,r,i){var n=t.axis,o=t.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=r.coordinateSystem.getRect(),u=n.isHorizontal(),h=n.getMinorTicksCoords();if(h.length)for(var c=[],v=[],f=s.getLineStyle(),d=0;d<h.length;d++)for(var p=0;p<h[d].length;p++){var y=n.toGlobalCoord(h[d][p].coord);u?(c[0]=y,c[1]=l.y,v[0]=y,v[1]=l.y+l.height):(c[0]=l.x,c[1]=y,v[0]=l.x+l.width,v[1]=y);var g=new Ke({anid:"minor_line_"+h[d][p].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:v[0],y2:v[1]},style:f,silent:!0});qe(g.shape,f.lineWidth),e.add(g)}},splitArea:function(a,e,t,r,i){Bc(a,e,t,r)},breakArea:function(a,e,t,r,i){t.axis.scale}},Po=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e})(Oo),Vc=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=Po.type,t}return e.type="yAxis",e})(Oo),Wc=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,r){this.group.removeAll(),t.get("show")&&this.group.add(new st({shape:t.coordinateSystem.getRect(),style:lt({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e})(Ct),Ii={offset:0};function Hc(a){a.registerComponentView(Wc),a.registerComponentModel(jh),a.registerCoordinateSystem("cartesian2d",Cc),yi(a,"x",ea,Ii),yi(a,"y",ea,Ii),a.registerComponentView(Po),a.registerComponentView(Vc),a.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var Da=vt();function zv(a,e,t){Da(a)[e]=t}function Gv(a,e,t){var r=Da(a),i=r[e];i===t&&(r[e]=null)}function ki(a,e){return!!Da(a)[e]}gn({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Zr);var Fc={axisPointer:1,tooltip:1,brush:1};function Zc(a,e,t){var r=e.getComponentByElement(a.topTarget);if(!r||r===t||Fc.hasOwnProperty(r.mainType))return!1;var i=r.coordinateSystem;if(!i||i.model===t)return!1;var n=Ur(r),o=Ur(t);return!((n.zlevel-o.zlevel||n.z-o.z)<=0)}var Uc=(function(a){G(e,a);function e(t){var r=a.call(this)||this;r._zr=t;var i=W(r._mousedownHandler,r),n=W(r._mousemoveHandler,r),o=W(r._mouseupHandler,r),s=W(r._mousewheelHandler,r),l=W(r._pinchHandler,r);return r.enable=function(u,h){var c=h.zInfo,v=Ur(c.component),f=v.z,d=v.zlevel,p={component:c.component,z:f,zlevel:d,z2:q(c.z2,-1/0)},y=K({},h.triggerInfo);this._opt=lt(K({},h),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:p,triggerInfo:y}),u==null&&(u=!0),(!this._enabled||this._controlType!==u)&&(this._enabled=!0,this.disable(),(u===!0||u==="move"||u==="pan")&&(ce(t,"mousedown",i,p),ce(t,"mousemove",n,p),ce(t,"mouseup",o,p)),(u===!0||u==="scale"||u==="zoom")&&(ce(t,"mousewheel",s,p),ce(t,"pinch",l,p)))},r.disable=function(){this._enabled=!1,fe(t,"mousedown",i),fe(t,"mousemove",n),fe(t,"mouseup",o),fe(t,"mousewheel",s),fe(t,"pinch",l)},r}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype._checkPointer=function(t,r,i){var n=this._opt,o=n.zInfoParsed;if(Zc(t,n.api,o.component))return!1;var s=n.triggerInfo,l=s.roamTrigger,u=!1;return l==="global"&&(u=!0),u||(u=s.isInSelf(t,r,i)),u&&s.isInClip&&!s.isInClip(t,r,i)&&(u=!1),u},e.prototype._decideCursorStyle=function(t,r,i,n){var o=t.target;if(!o&&this._checkPointer(t,r,i))return"grab";if(n)return o&&o.cursor||"default"},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!(Ua(t)||he(t))){for(var r=t.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var i=t.offsetX,n=t.offsetY;this._checkPointer(t,i,n)&&(this._x=i,this._y=n,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){var r=this._zr;if(!(t.gestureEvent==="pinch"||ki(r,"globalPan")||he(t))){var i=t.offsetX,n=t.offsetY;if(!this._dragging||!Fe("moveOnMouseMove",t,this._opt)){var o=this._decideCursorStyle(t,i,n,!1);o&&r.setCursorStyle(o);return}r.setCursorStyle("grabbing");var s=this._x,l=this._y,u=i-s,h=n-l;this._x=i,this._y=n,this._opt.preventDefaultMouseMove&&Se(t.event),t.__ecRoamConsumed=!0,Oi(this,"pan","moveOnMouseMove",t,{dx:u,dy:h,oldX:s,oldY:l,newX:i,newY:n,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){if(!he(t)){var r=this._zr;if(!Ua(t)){this._dragging=!1;var i=this._decideCursorStyle(t,t.offsetX,t.offsetY,!0);i&&r.setCursorStyle(i)}}},e.prototype._mousewheelHandler=function(t){if(!he(t)){var r=Fe("zoomOnMouseWheel",t,this._opt),i=Fe("moveOnMouseWheel",t,this._opt),n=t.wheelDelta,o=Math.abs(n),s=t.offsetX,l=t.offsetY;if(!(n===0||!r&&!i)){if(r){var u=o>3?1.4:o>1?1.2:1.1,h=n>0?u:1/u;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",t,{scale:h,originX:s,originY:l,isAvailableBehavior:null})}if(i){var c=Math.abs(n),v=(n>0?1:-1)*(c>3?.4:c>1?.15:.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:v,originX:s,originY:l,isAvailableBehavior:null})}}}},e.prototype._pinchHandler=function(t){if(!(ki(this._zr,"globalPan")||he(t))){var r=t.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,t,{scale:r,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e.prototype._checkTriggerMoveZoom=function(t,r,i,n,o){t._checkPointer(n,o.originX,o.originY)&&(Se(n.event),n.__ecRoamConsumed=!0,Oi(t,r,i,n,o))},e})(Mn);function he(a){return a.__ecRoamConsumed}var Yc=vt();function vr(a){var e=Yc(a);return e.roam=e.roam||{},e.uniform=e.uniform||{},e}function ce(a,e,t,r){for(var i=vr(a),n=i.roam,o=n[e]=n[e]||[],s=0;s<o.length;s++){var l=o[s].zInfoParsed;if((l.zlevel-r.zlevel||l.z-r.z||l.z2-r.z2)<=0)break}o.splice(s,0,{listener:t,zInfoParsed:r}),Xc(a,e)}function fe(a,e,t){for(var r=vr(a),i=r.roam[e]||[],n=0;n<i.length;n++)if(i[n].listener===t){i.splice(n,1),i.length||jc(a,e);return}}function Xc(a,e){var t=vr(a);t.uniform[e]||a.on(e,t.uniform[e]=function(r){var i=t.roam[e];if(i)for(var n=0;n<i.length;n++)i[n].listener(r)})}function jc(a,e){var t=vr(a),r=t.uniform;r[e]&&(a.off(e,r[e]),r[e]=null)}function Oi(a,e,t,r,i){i.isAvailableBehavior=W(Fe,null,t,r),a.trigger(e,i)}function Fe(a,e,t){var r=t[a];return!a||r&&(!Y(r)||e.event[r+"Key"])}function De(a,e,t,r,i,n){a=a||0;var o=t[1]-t[0];if(i!=null&&(i=Xt(i,[0,o])),n!=null&&(n=Math.max(n,i??0)),r==="all"){var s=Math.abs(e[1]-e[0]);s=Xt(s,[0,o]),i=n=Xt(s,[i,n]),r=0}e[0]=Xt(e[0],t),e[1]=Xt(e[1],t);var l=Dr(e,r);e[r]+=a;var u=i||0,h=t.slice();l.sign<0?h[0]+=u:h[1]-=u,e[r]=Xt(e[r],h);var c;return c=Dr(e,r),i!=null&&(c.sign!==l.sign||c.span<i)&&(e[1-r]=e[r]+l.sign*i),c=Dr(e,r),n!=null&&c.span>n&&(e[1-r]=e[r]+c.sign*n),e}function Dr(a,e){var t=a[e]-a[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function Xt(a,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,a))}var zt=vt(),Pi=Wt,Tr=W,$c=(function(){function a(){this._dragging=!1,this.animationThreshold=15}return a.prototype.render=function(e,t,r,i){var n=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!i&&this._lastValue===n&&this._lastStatus===o)){this._lastValue=n,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,n,e,t,r);var h=u.graphicKey;h!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=h;var c=this._moveAnimation=this.determineAnimation(e,t);if(!s)s=this._group=new ct,this.createPointerEl(s,u,e,t),this.createLabelEl(s,u,e,t),r.getZr().add(s);else{var v=et(Ei,t,c);this.updatePointerEl(s,u,v),this.updateLabelEl(s,u,v,t)}Bi(s,t,!0),this._renderHandle(n)}},a.prototype.remove=function(e){this.clear(e)},a.prototype.dispose=function(e){this.clear(e)},a.prototype.determineAnimation=function(e,t){var r=t.get("animation"),i=e.axis,n=i.type==="category",o=t.get("snap");if(!o&&!n)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(n&&i.getBandWidth()>s)return!0;if(o){var l=Ma(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return r===!0},a.prototype.makeElOption=function(e,t,r,i,n){},a.prototype.createPointerEl=function(e,t,r,i){var n=t.pointer;if(n){var o=zt(e).pointerEl=new Sl[n.type](Pi(t.pointer));e.add(o)}},a.prototype.createLabelEl=function(e,t,r,i){if(t.label){var n=zt(e).labelEl=new gt(Pi(t.label));e.add(n),Ri(n,i)}},a.prototype.updatePointerEl=function(e,t,r){var i=zt(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),r(i,{shape:t.pointer.shape}))},a.prototype.updateLabelEl=function(e,t,r,i){var n=zt(e).labelEl;n&&(n.setStyle(t.label.style),r(n,{x:t.label.x,y:t.label.y}),Ri(n,i))},a.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),i=this._handle,n=t.getModel("handle"),o=t.get("status");if(!n.get("show")||!o||o==="hide"){i&&r.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=Dn(n.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Se(u.event)},onmousedown:Tr(this._onHandleDragMove,this,0,0),drift:Tr(this._onHandleDragMove,this),ondragend:Tr(this._onHandleDragEnd,this)}),r.add(i)),Bi(i,t,!1),i.setStyle(n.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=n.get("size");$(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,fr(this,"_doDispatchAxisPointer",n.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},a.prototype._moveHandleToValue=function(e,t){Ei(this._axisPointerModel,!t&&this._moveAnimation,this._handle,Lr(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},a.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(Lr(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(Lr(i)),zt(r).lastProp=null,this._doDispatchAxisPointer()}},a.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},a.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},a.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,i=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),tr(this,"_doDispatchAxisPointer")},a.prototype.doClear=function(){},a.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},a})();function Ei(a,e,t,r){Eo(zt(t).lastProp,r)||(zt(t).lastProp=r,e?qt(t,r,a):(t.stopAnimation(),t.attr(r)))}function Eo(a,e){if(rt(a)&&rt(e)){var t=!0;return C(e,function(r,i){t=t&&Eo(a[i],r)}),!!t}else return a===e}function Ri(a,e){a[e.get(["label","show"])?"show":"hide"]()}function Lr(a){return{x:a.x||0,y:a.y||0,rotation:a.rotation||0}}function Bi(a,e,t){var r=e.get("z"),i=e.get("zlevel");a&&a.traverse(function(n){n.type!=="group"&&(r!=null&&(n.z=r),i!=null&&(n.zlevel=i),n.silent=t)})}function Kc(a){var e=a.get("type"),t=a.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function qc(a,e,t,r,i){var n=t.get("value"),o=Ro(n,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=ma(s.get("padding")||0),u=s.getFont(),h=mn(o,u),c=i.position,v=h.width+l[1]+l[3],f=h.height+l[0]+l[2],d=i.align;d==="right"&&(c[0]-=v),d==="center"&&(c[0]-=v/2);var p=i.verticalAlign;p==="bottom"&&(c[1]-=f),p==="middle"&&(c[1]-=f/2),Jc(c,v,f,r);var y=s.get("backgroundColor");(!y||y==="auto")&&(y=e.get(["axisLine","lineStyle","color"])),a.label={x:c[0],y:c[1],style:Zt(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:y}),z2:10}}function Jc(a,e,t,r){var i=r.getWidth(),n=r.getHeight();a[0]=Math.min(a[0]+e,i)-e,a[1]=Math.min(a[1]+t,n)-t,a[0]=Math.max(a[0],0),a[1]=Math.max(a[1],0)}function Ro(a,e,t,r,i){a=e.scale.parse(a);var n=e.scale.getLabel({value:a},{precision:i.precision}),o=i.formatter;if(o){var s={value:er(e,{value:a}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};C(r,function(l){var u=t.getSeriesByIndex(l.seriesIndex),h=l.dataIndexInside,c=u&&u.getDataParams(h);c&&s.seriesData.push(c)}),Y(o)?n=o.replace("{value}",n):X(o)&&(n=o(s))}return n}function Bo(a,e,t){var r=pa();return An(r,r,t.rotation),wl(r,r,t.position),Yr([a.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function Qc(a,e,t,r,i,n){var o=Et.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),qc(e,r,i,n,{position:Bo(r.axis,a,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function tf(a,e,t){return t=t||0,{x1:a[t],y1:a[1-t],x2:e[t],y2:e[1-t]}}function ef(a,e,t){return t=t||0,{x:a[t],y:a[1-t],width:e[t],height:e[1-t]}}var rf=(function(a){G(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,n,o){var s=i.axis,l=s.grid,u=n.get("type"),h=Ni(l,s).getOtherAxis(s).getGlobalExtent(),c=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&u!=="none"){var v=Kc(n),f=af[u](s,c,h);f.style=v,t.graphicKey=f.type,t.pointer=f}var d=or(l.getRect(),i);Qc(r,t,d,i,n,o)},e.prototype.getHandleTransform=function(t,r,i){var n=or(r.axis.grid.getRect(),r,{labelInside:!1});n.labelMargin=i.get(["handle","margin"]);var o=Bo(r.axis,t,n);return{x:o[0],y:o[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,i,n){var o=i.axis,s=o.grid,l=o.getGlobalExtent(!0),u=Ni(s,o).getOtherAxis(o).getGlobalExtent(),h=o.dim==="x"?0:1,c=[t.x,t.y];c[h]+=r[h],c[h]=Math.min(l[1],c[h]),c[h]=Math.max(l[0],c[h]);var v=(u[1]+u[0])/2,f=[v,v];f[h]=c[h];var d=[{verticalAlign:"middle"},{align:"center"}];return{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:f,tooltipOption:d[h]}},e})($c);function Ni(a,e){var t={};return t[e.dim+"AxisIndex"]=e.index,a.getCartesian(t)}var af={line:function(a,e,t){var r=tf([e,t[0]],[e,t[1]],zi(a));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(a,e,t){var r=Math.max(1,a.getBandWidth()),i=t[1]-t[0];return{type:"Rect",shape:ef([e-r/2,t[0]],[r,i],zi(a))}}};function zi(a){return a.dim==="x"?0:1}var nf=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:P.color.border,width:1,type:"dashed"},shadowStyle:{color:P.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:P.color.neutral00,padding:[5,7,5,7],backgroundColor:P.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:P.color.accent40,throttle:40}},e})(_t),St=vt(),of=C;function No(a,e,t){if(!ot.node){var r=e.getZr();St(r).records||(St(r).records={}),sf(r,e);var i=St(r).records[a]||(St(r).records[a]={});i.handler=t}}function sf(a,e){if(St(a).initialized)return;St(a).initialized=!0,t("click",et(Gi,"click")),t("mousemove",et(Gi,"mousemove")),t("globalout",uf);function t(r,i){a.on(r,function(n){var o=hf(e);of(St(a).records,function(s){s&&i(s,n,o.dispatchAction)}),lf(o.pendings,e)})}}function lf(a,e){var t=a.showTip.length,r=a.hideTip.length,i;t?i=a.showTip[t-1]:r&&(i=a.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function uf(a,e,t){a.handler("leave",null,t)}function Gi(a,e,t,r){e.handler(a,t,r)}function hf(a){var e={showTip:[],hideTip:[]},t=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=t,a.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function oa(a,e){if(!ot.node){var t=e.getZr(),r=(St(t).records||{})[a];r&&(St(t).records[a]=null)}}var cf=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var n=r.getComponent("tooltip"),o=t.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";No("axisPointer",i,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,r){oa("axisPointer",r)},e.prototype.dispose=function(t,r){oa("axisPointer",r)},e.type="axisPointer",e})(Ct);function zo(a,e){var t=[],r=a.seriesIndex,i;if(r==null||!(i=e.getSeriesByIndex(r)))return{point:[]};var n=i.getData(),o=Fr(n,a);if(o==null||o<0||$(o))return{point:[]};var s=n.getItemGraphicEl(o),l=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(a.isStacked){var u=l.getBaseAxis(),h=l.getOtherAxis(u),c=h.dim,v=u.dim,f=c==="x"||c==="radius"?1:0,d=n.mapDimension(v),p=[];p[f]=n.get(d,o),p[1-f]=n.get(n.getCalculationInfo("stackResultDimension"),o),t=l.dataToPoint(p)||[]}else t=l.dataToPoint(n.getValues(j(l.dimensions,function(g){return n.mapDimension(g)}),o))||[];else if(s){var y=s.getBoundingRect().clone();y.applyTransform(s.transform),t=[y.x+y.width/2,y.y+y.height/2]}return{point:t,el:s}}var Vi=vt();function ff(a,e,t){var r=a.currTrigger,i=[a.x,a.y],n=a,o=a.dispatchAction||W(t.dispatchAction,t),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){Ze(i)&&(i=zo({seriesIndex:n.seriesIndex,dataIndex:n.dataIndex},e).point);var l=Ze(i),u=n.axesInfo,h=s.axesInfo,c=r==="leave"||Ze(i),v={},f={},d={list:[],map:{}},p={showPointer:et(df,f),showTooltip:et(pf,d)};C(s.coordSysMap,function(g,m){var _=l||g.containPoint(i);C(s.coordSysAxesInfo[m],function(x,b){var w=x.axis,S=_f(u,x);if(!c&&_&&(!u||S)){var L=S&&S.value;L==null&&!l&&(L=w.pointToData(i)),L!=null&&Wi(x,L,p,!1,v)}})});var y={};return C(h,function(g,m){var _=g.linkGroup;_&&!f[m]&&C(_.axesInfo,function(x,b){var w=f[b];if(x!==g&&w){var S=w.value;_.mapper&&(S=g.axis.scale.parse(_.mapper(S,Hi(x),Hi(g)))),y[g.key]=S}})}),C(y,function(g,m){Wi(h[m],g,p,!0,v)}),gf(f,h,v),mf(d,i,a,o),yf(h,o,t),v}}function Wi(a,e,t,r,i){var n=a.axis;if(!(n.scale.isBlank()||!n.containData(e))){if(!a.involveSeries){t.showPointer(a,e);return}var o=vf(e,a),s=o.payloadBatch,l=o.snapToValue;s[0]&&i.seriesIndex==null&&K(i,s[0]),!r&&a.snap&&n.containData(l)&&l!=null&&(e=l),t.showPointer(a,e,s),t.showTooltip(a,o,l)}}function vf(a,e){var t=e.axis,r=t.dim,i=a,n=[],o=Number.MAX_VALUE,s=-1;return C(e.seriesModels,function(l,u){var h=l.getData().mapDimensionsAll(r),c,v;if(l.getAxisTooltipData){var f=l.getAxisTooltipData(h,a,t);v=f.dataIndices,c=f.nestestValue}else{if(v=l.indicesOfNearest(r,h[0],a,t.type==="category"?.5:null),!v.length)return;c=l.getData().get(h[0],v[0])}if(!(c==null||!isFinite(c))){var d=a-c,p=Math.abs(d);p<=o&&((p<o||d>=0&&s<0)&&(o=p,s=d,i=c,n.length=0),C(v,function(y){n.push({seriesIndex:l.seriesIndex,dataIndexInside:y,dataIndex:l.getData().getRawIndex(y)})}))}}),{payloadBatch:n,snapToValue:i}}function df(a,e,t,r){a[e.key]={value:t,payloadBatch:r}}function pf(a,e,t,r){var i=t.payloadBatch,n=e.axis,o=n.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,u=Me(l),h=a.map[u];h||(h=a.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},a.list.push(h)),h.dataByAxis.push({axisDim:n.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function gf(a,e,t){var r=t.axesInfo=[];C(e,function(i,n){var o=i.axisPointerModel.option,s=a[n];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function mf(a,e,t,r){if(Ze(e)||!a.list.length){r({type:"hideTip"});return}var i=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:a.list})}function yf(a,e,t){var r=t.getZr(),i="axisPointerLastHighlights",n=Vi(r)[i]||{},o=Vi(r)[i]={};C(a,function(u,h){var c=u.axisPointerModel.option;c.status==="show"&&u.triggerEmphasis&&C(c.seriesDataIndices,function(v){var f=v.seriesIndex+" | "+v.dataIndex;o[f]=v})});var s=[],l=[];C(n,function(u,h){!o[h]&&l.push(u)}),C(o,function(u,h){!n[h]&&s.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function _f(a,e){for(var t=0;t<(a||[]).length;t++){var r=a[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function Hi(a){var e=a.axis.model,t={},r=t.axisDim=a.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function Ze(a){return!a||a[0]==null||isNaN(a[0])||a[1]==null||isNaN(a[1])}function Go(a){ko.registerAxisPointerClass("CartesianAxisPointer",rf),a.registerComponentModel(nf),a.registerComponentView(cf),a.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!$(t)&&(e.axisPointer.link=[t])}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=Lc(e,t)}),a.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},ff)}function Vo(a){mt(Hc),mt(Go)}var Fi=["x","y","radius","angle","single"],xf=["cartesian2d","polar","singleAxis"];function bf(a){var e=a.get("coordinateSystem");return ht(xf,e)>=0}function Pt(a){return a+"Axis"}function Sf(a,e){var t=J(),r=[],i=J();a.eachComponent({mainType:"dataZoom",query:e},function(h){i.get(h.uid)||s(h)});var n;do n=!1,a.eachComponent("dataZoom",o);while(n);function o(h){!i.get(h.uid)&&l(h)&&(s(h),n=!0)}function s(h){i.set(h.uid,!0),r.push(h),u(h)}function l(h){var c=!1;return h.eachTargetAxis(function(v,f){var d=t.get(v);d&&d[f]&&(c=!0)}),c}function u(h){h.eachTargetAxis(function(c,v){(t.get(c)||t.set(c,[]))[v]=!0})}return r}function Wo(a){var e=a.ecModel,t={infoList:[],infoMap:J()};return a.eachTargetAxis(function(r,i){var n=e.getComponent(Pt(r),i);if(n){var o=n.getCoordSysModel();if(o){var s=o.uid,l=t.infoMap.get(s);l||(l={model:o,axisModels:[]},t.infoList.push(l),t.infoMap.set(s,l)),l.axisModels.push(n)}}}),t}var Ir=(function(){function a(){this.indexList=[],this.indexMap=[]}return a.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},a})(),sr=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,r,i){var n=Zi(t);this.settledOption=n,this.mergeDefaultAndTheme(t,i),this._doInit(n)},e.prototype.mergeOption=function(t){var r=Zi(t);nt(this.option,t,!0),nt(this.settledOption,r,!0),this._doInit(r)},e.prototype._doInit=function(t){var r=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var i=this.settledOption;C([["start","startValue"],["end","endValue"]],function(n,o){this._rangePropMode[o]==="value"&&(r[n[0]]=i[n[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),r=this._targetAxisInfoMap=J(),i=this._fillSpecifiedTargetAxis(r);i?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(n){n.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var r=!1;return C(Fi,function(i){var n=this.getReferringComponents(Pt(i),Cl);if(n.specified){r=!0;var o=new Ir;C(n.models,function(s){o.add(s.componentIndex)}),t.set(i,o)}},this),r},e.prototype._fillAutoTargetAxisByOrient=function(t,r){var i=this.ecModel,n=!0;if(n){var o=r==="vertical"?"y":"x",s=i.findComponents({mainType:o+"Axis"});l(s,o)}if(n){var s=i.findComponents({mainType:"singleAxis",filter:function(h){return h.get("orient",!0)===r}});l(s,"single")}function l(u,h){var c=u[0];if(c){var v=new Ir;if(v.add(c.componentIndex),t.set(h,v),n=!1,h==="x"||h==="y"){var f=c.getReferringComponents("grid",ft).models[0];f&&C(u,function(d){c.componentIndex!==d.componentIndex&&f===d.getReferringComponents("grid",ft).models[0]&&v.add(d.componentIndex)})}}}n&&C(Fi,function(u){if(n){var h=i.findComponents({mainType:Pt(u),filter:function(v){return v.get("type",!0)==="category"}});if(h[0]){var c=new Ir;c.add(h[0].componentIndex),t.set(u,c),n=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(r){!t&&(t=r)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var r=this._rangePropMode,i=this.get("rangeMode");C([["start","startValue"],["end","endValue"]],function(n,o){var s=t[n[0]]!=null,l=t[n[1]]!=null;s&&!l?r[o]="percent":!s&&l?r[o]="value":i?r[o]=i[o]:s&&(r[o]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(r,i){t==null&&(t=this.ecModel.getComponent(Pt(r),i))},this),t},e.prototype.eachTargetAxis=function(t,r){this._targetAxisInfoMap.each(function(i,n){C(i.indexList,function(o){t.call(r,n,o)})})},e.prototype.getAxisProxy=function(t,r){var i=this.getAxisModel(t,r);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(t,r){var i=this._targetAxisInfoMap.get(t);if(i&&i.indexMap[r])return this.ecModel.getComponent(Pt(t),r)},e.prototype.setRawRange=function(t){var r=this.option,i=this.settledOption;C([["start","startValue"],["end","endValue"]],function(n){(t[n[0]]!=null||t[n[1]]!=null)&&(r[n[0]]=i[n[0]]=t[n[0]],r[n[1]]=i[n[1]]=t[n[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var r=this.option;C(["start","startValue","end","endValue"],function(i){r[i]=t[i]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,r){if(t==null&&r==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(t,r).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var r,i=this._targetAxisInfoMap.keys(),n=0;n<i.length;n++)for(var o=i[n],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e})(_t);function Zi(a){var e={};return C(["start","end","startValue","endValue","throttle"],function(t){a.hasOwnProperty(t)&&(e[t]=a[t])}),e}var Ho=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,n){this.dataZoomModel=t,this.ecModel=r,this.api=i},e.type="dataZoom",e})(Ct),Kt=C,Ui=me,wf=(function(){function a(e,t,r,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=r}return a.prototype.hostedBy=function(e){return this._dataZoomModel===e},a.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},a.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},a.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(bf(t)){var r=Pt(this._dimName),i=t.getReferringComponents(r,ft).models[0];i&&this._axisIndex===i.componentIndex&&e.push(t)}},this),e},a.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},a.prototype.getMinMaxSpan=function(){return Wt(this._minMaxSpan)},a.prototype.calculateDataWindow=function(e){var t=this._dataExtent,r=this.getAxisModel(),i=r.axis.scale,n=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;Kt(["start","end"],function(v,f){var d=e[v],p=e[v+"Value"];n[f]==="percent"?(d==null&&(d=o[f]),p=i.parse(Q(d,o,t))):(u=!0,p=p==null?t[f]:i.parse(p),d=Q(p,t,o)),l[f]=p==null||isNaN(p)?t[f]:p,s[f]=d==null||isNaN(d)?o[f]:d}),Ui(l),Ui(s);var h=this._minMaxSpan;u?c(l,s,t,o,!1):c(s,l,o,t,!0);function c(v,f,d,p,y){var g=y?"Span":"ValueSpan";De(0,v,d,"all",h["min"+g],h["max"+g]);for(var m=0;m<2;m++)f[m]=Q(v[m],d,p,!0),y&&(f[m]=i.parse(f[m]))}return{valueWindow:l,percentWindow:s}},a.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=Cf(this,this._dimName,t),this._updateMinMaxSpan();var r=this.calculateDataWindow(e.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},a.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var r=this._dimName,i=this.getTargetSeriesModels(),n=e.get("filterMode"),o=this._valueWindow;if(n==="none")return;Kt(i,function(l){var u=l.getData(),h=u.mapDimensionsAll(r);if(h.length){if(n==="weakFilter"){var c=u.getStore(),v=j(h,function(f){return u.getDimensionIndex(f)},u);u.filterSelf(function(f){for(var d,p,y,g=0;g<h.length;g++){var m=c.get(v[g],f),_=!isNaN(m),x=m<o[0],b=m>o[1];if(_&&!x&&!b)return!0;_&&(y=!0),x&&(d=!0),b&&(p=!0)}return y&&d&&p})}else Kt(h,function(f){if(n==="empty")l.setData(u=u.map(f,function(p){return s(p)?p:NaN}));else{var d={};d[f]=o,u.selectRange(d)}});Kt(h,function(f){u.setApproximateExtent(o,f)})}});function s(l){return l>=o[0]&&l<=o[1]}},a.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,r=this._dataExtent;Kt(["min","max"],function(i){var n=t.get(i+"Span"),o=t.get(i+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?n=Q(r[0]+o,r,[0,100],!0):n!=null&&(o=Q(n,[0,100],r,!0)-r[0]),e[i+"Span"]=n,e[i+"ValueSpan"]=o},this)},a.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,r=this._valueWindow;if(t){var i=yn(r,[0,500]);i=Math.min(i,20);var n=e.axis.scale.rawExtentInfo;t[0]!==0&&n.setDeterminedMinMax("min",+r[0].toFixed(i)),t[1]!==100&&n.setDeterminedMinMax("max",+r[1].toFixed(i)),n.freeze()}},a})();function Cf(a,e,t){var r=[1/0,-1/0];Kt(t,function(o){eh(r,o.getData(),e)});var i=a.getAxisModel(),n=qn(i.axis.scale,i,r).calculate();return[n.min,n.max]}var Af={getTargetSeries:function(a){function e(i){a.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(o,s){var l=a.getComponent(Pt(o),s);i(o,s,l,n)})})}e(function(i,n,o,s){o.__dzAxisProxy=null});var t=[];e(function(i,n,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new wf(i,n,s,a),t.push(o.__dzAxisProxy))});var r=J();return C(t,function(i){C(i.getTargetSeriesModels(),function(n){r.set(n.uid,n)})}),r},overallReset:function(a,e){a.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(r,i){t.getAxisProxy(r,i).reset(t)}),t.eachTargetAxis(function(r,i){t.getAxisProxy(r,i).filterData(t,e)})}),a.eachComponent("dataZoom",function(t){var r=t.findRepresentativeAxisProxy();if(r){var i=r.getDataPercentWindow(),n=r.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]})}})}};function Mf(a){a.registerAction("dataZoom",function(e,t){var r=Sf(t,e);C(r,function(i){i.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var Yi=!1;function Fo(a){Yi||(Yi=!0,a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,Af),Mf(a),a.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Df(a,e){var t=ma(e.get("padding")),r=e.getItemStyle(["color","opacity"]);r.fill=e.get("backgroundColor");var i=new st({shape:{x:a.x-t[3],y:a.y-t[0],width:a.width+t[1]+t[3],height:a.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1});return i}var Tf=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:P.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:P.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:P.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:P.color.tertiary,fontSize:14}},e})(_t);function Zo(a){var e=a.get("confine");return e!=null?!!e:a.get("renderMode")==="richText"}function Uo(a){if(ot.domSupported){for(var e=document.documentElement.style,t=0,r=a.length;t<r;t++)if(a[t]in e)return a[t]}}var Yo=Uo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Lf=Uo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Xo(a,e){if(!a)return e;e=Tn(e,!0);var t=a.indexOf(e);return a=t===-1?e:"-"+a.slice(0,t)+"-"+e,a.toLowerCase()}function If(a,e){var t=a.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(a);return t?t[e]:null}var kf=Xo(Lf,"transition"),Ta=Xo(Yo,"transform"),Of="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(ot.transform3dSupported?"will-change:transform;":"");function Pf(a){return a=a==="left"?"right":a==="right"?"left":a==="top"?"bottom":"top",a}function Ef(a,e,t){if(!Y(t)||t==="inside")return"";var r=a.get("backgroundColor"),i=a.get("borderWidth");e=Jt(e);var n=Pf(t),o=Math.max(Math.round(i)*1.5,6),s="",l=Ta+":",u;ht(["left","right"],n)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=n==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=n==="top"?225:45)+"deg)");var h=u*Math.PI/180,c=o+i,v=c*Math.abs(Math.cos(h))+c*Math.abs(Math.sin(h)),f=Math.round(((v-Math.SQRT2*i)/2+Math.SQRT2*i-(v-c)/2)*100)/100;s+=";"+n+":-"+f+"px";var d=e+" solid "+i+"px;",p=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+d,"border-right:"+d,"background-color:"+r+";"];return'<div style="'+p.join("")+'"></div>'}function Rf(a,e,t){var r="cubic-bezier(0.23,1,0.32,1)",i="",n="";return t&&(i=" "+a/2+"s "+r,n="opacity"+i+",visibility"+i),e||(i=" "+a+"s "+r,n+=(n.length?",":"")+(ot.transformSupported?""+Ta+i:",left"+i+",top"+i)),kf+":"+n}function Xi(a,e,t){var r=a.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!ot.transformSupported)return t?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var n=ot.transform3dSupported,o="translate"+(n?"3d":"")+"("+r+","+i+(n?",0":"")+")";return t?"top:0;left:0;"+Ta+":"+o+";":[["top",0],["left",0],[Yo,o]]}function Bf(a){var e=[],t=a.get("fontSize"),r=a.getTextColor();r&&e.push("color:"+r),e.push("font:"+a.getFont());var i=q(a.get("lineHeight"),Math.round(t*3/2));t&&e.push("line-height:"+i+"px");var n=a.get("textShadowColor"),o=a.get("textShadowBlur")||0,s=a.get("textShadowOffsetX")||0,l=a.get("textShadowOffsetY")||0;return n&&o&&e.push("text-shadow:"+s+"px "+l+"px "+o+"px "+n),C(["decoration","align"],function(u){var h=a.get(u);h&&e.push("text-"+u+":"+h)}),e.join(";")}function Nf(a,e,t,r){var i=[],n=a.get("transitionDuration"),o=a.get("backgroundColor"),s=a.get("shadowBlur"),l=a.get("shadowColor"),u=a.get("shadowOffsetX"),h=a.get("shadowOffsetY"),c=a.getModel("textStyle"),v=Ln(a,"html"),f=u+"px "+h+"px "+s+"px "+l;return i.push("box-shadow:"+f),e&&n>0&&i.push(Rf(n,t,r)),o&&i.push("background-color:"+o),C(["width","color","radius"],function(d){var p="border-"+d,y=Tn(p),g=a.get(y);g!=null&&i.push(p+":"+g+(d==="color"?"":"px"))}),i.push(Bf(c)),v!=null&&i.push("padding:"+ma(v).join("px ")+"px"),i.join(";")+";"}function ji(a,e,t,r,i){var n=e&&e.painter;if(t){var o=n&&n.getViewportRoot();o&&Ml(a,o,t,r,i)}else{a[0]=r,a[1]=i;var s=n&&n.getViewportRootOffset();s&&(a[0]+=s.offsetLeft,a[1]+=s.offsetTop)}a[2]=a[0]/e.getWidth(),a[3]=a[1]/e.getHeight()}var zf=(function(){function a(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,ot.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=e.getZr(),n=t.appendTo,o=n&&(Y(n)?document.querySelector(n):Ya(n)?n:X(n)&&n(e.getDom()));ji(this._styleCoord,i,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(r),this._api=e,this._container=o;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=i.handler,h=i.painter.getViewportRoot();Al(h,l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return a.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),r=If(t,"position"),i=t.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative")}var n=e.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n,this._enableDisplayTransition=e.get("displayTransition")&&e.get("transitionDuration")>0,this.el.className=e.get("className")||""},a.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,n=this._styleCoord;r.innerHTML?i.cssText=Of+Nf(e,!this._firstShow,this._longHide,this._enableDisplayTransition)+Xi(n[0],n[1],!0)+("border-color:"+Jt(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},a.prototype.setContent=function(e,t,r,i,n){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(Y(n)&&r.get("trigger")==="item"&&!Zo(r)&&(s=Ef(r,i,n)),Y(e))o.innerHTML=e+s;else if(e){o.innerHTML="",$(e)||(e=[e]);for(var l=0;l<e.length;l++)Ya(e[l])&&e[l].parentNode!==o&&o.appendChild(e[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},a.prototype.setEnterable=function(e){this._enterable=e},a.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},a.prototype.moveTo=function(e,t){if(this.el){var r=this._styleCoord;if(ji(r,this._zr,this._container,e,t),r[0]!=null&&r[1]!=null){var i=this.el.style,n=Xi(r[0],r[1]);C(n,function(o){i[o[0]]=o[1]})}}},a.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},a.prototype.hide=function(){var e=this,t=this.el.style;this._enableDisplayTransition?(t.visibility="hidden",t.opacity="0"):t.display="none",ot.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},a.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(W(this.hide,this),e)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this._zr;Dl(e&&e.painter&&e.painter.getViewportRoot(),this._container);var t=this.el;if(t){t.onmouseenter=t.onmousemove=t.onmouseleave=null;var r=t.parentNode;r&&r.removeChild(t)}this.el=this._container=null},a})(),Gf=(function(){function a(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),Ki(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return a.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},a.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},a.prototype.setContent=function(e,t,r,i,n){var o=this;rt(e)&&Tl(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new gt({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Ln(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),C(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=r.get(u)}),C(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},a.prototype.setEnterable=function(e){this._enterable=e},a.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=$i(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},a.prototype.moveTo=function(e,t){var r=this.el;if(r){var i=this._styleCoord;Ki(i,this._zr,e,t),e=i[0],t=i[1];var n=r.style,o=It(n.borderWidth||0),s=$i(n);r.x=e+o+s.left,r.y=t+o+s.top,r.markRedraw()}},a.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},a.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},a.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(W(this.hide,this),e)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){this._zr.remove(this.el)},a})();function It(a){return Math.max(0,a)}function $i(a){var e=It(a.shadowBlur||0),t=It(a.shadowOffsetX||0),r=It(a.shadowOffsetY||0);return{left:It(e-t),right:It(e+t),top:It(e-r),bottom:It(e+r)}}function Ki(a,e,t,r){a[0]=t,a[1]=r,a[2]=a[0]/e.getWidth(),a[3]=a[1]/e.getHeight()}var Vf=new st({shape:{x:-1,y:-1,width:2,height:2}}),Wf=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(ot.node||!r.getDom())){var i=t.getComponent("tooltip"),n=this._renderMode=Ll(i.get("renderMode"));this._tooltipContent=n==="richText"?new Gf(r):new zf(r,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(t,r,i){if(!(ot.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=i;var n=this._tooltipContent;n.update(t),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?fr(this,"_updatePosition",50,"fixRate"):tr(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");No("itemTooltip",this._api,W(function(i,n,o){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(n,o):i==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,i=this._api,n=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&n!=="none"&&n!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(t,r,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,i,n){if(!(n.from===this.uid||ot.node||!i.getDom())){var o=qi(n,i);this._ticket="";var s=n.dataByCoordSys,l=Uf(n,r,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:n.position,positionDefault:"bottom"},o)}else if(n.tooltip&&n.x!=null&&n.y!=null){var h=Vf;h.x=n.x,h.y=n.y,h.update(),tt(h).tooltipConfig={name:null,option:n.tooltip},this._tryShow({offsetX:n.x,offsetY:n.y,target:h},o)}else if(s)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:s,tooltipOption:n.tooltipOption},o);else if(n.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,i,n))return;var c=zo(n,r),v=c.point[0],f=c.point[1];v!=null&&f!=null&&this._tryShow({offsetX:v,offsetY:f,target:c.el,position:n.position,positionDefault:"bottom"},o)}else n.x!=null&&n.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},o))}},e.prototype.manuallyHideTip=function(t,r,i,n){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,n.from!==this.uid&&this._hide(qi(n,i))},e.prototype._manuallyAxisShowTip=function(t,r,i,n){var o=n.seriesIndex,s=n.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=r.getSeriesByIndex(o);if(u){var h=u.getData(),c=ve([h.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(c.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:n.position}),!0}}},e.prototype._tryShow=function(t,r){var i=t.target,n=this._tooltipModel;if(n){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(i){var s=tt(i);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Il(i,function(h){if(h.tooltipDisabled)return l=u=null,!0;l||u||(tt(h).dataIndex!=null?l=h:tt(h).tooltipConfig!=null&&(u=h))},!0),l?this._showSeriesItemTooltip(t,l,r):u?this._showComponentItemTooltip(t,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var i=t.get("showDelay");r=W(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},e.prototype._showAxisTooltip=function(t,r){var i=this._ecModel,n=this._tooltipModel,o=[r.offsetX,r.offsetY],s=ve([r.tooltipOption],n),l=this._renderMode,u=[],h=Xa("section",{blocks:[],noHeader:!0}),c=[],v=new gr;C(t,function(m){C(m.dataByAxis,function(_){var x=i.getComponent(_.axisDim+"Axis",_.axisIndex),b=_.value;if(!(!x||b==null)){var w=Ro(b,x.axis,i,_.seriesDataIndices,_.valueLabelOpt),S=Xa("section",{header:w,noHeader:!kl(w),sortBlocks:!0,blocks:[]});h.blocks.push(S),C(_.seriesDataIndices,function(L){var D=i.getSeriesByIndex(L.seriesIndex),M=L.dataIndexInside,A=D.getDataParams(M);if(!(A.dataIndex<0)){A.axisDim=_.axisDim,A.axisIndex=_.axisIndex,A.axisType=_.axisType,A.axisId=_.axisId,A.axisValue=er(x.axis,{value:b}),A.axisValueLabel=w,A.marker=v.makeTooltipMarker("item",Jt(A.color),l);var I=ja(D.formatTooltip(M,!0,null)),T=I.frag;if(T){var k=ve([D],n).get("valueFormatter");S.blocks.push(k?K({valueFormatter:k},T):T)}I.text&&c.push(I.text),u.push(A)}})}})}),h.blocks.reverse(),c.reverse();var f=r.position,d=s.get("order"),p=$a(h,v,l,d,i.get("useUTC"),s.get("textStyle"));p&&c.unshift(p);var y=l==="richText"?`

`:"<br/>",g=c.join(y);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(s,f,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,g,u,Math.random()+"",o[0],o[1],f,null,v)})},e.prototype._showSeriesItemTooltip=function(t,r,i){var n=this._ecModel,o=tt(r),s=o.seriesIndex,l=n.getSeriesByIndex(s),u=o.dataModel||l,h=o.dataIndex,c=o.dataType,v=u.getData(c),f=this._renderMode,d=t.positionDefault,p=ve([v.getItemModel(h),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,d?{position:d}:null),y=p.get("trigger");if(!(y!=null&&y!=="item")){var g=u.getDataParams(h,c),m=new gr;g.marker=m.makeTooltipMarker("item",Jt(g.color),f);var _=ja(u.formatTooltip(h,!1,c)),x=p.get("order"),b=p.get("valueFormatter"),w=_.frag,S=w?$a(b?K({valueFormatter:b},w):w,m,f,x,n.get("useUTC"),p.get("textStyle")):_.text,L="item_"+u.name+"_"+h;this._showOrMove(p,function(){this._showTooltipContent(p,S,g,L,t.offsetX,t.offsetY,t.position,t.target,m)}),i({type:"showTip",dataIndexInside:h,dataIndex:v.getRawIndex(h),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,i){var n=this._renderMode==="html",o=tt(r),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(Y(l)){var h=l;l={content:h,formatter:h},u=!0}u&&n&&l.content&&(l=Wt(l),l.content=Ol(l.content));var c=[l],v=this._ecModel.getComponent(o.componentMainType,o.componentIndex);v&&c.push(v),c.push({formatter:l.content});var f=t.positionDefault,d=ve(c,this._tooltipModel,f?{position:f}:null),p=d.get("content"),y=Math.random()+"",g=new gr;this._showOrMove(d,function(){var m=Wt(d.get("formatterParams")||{});this._showTooltipContent(d,p,m,y,t.offsetX,t.offsetY,t.position,r,g)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,i,n,o,s,l,u,h){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var c=this._tooltipContent;c.setEnterable(t.get("enterable"));var v=t.get("formatter");l=l||t.get("position");var f=r,d=this._getNearestPoint([o,s],i,t.get("trigger"),t.get("borderColor"),t.get("defaultBorderColor",!0)),p=d.color;if(v)if(Y(v)){var y=t.ecModel.get("useUTC"),g=$(i)?i[0]:i,m=g&&g.axisType&&g.axisType.indexOf("time")>=0;f=v,m&&(f=vn(g.axisValue,f,y)),f=Pl(f,i,!0)}else if(X(v)){var _=W(function(x,b){x===this._ticket&&(c.setContent(b,h,t,p,l),this._updatePosition(t,l,o,s,c,i,u))},this);this._ticket=n,f=v(i,n,_)}else f=v;c.setContent(f,h,t,p,l),c.show(t,p),this._updatePosition(t,l,o,s,c,i,u)}},e.prototype._getNearestPoint=function(t,r,i,n,o){if(i==="axis"||$(r))return{color:n||o};if(!$(r))return{color:n||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,i,n,o,s,l){var u=this._api.getWidth(),h=this._api.getHeight();r=r||t.get("position");var c=o.getSize(),v=t.get("align"),f=t.get("verticalAlign"),d=l&&l.getBoundingRect().clone();if(l&&d.applyTransform(l.transform),X(r)&&(r=r([i,n],s,o.el,d,{viewSize:[u,h],contentSize:c.slice()})),$(r))i=wt(r[0],u),n=wt(r[1],h);else if(rt(r)){var p=r;p.width=c[0],p.height=c[1];var y=Ut(p,{width:u,height:h});i=y.x,n=y.y,v=null,f=null}else if(Y(r)&&l){var g=Zf(r,d,c,t.get("borderWidth"));i=g[0],n=g[1]}else{var g=Hf(i,n,o,u,h,v?null:20,f?null:20);i=g[0],n=g[1]}if(v&&(i-=Ji(v)?c[0]/2:v==="right"?c[0]:0),f&&(n-=Ji(f)?c[1]/2:f==="bottom"?c[1]:0),Zo(t)){var g=Ff(i,n,o,u,h);i=g[0],n=g[1]}o.moveTo(i,n)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var i=this._lastDataByCoordSys,n=this._cbParamsList,o=!!i&&i.length===t.length;return o&&C(i,function(s,l){var u=s.dataByAxis||[],h=t[l]||{},c=h.dataByAxis||[];o=o&&u.length===c.length,o&&C(u,function(v,f){var d=c[f]||{},p=v.seriesDataIndices||[],y=d.seriesDataIndices||[];o=o&&v.value===d.value&&v.axisType===d.axisType&&v.axisId===d.axisId&&p.length===y.length,o&&C(p,function(g,m){var _=y[m];o=o&&g.seriesIndex===_.seriesIndex&&g.dataIndex===_.dataIndex}),n&&C(v.seriesDataIndices,function(g){var m=g.seriesIndex,_=r[m],x=n[m];_&&x&&x.data!==_.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!o},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){ot.node||!r.getDom()||(tr(this,"_updatePosition"),this._tooltipContent.dispose(),oa("itemTooltip",r))},e.type="tooltip",e})(Ct);function ve(a,e,t){var r=e.ecModel,i;t?(i=new kt(t,r,r),i=new kt(e.option,i,r)):i=e;for(var n=a.length-1;n>=0;n--){var o=a[n];o&&(o instanceof kt&&(o=o.get("tooltip",!0)),Y(o)&&(o={formatter:o}),o&&(i=new kt(o,i,r)))}return i}function qi(a,e){return a.dispatchAction||W(e.dispatchAction,e)}function Hf(a,e,t,r,i,n,o){var s=t.getSize(),l=s[0],u=s[1];return n!=null&&(a+l+n+2>r?a-=l+n:a+=n),o!=null&&(e+u+o>i?e-=u+o:e+=o),[a,e]}function Ff(a,e,t,r,i){var n=t.getSize(),o=n[0],s=n[1];return a=Math.min(a+o,r)-o,e=Math.min(e+s,i)-s,a=Math.max(a,0),e=Math.max(e,0),[a,e]}function Zf(a,e,t,r){var i=t[0],n=t[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=e.width,h=e.height;switch(a){case"inside":s=e.x+u/2-i/2,l=e.y+h/2-n/2;break;case"top":s=e.x+u/2-i/2,l=e.y-n-o;break;case"bottom":s=e.x+u/2-i/2,l=e.y+h+o;break;case"left":s=e.x-i-o,l=e.y+h/2-n/2;break;case"right":s=e.x+u+o,l=e.y+h/2-n/2}return[s,l]}function Ji(a){return a==="center"||a==="middle"}function Uf(a,e,t){var r=El(a).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var n=Rl(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=n.models[0];if(o){var s=t.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var h=tt(u).tooltipConfig;if(h&&h.name===a.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:o.componentIndex,el:l}}}}function jo(a){mt(Go),a.registerComponentModel(Tf),a.registerComponentView(Wf),a.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Zr),a.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Zr)}var Yf=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:P.size.m,backgroundColor:P.color.transparent,borderColor:P.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:P.color.primary},subtextStyle:{fontSize:12,color:P.color.quaternary}},e})(_t),Xf=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){if(this.group.removeAll(),!!t.get("show")){var n=this.group,o=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),u=q(t.get("textBaseline"),t.get("textVerticalAlign")),h=new gt({style:Zt(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),c=h.getBoundingRect(),v=t.get("subtext"),f=new gt({style:Zt(s,{text:v,fill:s.getTextColor(),y:c.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),d=t.get("link"),p=t.get("sublink"),y=t.get("triggerEvent",!0);h.silent=!d&&!y,f.silent=!p&&!y,d&&h.on("click",function(){Ka(d,"_"+t.get("target"))}),p&&f.on("click",function(){Ka(p,"_"+t.get("subtarget"))}),tt(h).eventData=tt(f).eventData=y?{componentType:"title",componentIndex:t.componentIndex}:null,n.add(h),v&&n.add(f);var g=n.getBoundingRect(),m=t.getBoxLayoutParams();m.width=g.width,m.height=g.height;var _=cr(t,i),x=Ut(m,_.refContainer,t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?x.x+=x.width:l==="center"&&(x.x+=x.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?x.y+=x.height:u==="middle"&&(x.y+=x.height/2),u=u||"top"),n.x=x.x,n.y=x.y,n.markRedraw();var b={align:l,verticalAlign:u};h.setStyle(b),f.setStyle(b),g=n.getBoundingRect();var w=x.margin,S=t.getItemStyle(["color","opacity"]);S.fill=t.get("backgroundColor");var L=new st({shape:{x:g.x-w[3],y:g.y-w[0],width:g.width+w[1]+w[3],height:g.height+w[0]+w[2],r:t.get("borderRadius")},style:S,subPixelOptimize:!0,silent:!0});n.add(L)}},e.type="title",e})(Ct);function $o(a){a.registerComponentModel(Yf),a.registerComponentView(Xf)}var jf=function(a,e){if(e==="all")return{type:"all",title:a.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:a.getLocaleModel().get(["legend","selector","inverse"])}},sa=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){a.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,i=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),$(r)&&C(r,function(n,o){Y(n)&&(n={type:n}),r[o]=nt(n,jf(i,n.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],i=[];t.eachRawSeries(function(l){var u=l.name;i.push(u);var h;if(l.legendVisualProvider){var c=l.legendVisualProvider,v=c.getAllNames();t.isSeriesFiltered(l)||(i=i.concat(v)),v.length?r=r.concat(v):h=!0}else h=!0;h&&Bl(l)&&r.push(l.name)}),this._availableNames=i;var n=this.get("data")||r,o=J(),s=j(n,function(l){return(Y(l)||Vt(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new kt(l,this,this.ecModel))},this);this._data=Ht(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var n=this._data;C(n,function(o){r[o.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;C(t,function(i){r[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;C(t,function(i){var n=i.get("name",!0);r.hasOwnProperty(n)||(r[n]=!0),r[n]=!r[n]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&ht(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:P.size.m,align:"auto",backgroundColor:P.color.transparent,borderColor:P.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:P.color.disabled,inactiveBorderColor:P.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:P.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:P.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:P.color.tertiary,borderWidth:1,borderColor:P.color.border},emphasis:{selectorLabel:{show:!0,color:P.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},e})(_t),jt=et,la=C,ze=ct,Ko=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new ze),this.group.add(this._selectorGroup=new ze),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var o=t.get("align"),s=t.get("orient");(!o||o==="auto")&&(o=t.get("left")==="right"&&s==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,t,r,i,l,s,u);var h=cr(t,i).refContainer,c=t.getBoxLayoutParams(),v=t.get("padding"),f=Ut(c,h,v),d=this.layoutInner(t,o,f,n,l,u),p=Ut(lt({width:d.width,height:d.height},c),h,v);this.group.x=p.x-d.x,this.group.y=p.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Df(d,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,i,n,o,s,l){var u=this.getContentGroup(),h=J(),c=r.get("selectedMode"),v=r.get("triggerEvent"),f=[];i.eachRawSeries(function(d){!d.get("legendHoverLink")&&f.push(d.id)}),la(r.getData(),function(d,p){var y=this,g=d.get("name");if(!this.newlineDisabled&&(g===""||g===`
`)){var m=new ze;m.newline=!0,u.add(m);return}var _=i.getSeriesByName(g)[0];if(!h.get(g))if(_){var x=_.getData(),b=x.getVisual("legendLineStyle")||{},w=x.getVisual("legendIcon"),S=x.getVisual("style"),L=this._createItem(_,g,p,d,r,t,b,S,w,c,n);L.on("click",jt(Qi,g,null,n,f)).on("mouseover",jt(ua,_.name,null,n,f)).on("mouseout",jt(ha,_.name,null,n,f)),i.ssr&&L.eachChild(function(D){var M=tt(D);M.seriesIndex=_.seriesIndex,M.dataIndex=p,M.ssrType="legend"}),v&&L.eachChild(function(D){y.packEventData(D,r,_,p,g)}),h.set(g,!0)}else i.eachRawSeries(function(D){var M=this;if(!h.get(g)&&D.legendVisualProvider){var A=D.legendVisualProvider;if(!A.containName(g))return;var I=A.indexOfName(g),T=A.getItemVisual(I,"style"),k=A.getItemVisual(I,"legendIcon"),O=Nl(T.fill);O&&O[3]===0&&(O[3]=.2,T=K(K({},T),{fill:zl(O,"rgba")}));var E=this._createItem(D,g,p,d,r,t,{},T,k,c,n);E.on("click",jt(Qi,null,g,n,f)).on("mouseover",jt(ua,null,g,n,f)).on("mouseout",jt(ha,null,g,n,f)),i.ssr&&E.eachChild(function(F){var R=tt(F);R.seriesIndex=D.seriesIndex,R.dataIndex=p,R.ssrType="legend"}),v&&E.eachChild(function(F){M.packEventData(F,r,D,p,g)}),h.set(g,!0)}},this)},this),o&&this._createSelector(o,r,n,s,l)},e.prototype.packEventData=function(t,r,i,n,o){var s={componentType:"legend",componentIndex:r.componentIndex,dataIndex:n,value:o,seriesIndex:i.seriesIndex};tt(t).eventData=s},e.prototype._createSelector=function(t,r,i,n,o){var s=this.getSelectorGroup();la(t,function(u){var h=u.type,c=new gt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:h==="all"?"legendAllSelect":"legendInverseSelect",legendId:r.id})}});s.add(c);var v=r.getModel("selectorLabel"),f=r.getModel(["emphasis","selectorLabel"]);da(c,{normal:v,emphasis:f},{defaultText:u.title}),Xr(c)})},e.prototype._createItem=function(t,r,i,n,o,s,l,u,h,c,v){var f=t.visualDrawType,d=o.get("itemWidth"),p=o.get("itemHeight"),y=o.isSelected(r),g=n.get("symbolRotate"),m=n.get("symbolKeepAspect"),_=n.get("icon");h=_||h||"roundRect";var x=$f(h,n,l,u,f,y,v),b=new ze,w=n.getModel("textStyle");if(X(t.getLegendIcon)&&(!_||_==="inherit"))b.add(t.getLegendIcon({itemWidth:d,itemHeight:p,icon:h,iconRotate:g,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:m}));else{var S=_==="inherit"&&t.getData().getVisual("symbol")?g==="inherit"?t.getData().getVisual("symbolRotate"):g:0;b.add(Kf({itemWidth:d,itemHeight:p,icon:h,iconRotate:S,itemStyle:x.itemStyle,symbolKeepAspect:m}))}var L=s==="left"?d+5:-5,D=s,M=o.get("formatter"),A=r;Y(M)&&M?A=M.replace("{name}",r??""):X(M)&&(A=M(r));var I=y?w.getTextColor():n.get("inactiveColor");b.add(new gt({style:Zt(w,{text:A,x:L,y:p/2,fill:I,align:D,verticalAlign:"middle"},{inheritColor:I})}));var T=new st({shape:b.getBoundingRect(),style:{fill:"transparent"}}),k=n.getModel("tooltip");return k.get("show")&&ga({el:T,componentModel:o,itemName:r,itemTooltipOption:k.option}),b.add(T),b.eachChild(function(O){O.silent=!0}),T.silent=!c,this.getContentGroup().add(b),Xr(b),b.__legendDataIndex=i,b},e.prototype.layoutInner=function(t,r,i,n,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();xe(t.get("orient"),l,t.get("itemGap"),i.width,i.height);var h=l.getBoundingRect(),c=[-h.x,-h.y];if(u.markRedraw(),l.markRedraw(),o){xe("horizontal",u,t.get("selectorItemGap",!0));var v=u.getBoundingRect(),f=[-v.x,-v.y],d=t.get("selectorButtonGap",!0),p=t.getOrient().index,y=p===0?"width":"height",g=p===0?"height":"width",m=p===0?"y":"x";s==="end"?f[p]+=h[y]+d:c[p]+=v[y]+d,f[1-p]+=h[g]/2-v[g]/2,u.x=f[0],u.y=f[1],l.x=c[0],l.y=c[1];var _={x:0,y:0};return _[y]=h[y]+d+v[y],_[g]=Math.max(h[g],v[g]),_[m]=Math.min(0,v[m]+f[1-p]),_}else return l.x=c[0],l.y=c[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e})(Ct);function $f(a,e,t,r,i,n,o){function s(y,g){y.lineWidth==="auto"&&(y.lineWidth=g.lineWidth>0?2:0),la(y,function(m,_){y[_]==="inherit"&&(y[_]=g[_])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),h=a.lastIndexOf("empty",0)===0?"fill":"stroke",c=l.getShallow("decal");u.decal=!c||c==="inherit"?r.decal:Gl(c,o),u.fill==="inherit"&&(u.fill=r[i]),u.stroke==="inherit"&&(u.stroke=r[h]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?r:t).opacity),s(u,r);var v=e.getModel("lineStyle"),f=v.getLineStyle();if(s(f,t),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),f.stroke==="auto"&&(f.stroke=r.fill),!n){var d=e.get("inactiveBorderWidth"),p=u[h];u.lineWidth=d==="auto"?r.lineWidth>0&&p?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),f.stroke=v.get("inactiveColor"),f.lineWidth=v.get("inactiveWidth")}return{itemStyle:u,lineStyle:f}}function Kf(a){var e=a.icon||"roundRect",t=Ft(e,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill,a.symbolKeepAspect);return t.setStyle(a.itemStyle),t.rotation=(a.iconRotate||0)*Math.PI/180,t.setOrigin([a.itemWidth/2,a.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill=P.color.neutral00,t.style.lineWidth=2),t}function Qi(a,e,t,r){ha(a,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:a??e}),ua(a,e,t,r)}function qo(a){for(var e=a.getZr().storage.getDisplayList(),t,r=0,i=e.length;r<i&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function ua(a,e,t,r){qo(t)||t.dispatchAction({type:"highlight",seriesName:a,name:e,excludeSeriesId:r})}function ha(a,e,t,r){qo(t)||t.dispatchAction({type:"downplay",seriesName:a,name:e,excludeSeriesId:r})}function qf(a){var e=a.findComponents({mainType:"legend"});e&&e.length&&a.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function de(a,e,t){var r=a==="allSelect"||a==="inverseSelect",i={},n=[];t.eachComponent({mainType:"legend",query:e},function(s){r?s[a]():s[a](e.name),tn(s,i),n.push(s.componentIndex)});var o={};return t.eachComponent("legend",function(s){C(i,function(l,u){s[l?"select":"unSelect"](u)}),tn(s,o)}),r?{selected:o,legendIndex:n}:{name:e.name,selected:o}}function tn(a,e){var t=e||{};return C(a.getData(),function(r){var i=r.get("name");if(!(i===`
`||i==="")){var n=a.isSelected(i);Vl(t,i)?t[i]=t[i]&&n:t[i]=n}}),t}function Jf(a){a.registerAction("legendToggleSelect","legendselectchanged",et(de,"toggleSelected")),a.registerAction("legendAllSelect","legendselectall",et(de,"allSelect")),a.registerAction("legendInverseSelect","legendinverseselect",et(de,"inverseSelect")),a.registerAction("legendSelect","legendselected",et(de,"select")),a.registerAction("legendUnSelect","legendunselected",et(de,"unSelect"))}function Jo(a){a.registerComponentModel(sa),a.registerComponentView(Ko),a.registerProcessor(a.PRIORITY.PROCESSOR.SERIES_FILTER,qf),a.registerSubTypeDefaulter("legend",function(){return"plain"}),Jf(a)}var Qf=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,i){var n=hr(t);a.prototype.init.call(this,t,r,i),en(this,t,n)},e.prototype.mergeOption=function(t,r){a.prototype.mergeOption.call(this,t,r),en(this,this.option,t)},e.type="legend.scroll",e.defaultOption=ya(sa.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:P.color.accent50,pageIconInactiveColor:P.color.accent10,pageIconSize:15,pageTextStyle:{color:P.color.tertiary},animationDurationUpdate:800}),e})(sa);function en(a,e,t){var r=a.getOrient(),i=[1,1];i[r.index]=0,je(e,t,{type:"box",ignoreSize:!!i})}var rn=ct,kr=["width","height"],Or=["x","y"],tv=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){a.prototype.init.call(this),this.group.add(this._containerGroup=new rn),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new rn)},e.prototype.resetInner=function(){a.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,i,n,o,s,l){var u=this;a.prototype.renderInner.call(this,t,r,i,n,o,s,l);var h=this._controllerGroup,c=r.get("pageIconSize",!0),v=$(c)?c:[c,c];d("pagePrev",0);var f=r.getModel("pageTextStyle");h.add(new gt({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),d("pageNext",1);function d(p,y){var g=p+"DataIndex",m=Dn(r.get("pageIcons",!0)[r.getOrient().name][y],{onclick:W(u._pageGo,u,g,r,n)},{x:-v[0]/2,y:-v[1]/2,width:v[0],height:v[1]});m.name=p,h.add(m)}},e.prototype.layoutInner=function(t,r,i,n,o,s){var l=this.getSelectorGroup(),u=t.getOrient().index,h=kr[u],c=Or[u],v=kr[1-u],f=Or[1-u];o&&xe("horizontal",l,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),p=l.getBoundingRect(),y=[-p.x,-p.y],g=Wt(i);o&&(g[h]=i[h]-p[h]-d);var m=this._layoutContentAndController(t,n,g,u,h,v,f,c);if(o){if(s==="end")y[u]+=m[h]+d;else{var _=p[h]+d;y[u]-=_,m[c]-=_}m[h]+=p[h]+d,y[1-u]+=m[f]+m[v]/2-p[v]/2,m[v]=Math.max(m[v],p[v]),m[f]=Math.min(m[f],p[f]+y[1-u]),l.x=y[0],l.y=y[1],l.markRedraw()}return m},e.prototype._layoutContentAndController=function(t,r,i,n,o,s,l,u){var h=this.getContentGroup(),c=this._containerGroup,v=this._controllerGroup;xe(t.get("orient"),h,t.get("itemGap"),n?i.width:null,n?null:i.height),xe("horizontal",v,t.get("pageButtonItemGap",!0));var f=h.getBoundingRect(),d=v.getBoundingRect(),p=this._showController=f[o]>i[o],y=[-f.x,-f.y];r||(y[n]=h[u]);var g=[0,0],m=[-d.x,-d.y],_=q(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(p){var x=t.get("pageButtonPosition",!0);x==="end"?m[n]+=i[o]-d[o]:g[n]+=d[o]+_}m[1-n]+=f[s]/2-d[s]/2,h.setPosition(y),c.setPosition(g),v.setPosition(m);var b={x:0,y:0};if(b[o]=p?i[o]:f[o],b[s]=Math.max(f[s],d[s]),b[l]=Math.min(0,d[l]+m[1-n]),c.__rectSize=i[o],p){var w={x:0,y:0};w[o]=Math.max(i[o]-d[o]-_,0),w[s]=b[s],c.setClipPath(new st({shape:w})),c.__rectSize=w[o]}else v.eachChild(function(L){L.attr({invisible:!0,silent:!0})});var S=this._getPageInfo(t);return S.pageIndex!=null&&qt(h,{x:S.contentPosition[0],y:S.contentPosition[1]},p?t:null),this._updatePageInfoView(t,S),b},e.prototype._pageGo=function(t,r,i){var n=this._getPageInfo(r)[t];n!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var i=this._controllerGroup;C(["pagePrev","pageNext"],function(h){var c=h+"DataIndex",v=r[c]!=null,f=i.childOfName(h);f&&(f.setStyle("fill",v?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),f.cursor=v?"pointer":"default")});var n=i.childOfName("pageText"),o=t.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;n&&o&&n.setStyle("text",Y(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,o=t.getOrient().index,s=kr[o],l=Or[o],u=this._findTargetItemIndex(r),h=i.children(),c=h[u],v=h.length,f=v?1:0,d={contentPosition:[i.x,i.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return d;var p=x(c);d.contentPosition[o]=-p.s;for(var y=u+1,g=p,m=p,_=null;y<=v;++y)_=x(h[y]),(!_&&m.e>g.s+n||_&&!b(_,g.s))&&(m.i>g.i?g=m:g=_,g&&(d.pageNextDataIndex==null&&(d.pageNextDataIndex=g.i),++d.pageCount)),m=_;for(var y=u-1,g=p,m=p,_=null;y>=-1;--y)_=x(h[y]),(!_||!b(m,_.s))&&g.i<m.i&&(m=g,d.pagePrevDataIndex==null&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=_;return d;function x(w){if(w){var S=w.getBoundingRect(),L=S[l]+w[l];return{s:L,e:L+S[s],i:w.__legendDataIndex}}}function b(w,S){return w.e>=S&&w.s<=S+n}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,i=this.getContentGroup(),n;return i.eachChild(function(o,s){var l=o.__legendDataIndex;n==null&&l!=null&&(n=s),l===t&&(r=s)}),r??n},e.type="legend.scroll",e})(Ko);function ev(a){a.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(r)})})}function rv(a){mt(Jo),a.registerComponentModel(Qf),a.registerComponentView(tv),ev(a)}function Qo(a){mt(Jo),mt(rv)}var av=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=ya(sr.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e})(sr),La=vt();function iv(a,e,t){La(a).coordSysRecordMap.each(function(r){var i=r.dataZoomInfoMap.get(e.uid);i&&(i.getRange=t)})}function nv(a,e){for(var t=La(a).coordSysRecordMap,r=t.keys(),i=0;i<r.length;i++){var n=r[i],o=t.get(n),s=o.dataZoomInfoMap;if(s){var l=e.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||ts(t,o))}}}function ts(a,e){if(e){a.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function ov(a,e){var t={model:e,containsPoint:et(lv,e),dispatchAction:et(sv,a),dataZoomInfoMap:null,controller:null},r=t.controller=new Uc(a.getZr());return C(["pan","zoom","scrollMove"],function(i){r.on(i,function(n){var o=[];t.dataZoomInfoMap.each(function(s){if(n.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[i],u=l&&l(s.dzReferCoordSysInfo,t.model.mainType,t.controller,n);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&t.dispatchAction(o)})}),t}function sv(a,e){a.isDisposed()||a.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function lv(a,e,t,r){return a.coordinateSystem.containPoint([t,r])}function uv(a,e,t){var r,i="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return a.each(function(s){var l=s.model,u=l.get("disabled",!0)?!1:l.get("zoomLock",!0)?"move":!0;n[i+u]>n[i+r]&&(r=u),o=o&&l.get("preventDefaultMouseMove",!0)}),{controlType:r,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o,api:t,zInfo:{component:e.model},triggerInfo:{roamTrigger:null,isInSelf:e.containsPoint}}}}function hv(a){a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,function(e,t){var r=La(t),i=r.coordSysRecordMap||(r.coordSysRecordMap=J());i.each(function(n){n.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(n){var o=Wo(n);C(o.infoList,function(s){var l=s.model.uid,u=i.get(l)||i.set(l,ov(t,s.model)),h=u.dataZoomInfoMap||(u.dataZoomInfoMap=J());h.set(n.uid,{dzReferCoordSysInfo:s,model:n,getRange:null})})}),i.each(function(n){var o=n.controller,s,l=n.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){ts(i,n);return}var h=uv(l,n,t);o.enable(h.controlType,h.opt),fr(n,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var cv=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,r,i){if(a.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),iv(i,t,{pan:W(Pr.pan,this),zoom:W(Pr.zoom,this),scrollMove:W(Pr.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){nv(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e})(Ho),Pr={zoom:function(a,e,t,r){var i=this.range,n=i.slice(),o=a.axisModels[0];if(o){var s=Er[e](null,[r.originX,r.originY],o,t,a),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(n[1]-n[0])+n[0],u=Math.max(1/r.scale,0);n[0]=(n[0]-l)*u+l,n[1]=(n[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(De(0,n,[0,100],0,h.minSpan,h.maxSpan),this.range=n,i[0]!==n[0]||i[1]!==n[1])return n}},pan:an(function(a,e,t,r,i,n){var o=Er[r]([n.oldX,n.oldY],[n.newX,n.newY],e,i,t);return o.signal*(a[1]-a[0])*o.pixel/o.pixelLength}),scrollMove:an(function(a,e,t,r,i,n){var o=Er[r]([0,0],[n.scrollDelta,n.scrollDelta],e,i,t);return o.signal*(a[1]-a[0])*n.scrollDelta})};function an(a){return function(e,t,r,i){var n=this.range,o=n.slice(),s=e.axisModels[0];if(s){var l=a(o,s,e,t,r,i);if(De(l,o,[0,100],"all"),this.range=o,n[0]!==o[0]||n[1]!==o[1])return o}}}var Er={grid:function(a,e,t,r,i){var n=t.axis,o={},s=i.model.coordinateSystem.getRect();return a=a||[0,0],n.dim==="x"?(o.pixel=e[0]-a[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=n.inverse?1:-1):(o.pixel=e[1]-a[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=n.inverse?-1:1),o},polar:function(a,e,t,r,i){var n=t.axis,o={},s=i.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return a=a?s.pointToCoord(a):[0,0],e=s.pointToCoord(e),t.mainType==="radiusAxis"?(o.pixel=e[0]-a[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=n.inverse?1:-1):(o.pixel=e[1]-a[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=n.inverse?-1:1),o},singleAxis:function(a,e,t,r,i){var n=t.axis,o=i.model.coordinateSystem.getRect(),s={};return a=a||[0,0],n.orient==="horizontal"?(s.pixel=e[0]-a[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=n.inverse?1:-1):(s.pixel=e[1]-a[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=n.inverse?-1:1),s}};function fv(a){Fo(a),a.registerComponentModel(av),a.registerComponentView(cv),hv(a)}var vv=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=ya(sr.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:P.color.accent10,borderRadius:0,backgroundColor:P.color.transparent,dataBackground:{lineStyle:{color:P.color.accent30,width:.5},areaStyle:{color:P.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:P.color.accent40,width:.5},areaStyle:{color:P.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:P.color.neutral00,borderColor:P.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:P.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:P.color.tertiary},brushSelect:!0,brushStyle:{color:P.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:P.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),e})(sr),pe=st,dv=1,Rr=30,pv=7,ge="horizontal",nn="vertical",gv=5,mv=["line","bar","candlestick","scatter"],yv={easing:"cubicOut",duration:100,delay:0},_v=(function(a){G(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,r){this.api=r,this._onBrush=W(this._onBrush,this),this._onBrushEnd=W(this._onBrushEnd,this)},e.prototype.render=function(t,r,i,n){if(a.prototype.render.apply(this,arguments),fr(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!n||n.type!=="dataZoom"||n.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){tr(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new ct;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(r),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,r=this.api,i=t.get("brushSelect"),n=i?pv:0,o=cr(t,r).refContainer,s=this._findCoordRect(),l=t.get("defaultLocationEdgeGap",!0)||0,u=this._orient===ge?{right:o.width-s.x-s.width,top:o.height-Rr-l-n,width:s.width,height:Rr}:{right:l,top:s.y,width:Rr,height:s.height},h=hr(t.option);C(["right","top","width","height"],function(v){h[v]==="ph"&&(h[v]=u[v])});var c=Ut(h,o);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===nn&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,r=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(i===ge&&!o?{scaleY:l?1:-1,scaleX:1}:i===ge&&o?{scaleY:l?1:-1,scaleX:-1}:i===nn&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([s]);t.x=r.x-u.x,t.y=r.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,r=this._size,i=this._displayables.sliderGroup,n=t.get("brushSelect");i.add(new pe({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var o=new pe({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:W(this._onClickPanel,this)}),s=this.api.getZr();n?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),i.add(o)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var r=this._size,i=this._shadowSize||[],n=t.series,o=n.getRawData(),s=n.getShadowDim&&n.getShadowDim(),l=s&&o.getDimensionInfo(s)?n.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,h=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||r[0]!==i[0]||r[1]!==i[1]){var c=o.getDataExtent(t.thisDim),v=o.getDataExtent(l),f=(v[1]-v[0])*.3;v=[v[0]-f,v[1]+f];var d=[0,r[1]],p=[0,r[0]],y=[[r[0],0],[0,0]],g=[],m=p[1]/Math.max(1,o.count()-1),_=r[0]/(c[1]-c[0]),x=t.thisAxis.type==="time",b=-m,w=Math.round(o.count()/r[0]),S;o.each([t.thisDim,l],function(I,T,k){if(w>0&&k%w){x||(b+=m);return}b=x?(+I-c[0])*_:b+m;var O=T==null||isNaN(T)||T==="",E=O?0:Q(T,v,d,!0);O&&!S&&k?(y.push([y[y.length-1][0],0]),g.push([g[g.length-1][0],0])):!O&&S&&(y.push([b,0]),g.push([b,0])),O||(y.push([b,E]),g.push([b,E])),S=O}),u=this._shadowPolygonPts=y,h=this._shadowPolylinePts=g}this._shadowData=o,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var L=this.dataZoomModel;function D(I){var T=L.getModel(I?"selectedDataBackground":"dataBackground"),k=new ct,O=new Zl({shape:{points:u},segmentIgnoreThreshold:1,style:T.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),E=new Ul({shape:{points:h},segmentIgnoreThreshold:1,style:T.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return k.add(O),k.add(E),k}for(var M=0;M<3;M++){var A=D(M===1);this._displayables.sliderGroup.add(A),this._displayables.dataShadowSegs.push(A)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,r=t.get("showDataShadow");if(r!==!1){var i,n=this.ecModel;return t.eachTargetAxis(function(o,s){var l=t.getAxisProxy(o,s).getTargetSeriesModels();C(l,function(u){if(!i&&!(r!==!0&&ht(mv,u.get("type"))<0)){var h=n.getComponent(Pt(o),s).axis,c=xv(o),v,f=u.coordinateSystem;c!=null&&f.getOtherAxis&&(v=f.getOtherAxis(h).inverse),c=u.getData().mapDimension(c);var d=u.getData().mapDimension(o);i={thisAxis:h,series:u,thisDim:d,otherDim:c,otherAxisInverse:v}}},this)},this),i}},e.prototype._renderHandle=function(){var t=this.group,r=this._displayables,i=r.handles=[null,null],n=r.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,h=l.get("borderRadius")||0,c=l.get("brushSelect"),v=r.filler=new pe({silent:c,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(v),o.add(new pe({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:h},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:dv,fill:P.color.transparent}})),C([0,1],function(_){var x=l.get("handleIcon");!Wl[x]&&x.indexOf("path://")<0&&x.indexOf("image://")<0&&(x="path://"+x);var b=Ft(x,-1,0,2,2,null,!0);b.attr({cursor:bv(this._orient),draggable:!0,drift:W(this._onDragMove,this,_),ondragend:W(this._onDragEnd,this),onmouseover:W(this._showDataInfo,this,!0),onmouseout:W(this._showDataInfo,this,!1),z2:5});var w=b.getBoundingRect(),S=l.get("handleSize");this._handleHeight=wt(S,this._size[1]),this._handleWidth=w.width/w.height*this._handleHeight,b.setStyle(l.getModel("handleStyle").getItemStyle()),b.style.strokeNoScale=!0,b.rectHover=!0,b.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Xr(b);var L=l.get("handleColor");L!=null&&(b.style.fill=L),o.add(i[_]=b);var D=l.getModel("textStyle"),M=l.get("handleLabel")||{},A=M.show||!1;t.add(n[_]=new gt({silent:!0,invisible:!A,style:Zt(D,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:D.getTextColor(),font:D.getFont()}),z2:10}))},this);var f=v;if(c){var d=wt(l.get("moveHandleSize"),s[1]),p=r.moveHandle=new st({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:d}}),y=d*.8,g=r.moveHandleIcon=Ft(l.get("moveHandleIcon"),-y/2,-y/2,y,y,P.color.neutral00,!0);g.silent=!0,g.y=s[1]+d/2-.5,p.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(s[1]/2,Math.max(d,10));f=r.moveZone=new st({invisible:!0,shape:{y:s[1]-m,height:d+m}}),f.on("mouseover",function(){u.enterEmphasis(p)}).on("mouseout",function(){u.leaveEmphasis(p)}),o.add(p),o.add(g),o.add(f)}f.attr({draggable:!0,cursor:"default",drift:W(this._onDragMove,this,"all"),ondragstart:W(this._showDataInfo,this,!0),ondragend:W(this._onDragEnd,this),onmouseover:W(this._showDataInfo,this,!0),onmouseout:W(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[Q(t[0],[0,100],r,!0),Q(t[1],[0,100],r,!0)]},e.prototype._updateInterval=function(t,r){var i=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),s=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];De(r,n,o,i.get("zoomLock")?"all":t,s.minSpan!=null?Q(s.minSpan,l,o,!0):null,s.maxSpan!=null?Q(s.maxSpan,l,o,!0):null);var u=this._range,h=this._range=me([Q(n[0],o,l,!0),Q(n[1],o,l,!0)]);return!u||u[0]!==h[0]||u[1]!==h[1]},e.prototype._updateView=function(t){var r=this._displayables,i=this._handleEnds,n=me(i.slice()),o=this._size;C([0,1],function(f){var d=r.handles[f],p=this._handleHeight;d.attr({scaleX:p/2,scaleY:p/2,x:i[f]+(f?-1:1),y:o[1]/2-p/2})},this),r.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:o[1]});var s={x:n[0],width:n[1]-n[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,n[0],n[1],o[0]],h=0;h<l.length;h++){var c=l[h],v=c.getClipPath();v||(v=new st,c.setClipPath(v)),v.setShape({x:u[h],y:0,width:u[h+1]-u[h],height:o[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var r=this.dataZoomModel,i=this._displayables,n=i.handleLabels,o=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,h=this._range,c=t?l.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(c[0],u),this._formatLabel(c[1],u)]}}var v=me(this._handleEnds.slice());f.call(this,0),f.call(this,1);function f(d){var p=Hl(i.handles[d].parent,this.group),y=Fl(d===0?"right":"left",p),g=this._handleWidth/2+gv,m=Yr([v[d]+(d===0?-g:g),this._size[1]/2],p);n[d].setStyle({x:m[0],y:m[1],verticalAlign:o===ge?"middle":y,align:o===ge?y:"center",text:s[d]})}},e.prototype._formatLabel=function(t,r){var i=this.dataZoomModel,n=i.get("labelFormatter"),o=i.get("labelPrecision");(o==null||o==="auto")&&(o=r.getPixelPrecision());var s=t==null||isNaN(t)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(o,20));return X(n)?n(t,s):Y(n)?n.replace("{value}",s):s},e.prototype._showDataInfo=function(t){var r=this.dataZoomModel.get("handleLabel")||{},i=r.show||!1,n=this.dataZoomModel.getModel(["emphasis","handleLabel"]),o=n.get("show")||!1,s=t||this._dragging?o:i,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!s),u[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},e.prototype._onDragMove=function(t,r,i,n){this._dragging=!0,Se(n.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=Yr([r,i],o,!0),l=this._updateInterval(t,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var r=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>r[0]||i[1]<0||i[1]>r[1])){var n=this._handleEnds,o=(n[0]+n[1])/2,s=this._updateInterval("all",i[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var r=t.offsetX,i=t.offsetY;this._brushStart=new te(r,i),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var i=r.shape,n=+new Date;if(!(n-this._brushStartTime<200&&Math.abs(i.width)<5)){var o=this._getViewExtent(),s=[0,100],l=this._handleEnds=[i.x,i.x+i.width],u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();De(0,l,o,0,u.minSpan!=null?Q(u.minSpan,s,o,!0):null,u.maxSpan!=null?Q(u.maxSpan,s,o,!0):null),this._range=me([Q(l[0],o,s,!0),Q(l[1],o,s,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Se(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,r){var i=this._displayables,n=this.dataZoomModel,o=i.brushRect;o||(o=i.brushRect=new pe({silent:!0,style:n.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,r),h=l.transformCoordToLocal(s.x,s.y),c=this._size;u[0]=Math.max(Math.min(c[0],u[0]),0),o.setShape({x:h[0],y:0,width:u[0]-h[0],height:c[1]})},e.prototype._dispatchZoomAction=function(t){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?yv:null,start:r[0],end:r[1]})},e.prototype._findCoordRect=function(){var t,r=Wo(this.dataZoomModel).infoList;if(!t&&r.length){var i=r[0].model.coordinateSystem;t=i.getRect&&i.getRect()}if(!t){var n=this.api.getWidth(),o=this.api.getHeight();t={x:n*.2,y:o*.2,width:n*.6,height:o*.6}}return t},e.type="dataZoom.slider",e})(Ho);function xv(a){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[a]}function bv(a){return a==="vertical"?"ns-resize":"ew-resize"}function Sv(a){a.registerComponentModel(vv),a.registerComponentView(_v),Fo(a)}function wv(a){mt(fv),mt(Sv)}function on(a,e,t){var r=Yl.createCanvas(),i=e.getWidth(),n=e.getHeight(),o=r.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=n+"px",r.setAttribute("data-zr-dom-id",a)),r.width=i*t,r.height=n*t,r}var Br=(function(a){G(e,a);function e(t,r,i){var n=a.call(this)||this;n.motionBlur=!1,n.lastFrameAlpha=.7,n.dpr=1,n.virtual=!1,n.config={},n.incremental=!1,n.zlevel=0,n.maxRepaintRectCount=5,n.__dirty=!0,n.__firstTimePaint=!0,n.__used=!1,n.__drawIndex=0,n.__startIndex=0,n.__endIndex=0,n.__prevStartIndex=null,n.__prevEndIndex=null;var o;i=i||kn,typeof t=="string"?o=on(t,r,i):rt(t)&&(o=t,t=o.id),n.id=t,n.dom=o;var s=o.style;return s&&(In(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),n.painter=r,n.dpr=i,n}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=on("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,r,i,n){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new pt(0,0,0,0);function h(m){if(!(!m.isFinite()||m.isZero()))if(o.length===0){var _=new pt(0,0,0,0);_.copy(m),o.push(_)}else{for(var x=!1,b=1/0,w=0,S=0;S<o.length;++S){var L=o[S];if(L.intersect(m)){var D=new pt(0,0,0,0);D.copy(L),D.union(m),o[S]=D,x=!0;break}else if(l){u.copy(m),u.union(L);var M=m.width*m.height,A=L.width*L.height,I=u.width*u.height,T=I-M-A;T<b&&(b=T,w=S)}}if(l&&(o[w].union(m),x=!0),!x){var _=new pt(0,0,0,0);_.copy(m),o.push(_)}l||(l=o.length>=s)}}for(var c=this.__startIndex;c<this.__endIndex;++c){var v=t[c];if(v){var f=v.shouldBePainted(i,n,!0,!0),d=v.__isRendered&&(v.__dirty&jr||!f)?v.getPrevPaintRect():null;d&&h(d);var p=f&&(v.__dirty&jr||!v.__isRendered)?v.getPaintRect():null;p&&h(p)}}for(var c=this.__prevStartIndex;c<this.__prevEndIndex;++c){var v=r[c],f=v&&v.shouldBePainted(i,n,!0,!0);if(v&&(!f||!v.__zr)&&v.__isRendered){var d=v.getPrevPaintRect();d&&h(d)}}var y;do{y=!1;for(var c=0;c<o.length;){if(o[c].isZero()){o.splice(c,1);continue}for(var g=c+1;g<o.length;)o[c].intersect(o[g])?(y=!0,o[c].union(o[g]),o.splice(g,1)):g++;c++}}while(y);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,r){var i=this.dpr,n=this.dom,o=n.style,s=this.domBack;o&&(o.width=t+"px",o.height=r+"px"),n.width=t*i,n.height=r*i,s&&(s.width=t*i,s.height=r*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,r,i){var n=this.dom,o=this.ctx,s=n.width,l=n.height;r=r||this.clearColor;var u=this.motionBlur&&!t,h=this.lastFrameAlpha,c=this.dpr,v=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,s/c,l/c));var f=this.domBack;function d(p,y,g,m){if(o.clearRect(p,y,g,m),r&&r!=="transparent"){var _=void 0;if(Xl(r)){var x=r.global||r.__width===g&&r.__height===m;_=x&&r.__canvasGradient||jl(o,r,{x:0,y:0,width:g,height:m}),r.__canvasGradient=_,r.__width=g,r.__height=m}else $l(r)&&(r.scaleX=r.scaleX||c,r.scaleY=r.scaleY||c,_=Kl(o,r,{dirty:function(){v.setUnpainted(),v.painter.refresh()}}));o.save(),o.fillStyle=_||r,o.fillRect(p,y,g,m),o.restore()}u&&(o.save(),o.globalAlpha=h,o.drawImage(f,p,y,g,m),o.restore())}!i||u?d(0,0,s,l):i.length&&C(i,function(p){d(p.x*c,p.y*c,p.width*c,p.height*c)})},e})(Mn),sn=1e5,Nt=314159,Ge=.01,Cv=.001;function Av(a){return a?a.__builtin__?!0:!(typeof a.resize!="function"||typeof a.refresh!="function"):!1}function Mv(a,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+a+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var Dv=(function(){function a(e,t,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var n=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=K({},r||{}),this.dpr=r.devicePixelRatio||kn,this._singleCanvas=n,this.root=e;var o=e.style;o&&(In(e),e.innerHTML=""),this.storage=t;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(n){var h=e,c=h.width,v=h.height;r.width!=null&&(c=r.width),r.height!=null&&(v=r.height),this.dpr=r.devicePixelRatio||1,h.width=c*this.dpr,h.height=v*this.dpr,this._width=c,this._height=v;var f=new Br(h,this,this.dpr);f.__builtin__=!0,f.initContext(),l[Nt]=f,f.zlevel=Nt,s.push(Nt),this._domRoot=e}else{this._width=ke(e,0,r),this._height=ke(e,1,r);var u=this._domRoot=Mv(this._width,this._height);e.appendChild(u)}}return a.prototype.getType=function(){return"canvas"},a.prototype.isSingleCanvas=function(){return this._singleCanvas},a.prototype.getViewportRoot=function(){return this._domRoot},a.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},a.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,r,e,this._redrawId);for(var n=0;n<i.length;n++){var o=i[n],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=n===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},a.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},a.prototype._paintHoverList=function(e){var t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},n,o=0;o<t;o++){var s=e[o];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(sn)),n||(n=r.ctx,n.save()),Ie(n,s,i,o===t-1))}n&&n.restore()}},a.prototype.getHoverLayer=function(){return this.getLayer(sn)},a.prototype.paintOne=function(e,t){ql(e,t)},a.prototype._paintList=function(e,t,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(e);var n=this._doPaintList(e,t,r),o=n.finished,s=n.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;Jl(function(){l._paintList(e,t,r,i)})}}},a.prototype._compositeManually=function(){var e=this.getLayer(Nt).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,r)})},a.prototype._doPaintList=function(e,t,r){for(var i=this,n=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&n.push(u)}for(var h=!0,c=!1,v=function(p){var y=n[p],g=y.ctx,m=o&&y.createRepaintRects(e,t,f._width,f._height),_=r?y.__startIndex:y.__drawIndex,x=!r&&y.incremental&&Date.now,b=x&&Date.now(),w=y.zlevel===f._zlevelList[0]?f._backgroundColor:null;if(y.__startIndex===y.__endIndex)y.clear(!1,w,m);else if(_===y.__startIndex){var S=e[_];(!S.incremental||!S.notClear||r)&&y.clear(!1,w,m)}_===-1&&(console.error("For some unknown reason. drawIndex is -1"),_=y.__startIndex);var L,D=function(T){var k={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(L=_;L<y.__endIndex;L++){var O=e[L];if(O.__inHover&&(c=!0),i._doPaintEl(O,y,o,T,k,L===y.__endIndex-1),x){var E=Date.now()-b;if(E>15)break}}k.prevElClipPaths&&g.restore()};if(m)if(m.length===0)L=y.__endIndex;else for(var M=f.dpr,A=0;A<m.length;++A){var I=m[A];g.save(),g.beginPath(),g.rect(I.x*M,I.y*M,I.width*M,I.height*M),g.clip(),D(I),g.restore()}else g.save(),D(),g.restore();y.__drawIndex=L,y.__drawIndex<y.__endIndex&&(h=!1)},f=this,d=0;d<n.length;d++)v(d);return ot.wxa&&C(this._layers,function(p){p&&p.ctx&&p.ctx.draw&&p.ctx.draw()}),{finished:h,needsRefreshHover:c}},a.prototype._doPaintEl=function(e,t,r,i,n,o){var s=t.ctx;if(r){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(Ie(s,e,n,o),e.setPrevPaintRect(l))}else Ie(s,e,n,o)},a.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Nt);var r=this._layers[e];return r||(r=new Br("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?nt(r,this._layerConfig[e],!0):this._layerConfig[e-Ge]&&nt(r,this._layerConfig[e-Ge],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},a.prototype.insertLayer=function(e,t){var r=this._layers,i=this._zlevelList,n=i.length,o=this._domRoot,s=null,l=-1;if(!r[e]&&Av(t)){if(n>0&&e>i[0]){for(l=0;l<n-1&&!(i[l]<e&&i[l+1]>e);l++);s=r[i[l]]}if(i.splice(l+1,0,e),r[e]=t,!t.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(t.dom,u.nextSibling):o.appendChild(t.dom)}else o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom);t.painter||(t.painter=this)}},a.prototype.eachLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var n=r[i];e.call(t,this._layers[n],n)}},a.prototype.eachBuiltinLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var n=r[i],o=this._layers[n];o.__builtin__&&e.call(t,o,n)}},a.prototype.eachOtherLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var n=r[i],o=this._layers[n];o.__builtin__||e.call(t,o,n)}},a.prototype.getLayers=function(){return this._layers},a.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(c,v){c.__dirty=c.__used=!1});function t(c){n&&(n.__endIndex!==c&&(n.__dirty=!0),n.__endIndex=c)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var i=e[r];if(i.zlevel!==e[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var n=null,o=0,s,l;for(l=0;l<e.length;l++){var i=e[l],u=i.zlevel,h=void 0;s!==u&&(s=u,o=0),i.incremental?(h=this.getLayer(u+Cv,this._needsManuallyCompositing),h.incremental=!0,o=1):h=this.getLayer(u+(o>0?Ge:0),this._needsManuallyCompositing),h.__builtin__||Ql("ZLevel "+u+" has been used by unkown layer "+h.id),h!==n&&(h.__used=!0,h.__startIndex!==l&&(h.__dirty=!0),h.__startIndex=l,h.incremental?h.__drawIndex=-1:h.__drawIndex=l,t(l),n=h),i.__dirty&jr&&!i.__inHover&&(h.__dirty=!0,h.incremental&&h.__drawIndex<0&&(h.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(c,v){!c.__used&&c.getElementCount()>0&&(c.__dirty=!0,c.__startIndex=c.__endIndex=c.__drawIndex=0),c.__dirty&&c.__drawIndex<0&&(c.__drawIndex=c.__startIndex)})},a.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},a.prototype._clearLayer=function(e){e.clear()},a.prototype.setBackgroundColor=function(e){this._backgroundColor=e,C(this._layers,function(t){t.setUnpainted()})},a.prototype.configLayer=function(e,t){if(t){var r=this._layerConfig;r[e]?nt(r[e],t,!0):r[e]=t;for(var i=0;i<this._zlevelList.length;i++){var n=this._zlevelList[i];if(n===e||n===e+Ge){var o=this._layers[n];nt(o,r[e],!0)}}}},a.prototype.delLayer=function(e){var t=this._layers,r=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],r.splice(ht(r,e),1))},a.prototype.resize=function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,n=this.root;if(e!=null&&(i.width=e),t!=null&&(i.height=t),e=ke(n,0,i),t=ke(n,1,i),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(Nt).resize(e,t)}return this},a.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},a.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},a.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Nt].dom;var t=new Br("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var r=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,n=t.dom.height;this.eachLayer(function(c){c.__builtin__?r.drawImage(c.dom,0,0,i,n):c.renderToCanvas&&(r.save(),c.renderToCanvas(r),r.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var h=s[l];Ie(r,h,o,l===u-1)}return t.dom},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a})();function es(a){a.registerPainter("canvas",Dv)}function rs(a,e=5){const t=U.useMemo(()=>[...a].sort(),[a]),r=U.useMemo(()=>{const n=new Set;return t.forEach(o=>{const s=Number(o.slice(0,4));isNaN(s)||n.add(s)}),Array.from(n).sort((o,s)=>o-s)},[t]),i=U.useMemo(()=>{if(r.length===0)return[0,0];const n=r[r.length-1];return[r.length>e?r[r.length-e]:r[0],n]},[r,e]);return{years:r,defaultYearRange:i}}mt([_o,Vo,jo,Qo,$o,es,wv]);const ln=[{key:"at_PoS",label:"PoS"},{key:"Online_ecom",label:"Online Ecom"},{key:"Others",label:"Others"},{key:"Cash_Withdrawal",label:"Cash Withdrawal"}],Tv=[{key:"Volume",label:"Volume"},{key:"Value",label:"Value"}],Lv=({allData:a,months:e,chartRef:t})=>{const r=U.useRef(null),i=t||r,{years:n,defaultYearRange:o}=rs(e),[s,l]=U.useState(o),[u,h]=U.useState(""),[c,v]=U.useState(5),[f,d]=U.useState(ln[0].key),[p,y]=U.useState(Tv[0].key);U.useEffect(()=>{l(o)},[o]);const g=U.useMemo(()=>[...e].sort().filter(w=>{const S=Number(w.slice(0,4));return S>=s[0]&&S<=s[1]}),[e,s]),m=U.useMemo(()=>{const b=g.flatMap(L=>a[L]||[]),w=u?b.filter(L=>L.Bank_Type===u):b,S=new Map;return w.forEach(L=>{S.has(L.Bank_Name)||S.set(L.Bank_Name,[]),S.get(L.Bank_Name).push(L)}),Array.from(S.entries()).map(([L,D])=>{const M=D[0]?.Bank_Short_Name||L,A=g.map(I=>{const T=(a[I]||[]).find(O=>O.Bank_Name===L);let k=0;if(T?.Card_Payments_Transactions?.Credit_Card){const O=T.Card_Payments_Transactions.Credit_Card;if(f==="Cash_Withdrawal")k=O.Cash_Withdrawal?.At_ATM?.[p]??0;else{const E=O[f];E&&typeof E=="object"&&p in E&&(k=E[p]??0)}}return{month:I,value:k}});return A.some(I=>I.value>0)?{bank:L,bankShortName:M,values:A}:null}).filter(Boolean)},[a,g,u,f,p]),_=U.useMemo(()=>{const b=g[g.length-1];return[...m].sort((w,S)=>{const L=w.values.find(M=>M.month===b)?.value??0;return(S.values.find(M=>M.month===b)?.value??0)-L}).slice(0,c)},[m,c,g]),x=U.useMemo(()=>({backgroundColor:"transparent",tooltip:{trigger:"axis",valueFormatter:b=>b.toLocaleString("en-IN")},legend:{x:"right",y:"top",type:"scroll"},grid:{left:"1%",right:"1%",bottom:"1%"},xAxis:{type:"category",data:g,axisLabel:{rotate:45,interval:Math.ceil(g.length/10)},boundaryGap:!1},yAxis:{type:"value",name:p,axisLabel:{formatter:b=>b.toLocaleString("en-IN")},splitLine:{lineStyle:{type:"dashed"}}},series:_.map(b=>({name:b.bankShortName||b.bank,type:"line",smooth:!0,data:g.map(w=>b.values.find(S=>S.month===w)?.value??0),emphasis:{focus:"series"}})),dataZoom:[{type:"inside",start:0,end:100},{type:"slider",start:0,end:100,height:20,bottom:0}]}),[_,g,p]);return z.jsxs("div",{className:"flex flex-col gap-4 justify-between h-full",children:[z.jsx("div",{className:"flex flex-row items-center justify-between gap-2",children:z.jsx("div",{className:"text-lg text-center font-medium flex-1",children:"Credit Card Category Time Series"})}),z.jsxs("div",{className:"grid gap-4",children:[z.jsxs("div",{className:"flex w-full flex-wrap gap-4 items-center justify-between",children:[z.jsxs("div",{className:"flex gap-2 items-center",children:[z.jsx("span",{className:"font-medium",children:"Category:"}),z.jsx("div",{className:"join",children:ln.map(b=>z.jsx("button",{className:`btn btn-xs join-item${f===b.key?" btn-primary":""}`,onClick:()=>d(b.key),type:"button","aria-pressed":f===b.key,children:b.label},b.key))})]}),z.jsxs("div",{className:"flex gap-2 items-center",children:[z.jsx("span",{className:"font-medium",children:"Metric:"}),z.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[z.jsx("span",{className:p==="Volume"?"font-semibold":"text-base-content/60",children:"Volume"}),z.jsx("input",{type:"checkbox",className:"toggle toggle-primary toggle-sm",checked:p==="Value",onChange:()=>y(p==="Volume"?"Value":"Volume"),"aria-label":"Toggle between Volume and Value"}),z.jsx("span",{className:p==="Value"?"font-semibold":"text-base-content/60",children:"Value"})]})]}),z.jsx(Rn,{value:c,min:1,max:m.length||1,onChange:v,label:"banks"}),z.jsx(Bn,{min:n[0],max:n[n.length-1],value:s,onChange:l,step:1})]}),z.jsx(En,{bankTypes:On,selected:u,onSelect:h})]}),z.jsx(Pn,{option:x,className:"w-full h-[400px]","aria-label":"Credit Card Category Time Series Chart",role:"img",tabIndex:0,onInit:b=>{i.current=b}})]})},Vv=U.memo(Lv);mt([_o,Vo,jo,Qo,$o,es]);const Iv=({allData:a,months:e,chartRef:t})=>{const{years:r,defaultYearRange:i}=rs(e),[n,o]=U.useState(i);U.useEffect(()=>{o(i)},[i]);const s=U.useMemo(()=>[...e].sort(),[e]),l=U.useMemo(()=>s.filter(m=>{const _=Number(m.slice(0,4));return _>=n[0]&&_<=n[1]}),[s,n]),[u,h]=U.useState(""),c=On,v=U.useMemo(()=>{const m=l.flatMap(b=>a[b]||[]),_=u?m.filter(b=>b.Bank_Type===u):m,x=new Map;return _.forEach(b=>{x.has(b.Bank_Name)||x.set(b.Bank_Name,[]),x.get(b.Bank_Name).push(b)}),Array.from(x.entries()).map(([b,w])=>{const S=w[0]?.Bank_Short_Name||b,L=l.map(D=>{const M=(a[D]||[]).find(A=>A.Bank_Name===b);return{month:D,creditCards:M?.Infrastructure?.Credit_Cards??0}});return L.some(D=>D.creditCards>0)?{bank:b,bankShortName:S,values:L}:null}).filter(Boolean)},[a,l,u]),[f,d]=U.useState(5),p=l[l.length-1],y=U.useMemo(()=>[...v].sort((m,_)=>{const x=m.values.find(w=>w.month===p)?.creditCards??0;return(_.values.find(w=>w.month===p)?.creditCards??0)-x}).slice(0,f),[v,f,p]),g=U.useMemo(()=>({backgroundColor:"transparent",tooltip:{trigger:"axis",valueFormatter:m=>m.toLocaleString("en-IN")},legend:{x:"right",y:"top",type:"scroll"},grid:{left:"1%",right:"1%",bottom:"1%"},xAxis:{type:"category",data:l,axisLabel:{rotate:45}},yAxis:{type:"value",name:"Credit Cards"},series:y.map(m=>({name:m.bankShortName||m.bank,type:"line",data:l.map(_=>m.values.find(x=>x.month===_)?.creditCards??0)}))}),[y,l]);return z.jsxs("div",{className:"flex flex-col gap-4 justify-between h-full",children:[z.jsx("div",{className:"flex flex-row items-center justify-between gap-2",children:z.jsx("div",{className:"text-lg text-center font-medium flex-1",children:"Credit Card Time Series"})}),z.jsxs("div",{className:"grid gap-4",children:[z.jsxs("div",{className:"flex w-full items-center justify-between gap-6 mb-2",children:[z.jsx(Rn,{value:f,min:1,max:v.length,onChange:d,label:"banks"}),z.jsx(Bn,{min:r[0],max:r[r.length-1],value:n,onChange:o,step:1})]}),z.jsx(En,{bankTypes:c,selected:u,onSelect:h})]}),z.jsx(Pn,{option:g,className:"w-full h-[400px]","aria-label":"Credit Card Time Series Chart",role:"img",tabIndex:0,onInit:m=>{t&&(t.current=m)}})]})},Wv=U.memo(Iv),Hv=({charts:a})=>z.jsx("article",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 py-8",children:a.map((e,t)=>{const r=e.props&&typeof e.props.title=="string"?e.props.title:e.component.name?.replace("Chart","")||`Chart ${t+1}`;return z.jsx("div",{className:"card bg-base-200/50 p-4 shadow-sm border border-base-100 hover:border hover:border-base-300 hover:shadow-lg focus:ring-1 focus:ring-primary/50",tabIndex:0,"aria-label":r,children:z.jsx("div",{className:"card-body pt-0",children:U.createElement(e.component,e.props??{})})},t)})}),Fv=({charts:a})=>z.jsx("div",{className:"flex flex-col gap-4 py-8",children:a.map((e,t)=>{const r=e.props&&typeof e.props.title=="string"?e.props.title:e.component.name?.replace("Chart","")||`Chart ${t+1}`;return z.jsxs("div",{className:"collapse collapse-arrow bg-base-200 focus-within:ring-2 focus-within:ring-primary",children:[z.jsx("input",{type:"checkbox",tabIndex:-1,"aria-hidden":"true"}),z.jsx("div",{className:"collapse-title text-xl font-medium",children:z.jsx("span",{className:"card-title text-lg font-semibold",title:r,children:r})}),z.jsx("div",{className:"collapse-content",children:z.jsx("div",{className:"card shadow-sm border border-base-300",children:z.jsx("div",{className:"card-body",children:U.createElement(e.component,e.props??{})})})})]},t)})});export{Hv as A,Fv as B,Wv as C,tu as D,Vv as E,cu as S,Nv as a,Ch as b,Cu as c,Bv as d,Xh as e,sr as f,co as g,Ho as h,Ph as i,Fo as j,ee as k,Rv as l,Df as m,bu as n,Zc as o,rs as p,_o as q,Gv as r,De as s,zv as t,mt as u,Vo as v,jo as w,Qo as x,$o as y,es as z};
