import{aE as m,aF as o}from"./index-D66rBVsn.js";import{m as g}from"./Pills-CH6JlYRY.js";const C=({min:e,max:r,value:[t,a],onChange:c,step:f=1,className:y="",disabled:i=!1})=>{const b=m.useRef(null),[u,h]=m.useState(null),p=m.useCallback(n=>(n-e)/(r-e)*100,[e,r]),j=p(t),M=p(a),v=m.useCallback(n=>{const s=Math.max(0,Math.min(100,n)),d=e+s/100*(r-e);return Math.round(d/f)*f},[e,r,f]),w=m.useCallback(n=>s=>{i||(s.preventDefault(),h(n),document.body.style.userSelect="none",document.body.style.cursor="grabbing")},[i]),N=m.useCallback(n=>{if(!b.current||u===null)return;const s=b.current.getBoundingClientRect(),d=(n-s.left)/s.width*100,l=v(d);if(u==="start"){const x=Math.min(Math.max(l,e),a);c([x,a])}else{const x=Math.max(Math.min(l,r),t);c([t,x])}},[u,v,e,r,t,a,c]),$=m.useCallback(n=>{if(i||!b.current)return;const s=b.current.getBoundingClientRect(),d=(n.clientX-s.left)/s.width*100,l=v(d),x=Math.abs(l-t),E=Math.abs(l-a);x<E?c([Math.min(l,a),a]):c([t,Math.max(l,t)])},[i,v,t,a,c]);return m.useEffect(()=>{if(u===null)return;const n=d=>{const l="touches"in d?d.touches[0]?.clientX:d.clientX;l!==void 0&&N(l)},s=()=>{h(null),document.body.style.userSelect="",document.body.style.cursor=""};return document.addEventListener("mousemove",n),document.addEventListener("touchmove",n),document.addEventListener("mouseup",s),document.addEventListener("touchend",s),()=>{document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n),document.removeEventListener("mouseup",s),document.removeEventListener("touchend",s)}},[u,N]),o.jsx("div",{className:`flex flex-col gap-3 w-full ${y}`,children:o.jsxs("div",{ref:b,className:`relative h-2 rounded-selector cursor-pointer transition-colors touch-none ${i?"bg-base-300 cursor-not-allowed":"bg-base-300 hover:bg-base-content/20"}`,onClick:$,children:[o.jsx(g.div,{className:"absolute h-full rounded-selector bg-primary",style:{left:`${j}%`,width:`${M-j}%`},transition:{type:"spring",stiffness:300,damping:30}}),o.jsx(g.div,{className:`absolute w-5 h-5 rounded-selector border-2 shadow-lg cursor-grab transition-all duration-200 top-1/2 -translate-y-1/2 ${i?"bg-base-300 border-base-400 cursor-not-allowed":u==="start"?"bg-primary border-primary scale-110 shadow-xl":"bg-primary border-base-100"}`,style:{left:`calc(${j}% - 0.625rem)`},transition:{type:"spring",stiffness:300,damping:30},onMouseDown:w("start"),onTouchStart:w("start"),role:"slider","aria-valuemin":e,"aria-valuemax":a,"aria-valuenow":t,"aria-label":`Start value: ${t}`,children:o.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 badge badge-primary text-xs font-medium px-1.5 py-0.5 rounded-selector shadow-sm border border-base-300 whitespace-nowrap",children:t})}),o.jsx(g.div,{className:`absolute w-5 h-5 rounded-selector border-2 shadow-lg cursor-grab transition-all duration-200 top-1/2 -translate-y-1/2 ${i?"bg-base-300 border-base-400 cursor-not-allowed":u==="end"?"bg-primary border-primary scale-110 shadow-xl":"bg-primary border-base-100"}`,style:{left:`calc(${M}% - 0.625rem)`},transition:{type:"spring",stiffness:300,damping:30},onMouseDown:w("end"),onTouchStart:w("end"),role:"slider","aria-valuemin":t,"aria-valuemax":r,"aria-valuenow":a,"aria-label":`End value: ${a}`,children:o.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 badge badge-primary text-xs font-medium px-1.5 py-0.5 rounded-selector shadow-sm border border-base-300 whitespace-nowrap",children:a})})]})})},S=({value:e,min:r=0,max:t=1e3,onChange:a,label:c="banks",className:f=""})=>{const y=h=>{const p=Math.max(r,Math.min(t,h));a(p)},i=h=>{const p=Number(h.target.value);isNaN(p)||y(p)},b=()=>y(e+1),u=()=>y(e-1);return o.jsxs("div",{className:`join items-center ${f}`,children:[o.jsx(g.button,{type:"button",onClick:u,disabled:e<=r,className:"btn btn-xs btn-primary join-item",whileTap:{scale:.9},title:"Decrease value","aria-label":"Decrease",children:"-"}),o.jsx(g.div,{initial:{y:-20,opacity:0,scale:1.2},animate:{y:0,opacity:1,scale:1},exit:{y:20,opacity:0},transition:{type:"spring",stiffness:300,damping:20,duration:.1},className:"join-item",children:o.jsx("input",{type:"number",min:r,max:t,value:e,onChange:i,className:"input input-xs input-ghost w-10 sm:w-12 text-base-content text-center appearance-none","aria-label":`Show top N ${c}`,title:`Current: ${e}. Min: ${r}, Max: ${t}`})},e),o.jsx(g.button,{type:"button",onClick:b,disabled:e>=t,className:"btn btn-xs btn-primary join-item",whileTap:{scale:1.1},title:"Increase value","aria-label":"Increase",children:"+"}),o.jsx("span",{className:"join-item flex items-center h-8 px-2 py-0 text-sm bg-base-200 text-base-content",children:c})]})};export{C as R,S as T};
